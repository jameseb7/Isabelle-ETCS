%
\begin{isabellebody}%
\setisabellecontext{Truth}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Truth Values and Characteristic Functions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Truth\isanewline
\ \ \isakeyword{imports}\ Equalizer\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
The axiomatization below corresponds to Axiom 5 (Truth-Value Object) in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{axiomatization}\isamarkupfalse%
\isanewline
\ \ true{\isacharunderscore}{\kern0pt}func\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isasymt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ false{\isacharunderscore}{\kern0pt}func\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isasymf}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ truth{\isacharunderscore}{\kern0pt}value{\isacharunderscore}{\kern0pt}set\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isasymOmega}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\isakeyword{where}\isanewline
\ \ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymin}\isactrlsub c\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymf}\ {\isasymin}\isactrlsub c\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymnoteq}\ {\isasymf}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymor}\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ monomorphism\ m\ {\isasymLongrightarrow}\ {\isasymexists}{\isacharbang}{\kern0pt}\ {\isasymchi}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}pullback\ B\ {\isasymone}\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}THE\ {\isasymchi}{\isachardot}{\kern0pt}\ monomorphism\ m\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ {\isasymone}\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}\ \isakeyword{where}\ chi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ {\isasymone}\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ m\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ theI{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ rule\ ex{\isadigit{1}}I{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ a{\isacharequal}{\kern0pt}\ {\isasymchi}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ chi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ monomorphism\ m\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ x\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ chi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ {\isasymone}\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ {\isasymone}\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}equalizes{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equalizer\ B\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}X{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ rule\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}{\isasymOmega}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymbeta}\isactrlbsub B\isactrlesub \ {\isacharequal}{\kern0pt}\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ comm\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isasymLongrightarrow}\ {\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ B\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ comp{\isacharunderscore}{\kern0pt}associative\ comp{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}F\ k\ y{\isachardot}{\kern0pt}\ \ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ B\ {\isasymLongrightarrow}\ y\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ B\ {\isasymLongrightarrow}\ m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\ k\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ m{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ {\isasymone}\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ B\ {\isasymand}\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ id\ {\isasymone}\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ domain\ x\ {\isasymrightarrow}\ domain\ m\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ h\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ domain\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ h{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ domain\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\isactrlsub c\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ {\isasymone}\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ char{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\ \ \ \ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ char{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}true\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ h{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\isanewline
\ \ \ \ \ \ \ \ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.2 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymtimes}\isactrlsub c\ {\isasymOmega}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymtimes}\isactrlsub c\ {\isasymOmega}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}{\isasymt}{\isacharcomma}{\kern0pt}{\isasymt}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}{\isasymt}{\isacharcomma}{\kern0pt}{\isasymf}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}{\isasymf}{\isacharcomma}{\kern0pt}{\isasymt}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}{\isasymf}{\isacharcomma}{\kern0pt}{\isasymf}{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ smt\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}unique\ comp{\isacharunderscore}{\kern0pt}type\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymtimes}\isactrlsub c\ {\isasymOmega}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Equality Predicate%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}THE\ {\isasymchi}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}pullback\ X\ {\isasymone}\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ {\isacharparenleft}{\kern0pt}diagonal\ X{\isacharparenright}{\kern0pt}\ {\isasymchi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ X\ {\isasymone}\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ {\isacharparenleft}{\kern0pt}diagonal\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ the{\isadigit{1}}I{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ diag{\isacharunderscore}{\kern0pt}mono\ diagonal{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}square{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ diagonal\ X\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ safe\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}id\isactrlsub c\ X{\isacharcomma}{\kern0pt}id\isactrlsub c\ X{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}square\ \isacommand{unfolding}\isamarkupfalse%
\ diagonal{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ diagonal{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ diagonal{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ id{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ id\ {\isasymone}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ j\ \ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}diagonal\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}j{\isacharcomma}{\kern0pt}j{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ diag{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}elements\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ j{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isasymnoteq}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ y\ {\isasymLongrightarrow}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isasymnoteq}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymnoteq}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ presburger%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monomorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ one{\isacharunderscore}{\kern0pt}separator{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}{\isasymOmega}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isadigit{1}}\ x{\isadigit{2}}\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ x{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ LHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}\ x{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ x{\isadigit{2}}{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ RHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ insert\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ LHS\ RHS\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isasymnoteq}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ LHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ meson\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}\ {\isasymnoteq}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isasymnoteq}\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ RHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ LHS\ RHS\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeyword{shows}\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharcomma}{\kern0pt}\ id\ X{\isasymrangle}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharcomma}{\kern0pt}\ id\ X{\isasymrangle}\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ fastforce{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Properties of Monomorphisms and Epimorphisms%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.2.3 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ regmono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}monomorphism\ m\ {\isasymLongrightarrow}\ monomorphism\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ regular{\isacharunderscore}{\kern0pt}monomorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.4 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}regmono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ m\ {\isasymLongrightarrow}\ regular{\isacharunderscore}{\kern0pt}monomorphism\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}monomorphism{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ rule\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ monomorphism{\isacharunderscore}{\kern0pt}equalizes{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.5 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}epimorphism\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}isomorphism\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ epi{\isacharunderscore}{\kern0pt}regmon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}regmono\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.8 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}surjective\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ codomain\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ domain\ p\ {\isasymand}\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y{\isadigit{0}}\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isadigit{0}}\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ y{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ y{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}monomorphism\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}\ id\ Y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}\ id\ Y{\isasymrangle}\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ Y\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}type\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gpx{\isacharunderscore}{\kern0pt}Eqs{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ g\ {\isasymcirc}\isactrlsub c\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ g\ {\isasymcirc}\isactrlsub c\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ bwoc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ bwoc\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ comp{\isacharunderscore}{\kern0pt}type\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}h{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hpx{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ h\ {\isasymcirc}\isactrlsub c\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ codomain{\isacharunderscore}{\kern0pt}comp\ comp{\isacharunderscore}{\kern0pt}associative\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gp{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}hp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ p\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ one{\isacharunderscore}{\kern0pt}separator{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}X{\isacharcomma}{\kern0pt}\isakeyword{where}\ Y{\isacharequal}{\kern0pt}{\isasymOmega}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ p\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ p\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ p{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ p{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ g{\isacharunderscore}{\kern0pt}type\ gpx{\isacharunderscore}{\kern0pt}Eqs{\isacharunderscore}{\kern0pt}f\ h{\isacharunderscore}{\kern0pt}type\ hpx{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}f\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}h{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymnoteq}\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}c{\isachardot}{\kern0pt}\ {\isasymbeta}\isactrlbsub codomain\ c\isactrlesub \ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymbeta}\isactrlbsub domain\ c\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}domain\ {\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}id\isactrlsub c\ Y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}codomain\ {\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}id\isactrlsub c\ Y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ Y\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}codomain\ y{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}c{\isachardot}{\kern0pt}\ domain\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ c\ {\isasymtimes}\isactrlsub c\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ y{\isadigit{0}}\ {\isasymnoteq}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{4}}\ f{\isadigit{3}}\ f{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ comp{\isacharunderscore}{\kern0pt}associative\ g{\isacharunderscore}{\kern0pt}def\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gp{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}hp\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ epimorphism{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}f{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}epimorphism\ q{\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ surj{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}surjective\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surjective\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ codomain\ q{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ codomain{\isacharunderscore}{\kern0pt}gy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ y\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}\ z{\isachardot}{\kern0pt}\ z\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ surj{\isacharunderscore}{\kern0pt}f\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ k{\isachardot}{\kern0pt}\ k{\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ y\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ domain\ q{\isadigit{0}}\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9b in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}epimorphism\ q{\isadigit{1}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ surj{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}surjective\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surjective\ q{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ codomain\ q{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ codomain{\isacharunderscore}{\kern0pt}gy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ y\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}\ z{\isachardot}{\kern0pt}\ z\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ g\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ surj{\isacharunderscore}{\kern0pt}g\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ g\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ k{\isachardot}{\kern0pt}\ k{\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ z\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ y{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\ \ \ \ \ \ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ domain\ q{\isadigit{1}}\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9c in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ q{\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ u\ v\ Q\ a\ x\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\ \ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isacharcolon}{\kern0pt}\ \ a\ {\isasymrightarrow}\ x{\isachardoublequoteclose}\ \ \ \ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ equals{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ u{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ v{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}X\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ \ q{\isadigit{1}}\ \ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{1}}\ equals\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ f{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ uniqueness{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ j{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}j\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{2}}\ equals\ uniqueness\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9d in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ q{\isadigit{1}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ u\ v\ Q\ a\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\ \ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ \ a\ {\isasymrightarrow}\ y{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ equals{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ u{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ v{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Y\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ \ q{\isadigit{0}}\ \ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{1}}\ equals\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ f{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ uniqueness{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ j{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}j\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{2}}\ equals\ uniqueness\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Fiber Over an Element and its Connection to the Fibered Product%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The definition below corresponds to Definition 2.2.6 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ fiber\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}{\isasymone}{\isasymrparr}\isactrlbsub y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ {\isasymone}\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ {\isacharcolon}{\kern0pt}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}def\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}def\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}monomorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}monomorphism\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ \ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isasymone}\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ {\isasymone}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ {\isasymone}\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ {\isasymone}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}{\isasymone}{\isasymrparr}\isactrlbsub y\isactrlesub \isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ element{\isacharunderscore}{\kern0pt}monomorphism\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.7 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}surjective{\isacharunderscore}{\kern0pt}has{\isacharunderscore}{\kern0pt}some{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}preimage{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ p{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ p{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}surj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ surjective\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}empty{\isacharparenleft}{\kern0pt}p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ nonempty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nonempty{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ nonempty{\isacharunderscore}{\kern0pt}def\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ y{\isadigit{0}}\ \isakeyword{where}\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isadigit{0}}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}\ x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ p{\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ y{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}nonempty{\isacharparenleft}{\kern0pt}p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nonempty{\isacharparenleft}{\kern0pt}p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ nonempty{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}z{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fiber{\isacharunderscore}{\kern0pt}morphism\ p\ y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ z\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}type\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ z{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ contradiction{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymcirc}\isactrlsub c\ fiber{\isacharunderscore}{\kern0pt}morphism\ p\ y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ y{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}fiber{\isacharunderscore}{\kern0pt}morphism\ p\ y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ z{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ y{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fiber{\isacharunderscore}{\kern0pt}z{\isacharunderscore}{\kern0pt}type\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ contradiction\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ nonempty{\isacharunderscore}{\kern0pt}def\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}prod{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ {\isasymone}\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isasymcong}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub y\isactrlesub {\isasymone}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}monomorphism\ equalizers{\isacharunderscore}{\kern0pt}isomorphic\ f{\isacharunderscore}{\kern0pt}type\ fiber{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}equalizer\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}equalizer\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ moura%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ \isactrlbsub id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub g\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ {\isasymcong}\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub g\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ Y\ X\ X\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ {\isasymcong}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ Y\ X\ Y\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ f\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ is{\isacharunderscore}{\kern0pt}pullback\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to the discussion at the top of page 42 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}connection{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ g{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ g{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\isanewline
\ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gxg{\isacharunderscore}{\kern0pt}fpmorph{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\isanewline
\ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\isanewline
\ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}eq\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}j\ F{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ E\ {\isasymtimes}\isactrlsub c\ E\ {\isasymand}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ \ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ {\isasymtimes}\isactrlsub c\ E\ {\isasymand}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ b\ \isakeyword{where}\ b{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ b{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ f{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ gxg{\isacharunderscore}{\kern0pt}fpmorph{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}E\ {\isasymtimes}\isactrlsub c\ E{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ b\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ safe{\isacharcomma}{\kern0pt}\ metis\ b{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ k\ j\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ g\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f\ k{\isacharunderscore}{\kern0pt}type\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ g\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f\ k{\isacharunderscore}{\kern0pt}type\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharparenright}{\kern0pt}\ X\ X\ Y\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\isanewline
\ \ \ \ \ \ \ \ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ k{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ z{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\ z\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq\ k{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ smt\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}l{\isachardot}{\kern0pt}\ l\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ l\ {\isacharequal}{\kern0pt}\ k\ {\isasymand}\ b\ {\isasymcirc}\isactrlsub c\ l\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isasymcirc}\isactrlsub c\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}eq\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isasymand}\ b\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}monomorphism\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ k{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}\ j\ y{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymLongrightarrow}\ y\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ j\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}monomorphism\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ metis{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}epi\ g{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}surj\ \ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{1}}\ h{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ existence{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}b{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}epi{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ existence\ g{\isacharunderscore}{\kern0pt}eq\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ kern{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}TFAE{\isadigit{2}}\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Set Subtraction%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymsetminus}{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}Y\ {\isasymsetminus}\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ E{\isachardot}{\kern0pt}\ {\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ E\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}snd\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ E\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ equalizer\ E\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ equalizer{\isacharunderscore}{\kern0pt}exists\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}codomain\ m\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain\ m\isactrlesub {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m\isactrlsup c\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}codomain\ m\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain\ m\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}equalizer{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}codomain\ m\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m\isactrlsup c\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain\ m\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m\isactrlsup c\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}m\isactrlsup c\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ m\isactrlsup c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ in{\isacharunderscore}{\kern0pt}complement{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ domain{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}equalizes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymand}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}equalizes{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ in{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\isanewline
\ \ \ \ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}complement{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\isanewline
\ \ \ \ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}disjoint{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub \ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ id\ {\isasymone}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ id\ {\isasymone}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ i{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mi{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ i{\isacharunderscore}{\kern0pt}iso\ i{\isacharunderscore}{\kern0pt}type\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}m\ \isakeyword{where}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharcolon}{\kern0pt}\ C\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}mi\ \isakeyword{where}\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}mi\ {\isacharcolon}{\kern0pt}\ C\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}mi\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}\ c{\isachardot}{\kern0pt}\ c\ {\isasymin}\isactrlsub c\ C\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}mi\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymin}\isactrlsub c\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}c\ {\isasymin}\isactrlbsub C\isactrlesub \ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}mono\ not{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false\ rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\isactrlsub c\ A\ {\isasymand}\ c\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}mono\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ b{\isachardot}{\kern0pt}\ b\ {\isasymin}\isactrlsub c\ B\ {\isasymand}\ c\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}type\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ i{\isacharunderscore}{\kern0pt}iso\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ surjective{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}c\ {\isasymin}\isactrlbsub C\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}iso\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}mi\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}def\ mi{\isacharunderscore}{\kern0pt}mono\ not{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false\ rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}mi\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharequal}{\kern0pt}\ {\isasymchi}mi{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}separator\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}def\ isomorphic{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}reflexive\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ C\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ i{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ B{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymcong}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ im{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ i{\isacharunderscore}{\kern0pt}iso\ i{\isacharunderscore}{\kern0pt}type\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}m\ \isakeyword{where}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}im\ \isakeyword{where}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}im\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}im\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ C\ {\isasymone}\ B\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub C\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymchi}im{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ comp{\isacharunderscore}{\kern0pt}type\ i{\isacharunderscore}{\kern0pt}type\ im{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ C\ {\isasymone}\ A\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub C\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}assocr{\isacharcomma}{\kern0pt}\ metis\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ comp{\isacharunderscore}{\kern0pt}type\ im{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ k\ h\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ {\isasymone}{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\ \isakeyword{and}\ j{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ k{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C\ {\isasymand}\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ k\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}j{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}iso\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ j\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}i{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymchi}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i\ {\isacharequal}{\kern0pt}\ {\isasymchi}m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ m{\isacharunderscore}{\kern0pt}mono\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}\ \isakeyword{where}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ im{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub A\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymchi}im\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ i\isactrlbold {\isasyminverse}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}i{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymchi}m\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ i{\isacharunderscore}{\kern0pt}iso{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymchi}im\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}iso\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inv{\isacharunderscore}{\kern0pt}right\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ im{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub A\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ i{\isacharunderscore}{\kern0pt}iso\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ \isakeyword{where}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isacharcolon}{\kern0pt}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ m{\isacharequal}{\kern0pt}{\isachardoublequoteopen}m{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ X{\isacharequal}{\kern0pt}C{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}A{\isacharbrackright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}iso\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inv{\isacharunderscore}{\kern0pt}right\ m{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ isomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharcomma}{\kern0pt}\ intro\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isacharcolon}{\kern0pt}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id\isactrlsub c\ {\isacharparenleft}{\kern0pt}A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ i{\isacharunderscore}{\kern0pt}iso\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isacharequal}{\kern0pt}\ id\isactrlsub c\ {\isacharparenleft}{\kern0pt}B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ metis\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ im{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcong}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Graphs%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ R\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}R\ \ {\isasymsubseteq}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}\ y{\isachardot}{\kern0pt}\ \ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cY\isactrlesub \ R{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The definition below corresponds to Definition 2.3.12 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ graph\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}graph\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ E{\isachardot}{\kern0pt}\ {\isasymexists}\ m{\isachardot}{\kern0pt}\ equalizer\ E\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymexists}\ m{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ equalizer{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ m{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ graph{\isacharunderscore}{\kern0pt}equalizer{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}morph\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ m{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}morph{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}equalizer{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobject{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ equalizer{\isacharunderscore}{\kern0pt}def\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{3}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}morph{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ graph\ f\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobject\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ assms\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.3.13 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ graphs{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}functional{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ \ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X{\isasymtimes}\isactrlsub c\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ graph{\isacharunderscore}{\kern0pt}subobject{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymLongrightarrow}\ {\isasymexists}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ comp{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobj\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ snd\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ fst\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ graph{\isacharunderscore}{\kern0pt}morph{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ factorsthru\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ xfactorthru{\isacharunderscore}{\kern0pt}equalizer{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}fx{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}gx{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ E\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}graph\ f{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ m\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{where}\ f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ g\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ X\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y\ {\isacharequal}{\kern0pt}\ Y{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{where}\ x\ {\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ \ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ factorsthru\ snd\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x\ y\ ya{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ x\ {\isasymin}\isactrlsub c\ X\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ ya\ {\isasymin}\isactrlsub c\ Y\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}ya{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ y\ {\isacharequal}{\kern0pt}\ ya{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ equalizer{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}isomorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ surj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}surjective{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ codomain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cY\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}z{\isachardot}{\kern0pt}\ z\ {\isasymin}\isactrlsub c\ domain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}injective{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ injective{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r{\isadigit{1}}\ r{\isadigit{2}}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isadigit{1}}\ {\isasymin}\isactrlsub c\ domain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ r{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r{\isadigit{1}}\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isadigit{2}}\ {\isasymin}\isactrlsub c\ domain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ r{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r{\isadigit{2}}\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ mx{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isasymtimes}\isactrlsub cY{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isadigit{1}}\ \isakeyword{and}\ y{\isadigit{1}}\ \isakeyword{where}\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ y{\isadigit{1}}{\isasymrangle}\ {\isasymand}\ x{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ y{\isadigit{1}}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ my{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isasymtimes}\isactrlsub cY{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isadigit{2}}\ \isakeyword{and}\ y{\isadigit{2}}\ \isakeyword{where}\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isadigit{2}}{\isacharcomma}{\kern0pt}\ y{\isadigit{2}}{\isasymrangle}\ {\isasymand}\ x{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ y{\isadigit{2}}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}equal{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ functional{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cY\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}equal{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ prod{\isachardot}{\kern0pt}sel\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs\ mx{\isacharunderscore}{\kern0pt}type\ my{\isacharunderscore}{\kern0pt}type\ r{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ r{\isadigit{2}}{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}equal{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ functional\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs\ monomorphism{\isacharunderscore}{\kern0pt}def\ r{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ r{\isadigit{2}}{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ x{\isacharunderscore}{\kern0pt}equal{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ inj\ injective{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monomorphism\ surj\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.3.14 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}relations{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}graphs{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ f{\isachardot}{\kern0pt}\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymand}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}\ i{\isachardot}{\kern0pt}\ i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ isomorphism{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymand}\ m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ safe\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isomorphism{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}isomorphism\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ R{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlbold {\isasyminverse}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ comp{\isacharunderscore}{\kern0pt}type\ f{\isacharunderscore}{\kern0pt}def\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}type\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inv{\isacharunderscore}{\kern0pt}left\ isomorphism{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}i{\isachardot}{\kern0pt}\ i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f\ {\isasymand}\ isomorphism\ i\ {\isasymand}\ m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}f{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ safe{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}type\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ h\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ graph\ f\ {\isasymand}\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isacharequal}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ eq\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surjective\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ surjective{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ graph\ f{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharunderscore}{\kern0pt}y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}z\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ z\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}R\ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}asm\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ left{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}eq\ \isacommand{using}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ graph{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ left{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ graph{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ graph{\isacharunderscore}{\kern0pt}equalizer\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ R\ {\isasymand}\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic{\isacharprime}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ f{\isacharunderscore}{\kern0pt}type\ graph{\isacharunderscore}{\kern0pt}morph{\isacharunderscore}{\kern0pt}type\ i{\isacharunderscore}{\kern0pt}eq\ i{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}mono\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}{\kern0pt}\ i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f\ {\isasymand}\ isomorphism\ i\ {\isasymand}\ m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ exI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ x{\isacharequal}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ i{\isacharunderscore}{\kern0pt}type\ i{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ f{\isadigit{1}}\ f{\isadigit{2}}\ i{\isadigit{1}}\ i{\isadigit{2}}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{1}}{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{2}}{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ eq{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ eq{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isomorphism{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}isomorphism\ \isacommand{by}\isamarkupfalse%
\ force\ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ R{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlbold {\isasyminverse}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ eq{\isadigit{1}}\ eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ equalizer{\isacharunderscore}{\kern0pt}def\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ eq{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ equalizer{\isacharunderscore}{\kern0pt}eq\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ eq{\isadigit{1}}\ eq{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ f{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ h{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inverse{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ isomorphism{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/ETCS/Category_Set/Truth.thy%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%39=7%:%
%:%41=8%:%
%:%42=8%:%
%:%43=9%:%
%:%44=10%:%
%:%45=11%:%
%:%46=12%:%
%:%47=13%:%
%:%48=14%:%
%:%49=15%:%
%:%50=16%:%
%:%51=17%:%
%:%52=18%:%
%:%53=19%:%
%:%54=20%:%
%:%55=20%:%
%:%56=21%:%
%:%57=22%:%
%:%58=23%:%
%:%59=24%:%
%:%60=24%:%
%:%61=25%:%
%:%62=26%:%
%:%69=27%:%
%:%70=27%:%
%:%71=28%:%
%:%72=28%:%
%:%73=29%:%
%:%74=29%:%
%:%75=29%:%
%:%76=30%:%
%:%77=31%:%
%:%78=31%:%
%:%79=32%:%
%:%80=32%:%
%:%81=33%:%
%:%82=33%:%
%:%83=34%:%
%:%84=34%:%
%:%85=35%:%
%:%86=35%:%
%:%87=35%:%
%:%88=36%:%
%:%89=36%:%
%:%90=37%:%
%:%91=37%:%
%:%92=37%:%
%:%93=38%:%
%:%94=38%:%
%:%95=39%:%
%:%96=39%:%
%:%97=39%:%
%:%98=40%:%
%:%99=40%:%
%:%100=40%:%
%:%101=41%:%
%:%107=41%:%
%:%110=42%:%
%:%111=43%:%
%:%112=43%:%
%:%113=44%:%
%:%114=45%:%
%:%121=46%:%
%:%122=46%:%
%:%123=47%:%
%:%124=47%:%
%:%125=48%:%
%:%126=48%:%
%:%127=48%:%
%:%128=49%:%
%:%129=49%:%
%:%130=49%:%
%:%131=50%:%
%:%132=50%:%
%:%133=50%:%
%:%134=51%:%
%:%140=51%:%
%:%143=52%:%
%:%144=53%:%
%:%145=53%:%
%:%146=54%:%
%:%147=55%:%
%:%150=56%:%
%:%154=56%:%
%:%155=56%:%
%:%156=56%:%
%:%157=56%:%
%:%162=56%:%
%:%165=57%:%
%:%166=58%:%
%:%167=58%:%
%:%168=59%:%
%:%169=60%:%
%:%172=61%:%
%:%176=61%:%
%:%177=61%:%
%:%178=62%:%
%:%179=62%:%
%:%180=63%:%
%:%181=63%:%
%:%182=64%:%
%:%183=64%:%
%:%184=65%:%
%:%185=65%:%
%:%186=66%:%
%:%187=66%:%
%:%188=67%:%
%:%189=67%:%
%:%190=68%:%
%:%191=68%:%
%:%192=69%:%
%:%193=69%:%
%:%194=70%:%
%:%195=70%:%
%:%196=70%:%
%:%197=71%:%
%:%198=71%:%
%:%199=71%:%
%:%200=72%:%
%:%201=72%:%
%:%202=72%:%
%:%203=73%:%
%:%204=73%:%
%:%205=73%:%
%:%206=74%:%
%:%207=74%:%
%:%208=74%:%
%:%209=75%:%
%:%210=75%:%
%:%211=76%:%
%:%212=76%:%
%:%213=77%:%
%:%214=77%:%
%:%215=78%:%
%:%216=78%:%
%:%217=79%:%
%:%218=79%:%
%:%219=80%:%
%:%220=80%:%
%:%221=81%:%
%:%227=81%:%
%:%230=82%:%
%:%231=83%:%
%:%232=83%:%
%:%233=84%:%
%:%234=85%:%
%:%235=86%:%
%:%238=87%:%
%:%242=87%:%
%:%243=87%:%
%:%244=88%:%
%:%245=88%:%
%:%246=89%:%
%:%247=89%:%
%:%248=90%:%
%:%249=90%:%
%:%250=91%:%
%:%251=91%:%
%:%252=91%:%
%:%253=92%:%
%:%254=92%:%
%:%255=92%:%
%:%256=92%:%
%:%257=93%:%
%:%258=93%:%
%:%259=93%:%
%:%260=94%:%
%:%261=94%:%
%:%262=94%:%
%:%263=95%:%
%:%269=95%:%
%:%272=96%:%
%:%273=97%:%
%:%274=97%:%
%:%275=98%:%
%:%276=99%:%
%:%277=100%:%
%:%280=101%:%
%:%284=101%:%
%:%285=101%:%
%:%286=102%:%
%:%287=102%:%
%:%288=103%:%
%:%289=103%:%
%:%290=104%:%
%:%291=104%:%
%:%292=105%:%
%:%293=105%:%
%:%294=106%:%
%:%295=106%:%
%:%296=106%:%
%:%297=107%:%
%:%298=107%:%
%:%299=107%:%
%:%300=108%:%
%:%301=109%:%
%:%302=109%:%
%:%303=110%:%
%:%304=110%:%
%:%305=111%:%
%:%306=111%:%
%:%307=111%:%
%:%308=112%:%
%:%309=112%:%
%:%310=112%:%
%:%311=113%:%
%:%312=114%:%
%:%313=114%:%
%:%314=114%:%
%:%315=115%:%
%:%316=115%:%
%:%317=115%:%
%:%318=116%:%
%:%319=116%:%
%:%320=116%:%
%:%321=117%:%
%:%322=117%:%
%:%323=117%:%
%:%324=118%:%
%:%325=118%:%
%:%326=118%:%
%:%327=119%:%
%:%328=119%:%
%:%329=119%:%
%:%330=120%:%
%:%331=120%:%
%:%332=120%:%
%:%333=121%:%
%:%334=121%:%
%:%335=122%:%
%:%336=123%:%
%:%337=123%:%
%:%338=123%:%
%:%339=124%:%
%:%340=124%:%
%:%341=124%:%
%:%342=125%:%
%:%348=125%:%
%:%351=126%:%
%:%352=127%:%
%:%353=127%:%
%:%354=128%:%
%:%355=129%:%
%:%356=130%:%
%:%359=131%:%
%:%363=131%:%
%:%364=131%:%
%:%369=131%:%
%:%372=132%:%
%:%373=133%:%
%:%374=133%:%
%:%375=134%:%
%:%376=135%:%
%:%377=136%:%
%:%380=137%:%
%:%384=137%:%
%:%385=137%:%
%:%394=139%:%
%:%396=140%:%
%:%397=140%:%
%:%404=141%:%
%:%405=141%:%
%:%406=142%:%
%:%407=142%:%
%:%408=143%:%
%:%409=143%:%
%:%410=144%:%
%:%411=145%:%
%:%412=145%:%
%:%413=145%:%
%:%414=146%:%
%:%415=146%:%
%:%416=146%:%
%:%417=147%:%
%:%432=149%:%
%:%442=151%:%
%:%443=151%:%
%:%444=152%:%
%:%445=153%:%
%:%446=154%:%
%:%447=154%:%
%:%450=155%:%
%:%454=155%:%
%:%455=155%:%
%:%456=156%:%
%:%457=156%:%
%:%462=156%:%
%:%465=157%:%
%:%466=158%:%
%:%467=158%:%
%:%468=159%:%
%:%471=160%:%
%:%475=160%:%
%:%476=160%:%
%:%477=160%:%
%:%478=160%:%
%:%483=160%:%
%:%486=161%:%
%:%487=162%:%
%:%488=162%:%
%:%491=163%:%
%:%495=163%:%
%:%496=163%:%
%:%497=163%:%
%:%498=163%:%
%:%503=163%:%
%:%506=164%:%
%:%507=165%:%
%:%508=165%:%
%:%509=166%:%
%:%510=167%:%
%:%517=168%:%
%:%518=168%:%
%:%519=169%:%
%:%520=169%:%
%:%521=170%:%
%:%522=171%:%
%:%523=171%:%
%:%524=172%:%
%:%525=172%:%
%:%526=172%:%
%:%527=172%:%
%:%528=173%:%
%:%529=173%:%
%:%530=173%:%
%:%531=174%:%
%:%532=174%:%
%:%533=175%:%
%:%534=175%:%
%:%535=176%:%
%:%536=176%:%
%:%537=176%:%
%:%538=177%:%
%:%539=177%:%
%:%540=178%:%
%:%541=178%:%
%:%542=179%:%
%:%543=179%:%
%:%544=180%:%
%:%545=180%:%
%:%546=181%:%
%:%547=181%:%
%:%548=181%:%
%:%549=182%:%
%:%550=182%:%
%:%551=182%:%
%:%552=183%:%
%:%553=183%:%
%:%554=183%:%
%:%555=184%:%
%:%556=184%:%
%:%557=184%:%
%:%558=184%:%
%:%559=185%:%
%:%560=185%:%
%:%561=185%:%
%:%562=186%:%
%:%563=186%:%
%:%564=186%:%
%:%565=187%:%
%:%566=187%:%
%:%567=187%:%
%:%568=188%:%
%:%569=188%:%
%:%570=188%:%
%:%571=189%:%
%:%577=189%:%
%:%580=190%:%
%:%581=191%:%
%:%582=191%:%
%:%583=192%:%
%:%584=193%:%
%:%591=194%:%
%:%592=194%:%
%:%593=195%:%
%:%594=195%:%
%:%595=196%:%
%:%596=196%:%
%:%597=196%:%
%:%598=197%:%
%:%599=197%:%
%:%600=197%:%
%:%601=198%:%
%:%602=198%:%
%:%603=199%:%
%:%604=199%:%
%:%605=200%:%
%:%606=200%:%
%:%607=201%:%
%:%613=201%:%
%:%616=202%:%
%:%617=203%:%
%:%618=203%:%
%:%619=204%:%
%:%620=205%:%
%:%623=206%:%
%:%627=206%:%
%:%628=206%:%
%:%629=206%:%
%:%634=206%:%
%:%637=207%:%
%:%638=208%:%
%:%639=208%:%
%:%640=209%:%
%:%641=210%:%
%:%648=211%:%
%:%649=211%:%
%:%650=212%:%
%:%651=212%:%
%:%652=213%:%
%:%653=213%:%
%:%654=214%:%
%:%655=214%:%
%:%656=215%:%
%:%657=215%:%
%:%658=216%:%
%:%659=216%:%
%:%660=217%:%
%:%661=217%:%
%:%662=218%:%
%:%663=218%:%
%:%664=219%:%
%:%665=219%:%
%:%666=219%:%
%:%667=220%:%
%:%668=220%:%
%:%669=220%:%
%:%670=221%:%
%:%671=221%:%
%:%672=222%:%
%:%673=222%:%
%:%674=223%:%
%:%675=223%:%
%:%676=224%:%
%:%677=224%:%
%:%678=225%:%
%:%679=225%:%
%:%680=225%:%
%:%681=226%:%
%:%682=226%:%
%:%683=227%:%
%:%684=227%:%
%:%685=227%:%
%:%686=228%:%
%:%687=228%:%
%:%688=229%:%
%:%689=229%:%
%:%690=229%:%
%:%691=230%:%
%:%692=230%:%
%:%693=231%:%
%:%694=231%:%
%:%695=231%:%
%:%696=232%:%
%:%697=232%:%
%:%698=232%:%
%:%699=233%:%
%:%700=233%:%
%:%701=233%:%
%:%702=234%:%
%:%703=234%:%
%:%704=235%:%
%:%705=235%:%
%:%706=236%:%
%:%707=236%:%
%:%708=236%:%
%:%709=237%:%
%:%710=237%:%
%:%711=238%:%
%:%712=238%:%
%:%713=239%:%
%:%714=239%:%
%:%715=239%:%
%:%716=240%:%
%:%717=240%:%
%:%718=241%:%
%:%719=241%:%
%:%720=241%:%
%:%721=242%:%
%:%722=242%:%
%:%723=243%:%
%:%724=243%:%
%:%725=243%:%
%:%726=244%:%
%:%727=244%:%
%:%728=245%:%
%:%729=245%:%
%:%730=245%:%
%:%731=246%:%
%:%732=246%:%
%:%733=246%:%
%:%734=247%:%
%:%735=247%:%
%:%736=247%:%
%:%737=248%:%
%:%738=248%:%
%:%739=249%:%
%:%740=249%:%
%:%741=249%:%
%:%742=250%:%
%:%743=250%:%
%:%744=250%:%
%:%745=251%:%
%:%746=251%:%
%:%747=252%:%
%:%748=252%:%
%:%749=252%:%
%:%750=253%:%
%:%751=253%:%
%:%752=254%:%
%:%758=254%:%
%:%761=255%:%
%:%762=256%:%
%:%763=256%:%
%:%764=257%:%
%:%765=258%:%
%:%768=259%:%
%:%772=259%:%
%:%773=259%:%
%:%774=259%:%
%:%779=259%:%
%:%782=260%:%
%:%783=261%:%
%:%784=261%:%
%:%785=262%:%
%:%786=263%:%
%:%789=264%:%
%:%793=264%:%
%:%794=264%:%
%:%795=264%:%
%:%809=266%:%
%:%821=268%:%
%:%823=269%:%
%:%824=269%:%
%:%827=270%:%
%:%831=270%:%
%:%832=270%:%
%:%833=270%:%
%:%842=272%:%
%:%844=273%:%
%:%845=273%:%
%:%846=274%:%
%:%849=275%:%
%:%853=275%:%
%:%854=275%:%
%:%855=276%:%
%:%856=276%:%
%:%857=277%:%
%:%858=278%:%
%:%867=280%:%
%:%869=281%:%
%:%870=281%:%
%:%871=282%:%
%:%872=283%:%
%:%875=284%:%
%:%879=284%:%
%:%880=284%:%
%:%881=284%:%
%:%890=286%:%
%:%892=287%:%
%:%893=287%:%
%:%894=288%:%
%:%895=289%:%
%:%898=290%:%
%:%902=290%:%
%:%903=290%:%
%:%904=291%:%
%:%905=291%:%
%:%906=292%:%
%:%907=292%:%
%:%908=293%:%
%:%909=293%:%
%:%910=294%:%
%:%911=294%:%
%:%912=294%:%
%:%913=295%:%
%:%914=295%:%
%:%915=295%:%
%:%916=296%:%
%:%917=296%:%
%:%918=297%:%
%:%919=297%:%
%:%920=298%:%
%:%921=298%:%
%:%922=298%:%
%:%923=299%:%
%:%924=299%:%
%:%925=300%:%
%:%926=300%:%
%:%927=301%:%
%:%928=301%:%
%:%929=302%:%
%:%930=302%:%
%:%931=303%:%
%:%932=303%:%
%:%933=303%:%
%:%934=304%:%
%:%935=304%:%
%:%936=304%:%
%:%937=305%:%
%:%938=306%:%
%:%939=306%:%
%:%940=307%:%
%:%941=307%:%
%:%942=308%:%
%:%943=308%:%
%:%944=309%:%
%:%945=309%:%
%:%946=309%:%
%:%947=310%:%
%:%948=310%:%
%:%949=311%:%
%:%950=312%:%
%:%951=312%:%
%:%952=313%:%
%:%953=313%:%
%:%954=314%:%
%:%955=314%:%
%:%956=315%:%
%:%957=315%:%
%:%958=316%:%
%:%959=316%:%
%:%960=317%:%
%:%961=317%:%
%:%962=318%:%
%:%963=318%:%
%:%964=319%:%
%:%965=319%:%
%:%966=320%:%
%:%967=320%:%
%:%968=321%:%
%:%969=321%:%
%:%970=322%:%
%:%971=322%:%
%:%972=322%:%
%:%973=323%:%
%:%974=323%:%
%:%975=324%:%
%:%976=324%:%
%:%977=324%:%
%:%978=325%:%
%:%979=325%:%
%:%980=326%:%
%:%981=326%:%
%:%982=326%:%
%:%983=327%:%
%:%984=327%:%
%:%985=328%:%
%:%986=328%:%
%:%987=329%:%
%:%988=329%:%
%:%989=330%:%
%:%990=330%:%
%:%991=331%:%
%:%992=331%:%
%:%993=332%:%
%:%994=332%:%
%:%995=333%:%
%:%996=333%:%
%:%997=333%:%
%:%998=334%:%
%:%999=334%:%
%:%1000=335%:%
%:%1001=335%:%
%:%1002=335%:%
%:%1003=336%:%
%:%1004=336%:%
%:%1005=337%:%
%:%1006=337%:%
%:%1007=337%:%
%:%1008=338%:%
%:%1009=338%:%
%:%1010=339%:%
%:%1011=339%:%
%:%1012=339%:%
%:%1013=340%:%
%:%1014=340%:%
%:%1015=340%:%
%:%1016=341%:%
%:%1017=341%:%
%:%1018=341%:%
%:%1019=342%:%
%:%1020=342%:%
%:%1021=342%:%
%:%1022=343%:%
%:%1023=343%:%
%:%1024=343%:%
%:%1025=344%:%
%:%1026=344%:%
%:%1027=345%:%
%:%1028=345%:%
%:%1029=345%:%
%:%1030=346%:%
%:%1031=346%:%
%:%1032=346%:%
%:%1033=347%:%
%:%1043=349%:%
%:%1045=350%:%
%:%1046=350%:%
%:%1047=351%:%
%:%1048=352%:%
%:%1055=353%:%
%:%1056=353%:%
%:%1057=354%:%
%:%1058=354%:%
%:%1059=355%:%
%:%1060=355%:%
%:%1061=355%:%
%:%1062=356%:%
%:%1063=356%:%
%:%1064=357%:%
%:%1065=357%:%
%:%1066=358%:%
%:%1067=358%:%
%:%1068=359%:%
%:%1069=359%:%
%:%1070=360%:%
%:%1071=360%:%
%:%1072=361%:%
%:%1073=361%:%
%:%1074=361%:%
%:%1075=362%:%
%:%1076=362%:%
%:%1077=362%:%
%:%1078=363%:%
%:%1079=363%:%
%:%1080=363%:%
%:%1081=364%:%
%:%1082=364%:%
%:%1083=364%:%
%:%1084=365%:%
%:%1085=365%:%
%:%1086=365%:%
%:%1087=366%:%
%:%1088=366%:%
%:%1089=367%:%
%:%1090=367%:%
%:%1091=367%:%
%:%1092=368%:%
%:%1093=368%:%
%:%1094=369%:%
%:%1095=369%:%
%:%1096=369%:%
%:%1097=370%:%
%:%1098=370%:%
%:%1099=370%:%
%:%1100=371%:%
%:%1101=371%:%
%:%1102=372%:%
%:%1103=372%:%
%:%1104=372%:%
%:%1105=373%:%
%:%1106=373%:%
%:%1107=373%:%
%:%1108=374%:%
%:%1118=376%:%
%:%1120=377%:%
%:%1121=377%:%
%:%1122=378%:%
%:%1123=379%:%
%:%1130=380%:%
%:%1131=380%:%
%:%1132=381%:%
%:%1133=381%:%
%:%1134=382%:%
%:%1135=382%:%
%:%1136=382%:%
%:%1137=383%:%
%:%1138=383%:%
%:%1139=384%:%
%:%1140=384%:%
%:%1141=385%:%
%:%1142=385%:%
%:%1143=386%:%
%:%1144=386%:%
%:%1145=387%:%
%:%1146=387%:%
%:%1147=388%:%
%:%1148=388%:%
%:%1149=388%:%
%:%1150=389%:%
%:%1151=389%:%
%:%1152=389%:%
%:%1153=390%:%
%:%1154=390%:%
%:%1155=390%:%
%:%1156=391%:%
%:%1157=391%:%
%:%1158=391%:%
%:%1159=392%:%
%:%1160=392%:%
%:%1161=392%:%
%:%1162=393%:%
%:%1163=393%:%
%:%1164=394%:%
%:%1165=394%:%
%:%1166=394%:%
%:%1167=395%:%
%:%1168=395%:%
%:%1169=396%:%
%:%1170=396%:%
%:%1171=396%:%
%:%1172=397%:%
%:%1173=397%:%
%:%1174=397%:%
%:%1175=398%:%
%:%1176=398%:%
%:%1177=399%:%
%:%1178=399%:%
%:%1179=399%:%
%:%1180=400%:%
%:%1181=400%:%
%:%1182=400%:%
%:%1183=401%:%
%:%1193=403%:%
%:%1195=404%:%
%:%1196=404%:%
%:%1197=405%:%
%:%1198=406%:%
%:%1201=407%:%
%:%1205=407%:%
%:%1206=407%:%
%:%1207=408%:%
%:%1208=408%:%
%:%1209=409%:%
%:%1210=409%:%
%:%1211=410%:%
%:%1212=410%:%
%:%1213=411%:%
%:%1214=411%:%
%:%1215=412%:%
%:%1216=412%:%
%:%1217=413%:%
%:%1218=413%:%
%:%1219=414%:%
%:%1220=415%:%
%:%1221=415%:%
%:%1222=416%:%
%:%1223=416%:%
%:%1224=416%:%
%:%1225=417%:%
%:%1226=417%:%
%:%1227=418%:%
%:%1228=418%:%
%:%1229=418%:%
%:%1230=419%:%
%:%1231=419%:%
%:%1232=420%:%
%:%1233=420%:%
%:%1234=420%:%
%:%1235=421%:%
%:%1236=421%:%
%:%1237=422%:%
%:%1238=422%:%
%:%1239=422%:%
%:%1240=423%:%
%:%1241=423%:%
%:%1242=424%:%
%:%1243=424%:%
%:%1244=424%:%
%:%1245=425%:%
%:%1246=426%:%
%:%1247=426%:%
%:%1248=427%:%
%:%1249=427%:%
%:%1250=428%:%
%:%1251=428%:%
%:%1252=429%:%
%:%1253=429%:%
%:%1254=430%:%
%:%1255=430%:%
%:%1256=430%:%
%:%1257=431%:%
%:%1258=431%:%
%:%1259=431%:%
%:%1260=432%:%
%:%1261=432%:%
%:%1262=432%:%
%:%1263=433%:%
%:%1264=433%:%
%:%1265=434%:%
%:%1266=434%:%
%:%1267=435%:%
%:%1268=436%:%
%:%1269=436%:%
%:%1270=437%:%
%:%1271=437%:%
%:%1272=438%:%
%:%1273=438%:%
%:%1274=439%:%
%:%1275=439%:%
%:%1276=439%:%
%:%1277=440%:%
%:%1278=440%:%
%:%1279=440%:%
%:%1280=441%:%
%:%1281=441%:%
%:%1282=442%:%
%:%1283=442%:%
%:%1284=442%:%
%:%1285=443%:%
%:%1286=443%:%
%:%1287=443%:%
%:%1288=444%:%
%:%1289=444%:%
%:%1290=444%:%
%:%1291=445%:%
%:%1292=445%:%
%:%1293=446%:%
%:%1294=446%:%
%:%1295=447%:%
%:%1296=448%:%
%:%1297=448%:%
%:%1298=449%:%
%:%1299=449%:%
%:%1300=450%:%
%:%1301=450%:%
%:%1302=450%:%
%:%1303=451%:%
%:%1304=451%:%
%:%1305=451%:%
%:%1306=452%:%
%:%1316=454%:%
%:%1318=455%:%
%:%1319=455%:%
%:%1320=456%:%
%:%1321=457%:%
%:%1324=458%:%
%:%1328=458%:%
%:%1329=458%:%
%:%1330=459%:%
%:%1331=459%:%
%:%1332=460%:%
%:%1333=460%:%
%:%1334=461%:%
%:%1335=461%:%
%:%1336=462%:%
%:%1337=462%:%
%:%1338=463%:%
%:%1339=463%:%
%:%1340=464%:%
%:%1341=464%:%
%:%1342=465%:%
%:%1343=466%:%
%:%1344=466%:%
%:%1345=467%:%
%:%1346=467%:%
%:%1347=467%:%
%:%1348=468%:%
%:%1349=468%:%
%:%1350=469%:%
%:%1351=469%:%
%:%1352=469%:%
%:%1353=470%:%
%:%1354=470%:%
%:%1355=471%:%
%:%1356=471%:%
%:%1357=471%:%
%:%1358=472%:%
%:%1359=472%:%
%:%1360=473%:%
%:%1361=473%:%
%:%1362=473%:%
%:%1363=474%:%
%:%1364=474%:%
%:%1365=475%:%
%:%1366=475%:%
%:%1367=475%:%
%:%1368=476%:%
%:%1369=477%:%
%:%1370=477%:%
%:%1371=478%:%
%:%1372=478%:%
%:%1373=479%:%
%:%1374=479%:%
%:%1375=480%:%
%:%1376=480%:%
%:%1377=481%:%
%:%1378=481%:%
%:%1379=481%:%
%:%1380=482%:%
%:%1381=482%:%
%:%1382=482%:%
%:%1383=483%:%
%:%1384=483%:%
%:%1385=483%:%
%:%1386=484%:%
%:%1387=484%:%
%:%1388=485%:%
%:%1389=485%:%
%:%1390=486%:%
%:%1391=487%:%
%:%1392=487%:%
%:%1393=488%:%
%:%1394=488%:%
%:%1395=489%:%
%:%1396=489%:%
%:%1397=490%:%
%:%1398=490%:%
%:%1399=490%:%
%:%1400=491%:%
%:%1401=491%:%
%:%1402=491%:%
%:%1403=492%:%
%:%1404=492%:%
%:%1405=493%:%
%:%1406=493%:%
%:%1407=493%:%
%:%1408=494%:%
%:%1409=494%:%
%:%1410=494%:%
%:%1411=495%:%
%:%1412=495%:%
%:%1413=495%:%
%:%1414=496%:%
%:%1415=496%:%
%:%1416=497%:%
%:%1417=497%:%
%:%1418=498%:%
%:%1419=498%:%
%:%1420=499%:%
%:%1421=499%:%
%:%1422=500%:%
%:%1423=500%:%
%:%1424=500%:%
%:%1425=501%:%
%:%1426=501%:%
%:%1427=501%:%
%:%1428=502%:%
%:%1443=504%:%
%:%1455=506%:%
%:%1457=507%:%
%:%1458=507%:%
%:%1459=508%:%
%:%1460=509%:%
%:%1461=510%:%
%:%1462=510%:%
%:%1463=511%:%
%:%1464=512%:%
%:%1465=513%:%
%:%1466=513%:%
%:%1467=514%:%
%:%1468=515%:%
%:%1471=516%:%
%:%1475=516%:%
%:%1476=516%:%
%:%1477=517%:%
%:%1478=517%:%
%:%1479=518%:%
%:%1480=518%:%
%:%1485=518%:%
%:%1488=519%:%
%:%1489=520%:%
%:%1490=520%:%
%:%1491=521%:%
%:%1492=522%:%
%:%1495=523%:%
%:%1499=523%:%
%:%1500=523%:%
%:%1501=524%:%
%:%1502=524%:%
%:%1503=525%:%
%:%1504=525%:%
%:%1509=525%:%
%:%1512=526%:%
%:%1513=527%:%
%:%1514=527%:%
%:%1515=528%:%
%:%1516=529%:%
%:%1519=530%:%
%:%1523=530%:%
%:%1524=530%:%
%:%1525=530%:%
%:%1530=530%:%
%:%1533=531%:%
%:%1534=532%:%
%:%1535=532%:%
%:%1536=533%:%
%:%1537=534%:%
%:%1544=535%:%
%:%1545=535%:%
%:%1546=536%:%
%:%1547=536%:%
%:%1548=537%:%
%:%1549=537%:%
%:%1550=537%:%
%:%1551=538%:%
%:%1552=538%:%
%:%1553=538%:%
%:%1554=539%:%
%:%1555=539%:%
%:%1556=539%:%
%:%1557=540%:%
%:%1558=540%:%
%:%1559=540%:%
%:%1560=541%:%
%:%1561=541%:%
%:%1562=541%:%
%:%1563=542%:%
%:%1564=542%:%
%:%1565=542%:%
%:%1566=543%:%
%:%1567=543%:%
%:%1568=543%:%
%:%1569=544%:%
%:%1570=544%:%
%:%1571=544%:%
%:%1572=545%:%
%:%1573=545%:%
%:%1574=545%:%
%:%1575=546%:%
%:%1585=548%:%
%:%1587=549%:%
%:%1588=549%:%
%:%1589=550%:%
%:%1590=551%:%
%:%1597=552%:%
%:%1598=552%:%
%:%1599=553%:%
%:%1600=553%:%
%:%1601=554%:%
%:%1602=554%:%
%:%1603=554%:%
%:%1604=555%:%
%:%1605=555%:%
%:%1606=556%:%
%:%1607=556%:%
%:%1608=556%:%
%:%1609=557%:%
%:%1610=558%:%
%:%1611=558%:%
%:%1612=559%:%
%:%1613=559%:%
%:%1614=560%:%
%:%1615=560%:%
%:%1616=561%:%
%:%1617=561%:%
%:%1618=562%:%
%:%1619=562%:%
%:%1620=562%:%
%:%1621=563%:%
%:%1622=563%:%
%:%1623=564%:%
%:%1624=564%:%
%:%1625=564%:%
%:%1626=565%:%
%:%1627=565%:%
%:%1628=566%:%
%:%1629=566%:%
%:%1630=567%:%
%:%1631=567%:%
%:%1632=568%:%
%:%1633=568%:%
%:%1634=569%:%
%:%1635=569%:%
%:%1636=569%:%
%:%1637=570%:%
%:%1638=570%:%
%:%1639=570%:%
%:%1640=571%:%
%:%1641=571%:%
%:%1642=572%:%
%:%1643=572%:%
%:%1644=572%:%
%:%1645=573%:%
%:%1646=573%:%
%:%1647=573%:%
%:%1648=574%:%
%:%1654=574%:%
%:%1657=575%:%
%:%1658=576%:%
%:%1659=576%:%
%:%1660=577%:%
%:%1661=578%:%
%:%1662=579%:%
%:%1665=580%:%
%:%1669=580%:%
%:%1670=580%:%
%:%1671=580%:%
%:%1676=580%:%
%:%1679=581%:%
%:%1680=582%:%
%:%1681=582%:%
%:%1682=583%:%
%:%1683=584%:%
%:%1690=585%:%
%:%1691=585%:%
%:%1692=586%:%
%:%1693=586%:%
%:%1694=587%:%
%:%1695=587%:%
%:%1696=587%:%
%:%1697=588%:%
%:%1698=588%:%
%:%1699=588%:%
%:%1700=589%:%
%:%1701=589%:%
%:%1702=589%:%
%:%1703=590%:%
%:%1704=590%:%
%:%1705=591%:%
%:%1706=591%:%
%:%1707=592%:%
%:%1708=592%:%
%:%1709=592%:%
%:%1710=593%:%
%:%1711=593%:%
%:%1712=594%:%
%:%1713=594%:%
%:%1714=594%:%
%:%1715=595%:%
%:%1716=595%:%
%:%1717=595%:%
%:%1718=596%:%
%:%1724=596%:%
%:%1727=597%:%
%:%1728=598%:%
%:%1729=598%:%
%:%1730=599%:%
%:%1731=600%:%
%:%1738=601%:%
%:%1739=601%:%
%:%1740=602%:%
%:%1741=602%:%
%:%1742=603%:%
%:%1743=603%:%
%:%1744=603%:%
%:%1745=604%:%
%:%1746=605%:%
%:%1747=605%:%
%:%1748=605%:%
%:%1749=606%:%
%:%1750=606%:%
%:%1751=606%:%
%:%1752=607%:%
%:%1753=607%:%
%:%1754=608%:%
%:%1755=608%:%
%:%1756=609%:%
%:%1757=609%:%
%:%1758=609%:%
%:%1759=610%:%
%:%1760=610%:%
%:%1761=611%:%
%:%1762=611%:%
%:%1763=611%:%
%:%1764=612%:%
%:%1765=612%:%
%:%1766=612%:%
%:%1767=613%:%
%:%1777=615%:%
%:%1779=616%:%
%:%1780=616%:%
%:%1781=617%:%
%:%1782=618%:%
%:%1783=619%:%
%:%1784=620%:%
%:%1785=621%:%
%:%1786=622%:%
%:%1789=625%:%
%:%1796=626%:%
%:%1797=626%:%
%:%1798=627%:%
%:%1799=627%:%
%:%1800=628%:%
%:%1801=629%:%
%:%1802=629%:%
%:%1803=630%:%
%:%1804=630%:%
%:%1805=631%:%
%:%1806=632%:%
%:%1807=632%:%
%:%1808=633%:%
%:%1809=633%:%
%:%1810=633%:%
%:%1811=634%:%
%:%1812=634%:%
%:%1813=635%:%
%:%1814=635%:%
%:%1815=635%:%
%:%1816=636%:%
%:%1817=636%:%
%:%1818=637%:%
%:%1819=637%:%
%:%1820=637%:%
%:%1821=638%:%
%:%1822=638%:%
%:%1823=639%:%
%:%1824=639%:%
%:%1825=639%:%
%:%1826=640%:%
%:%1827=640%:%
%:%1828=640%:%
%:%1829=641%:%
%:%1830=641%:%
%:%1831=641%:%
%:%1832=642%:%
%:%1833=642%:%
%:%1834=643%:%
%:%1835=643%:%
%:%1836=643%:%
%:%1837=644%:%
%:%1838=644%:%
%:%1839=645%:%
%:%1840=645%:%
%:%1841=645%:%
%:%1842=646%:%
%:%1843=646%:%
%:%1844=647%:%
%:%1845=647%:%
%:%1846=647%:%
%:%1847=648%:%
%:%1848=648%:%
%:%1849=649%:%
%:%1850=649%:%
%:%1851=649%:%
%:%1852=650%:%
%:%1853=650%:%
%:%1854=650%:%
%:%1855=651%:%
%:%1856=651%:%
%:%1857=652%:%
%:%1858=652%:%
%:%1859=653%:%
%:%1860=653%:%
%:%1861=653%:%
%:%1862=654%:%
%:%1863=654%:%
%:%1864=654%:%
%:%1865=655%:%
%:%1866=656%:%
%:%1867=656%:%
%:%1868=656%:%
%:%1869=656%:%
%:%1870=657%:%
%:%1871=657%:%
%:%1872=657%:%
%:%1873=658%:%
%:%1874=659%:%
%:%1875=659%:%
%:%1876=660%:%
%:%1877=660%:%
%:%1878=660%:%
%:%1879=661%:%
%:%1880=662%:%
%:%1881=662%:%
%:%1882=663%:%
%:%1883=664%:%
%:%1884=664%:%
%:%1885=665%:%
%:%1886=666%:%
%:%1887=666%:%
%:%1888=667%:%
%:%1889=667%:%
%:%1890=668%:%
%:%1891=668%:%
%:%1892=669%:%
%:%1893=669%:%
%:%1894=670%:%
%:%1895=670%:%
%:%1896=671%:%
%:%1897=672%:%
%:%1898=672%:%
%:%1899=673%:%
%:%1900=673%:%
%:%1901=674%:%
%:%1902=674%:%
%:%1903=675%:%
%:%1904=675%:%
%:%1905=676%:%
%:%1906=676%:%
%:%1907=676%:%
%:%1908=677%:%
%:%1909=677%:%
%:%1910=678%:%
%:%1911=678%:%
%:%1912=678%:%
%:%1913=679%:%
%:%1914=679%:%
%:%1915=680%:%
%:%1916=680%:%
%:%1917=680%:%
%:%1918=681%:%
%:%1919=681%:%
%:%1920=682%:%
%:%1921=682%:%
%:%1922=682%:%
%:%1923=683%:%
%:%1924=683%:%
%:%1925=683%:%
%:%1926=684%:%
%:%1927=684%:%
%:%1928=684%:%
%:%1929=685%:%
%:%1930=685%:%
%:%1931=686%:%
%:%1932=686%:%
%:%1933=686%:%
%:%1934=687%:%
%:%1935=687%:%
%:%1936=688%:%
%:%1937=688%:%
%:%1938=688%:%
%:%1939=689%:%
%:%1940=689%:%
%:%1941=690%:%
%:%1942=690%:%
%:%1943=690%:%
%:%1944=691%:%
%:%1945=691%:%
%:%1946=691%:%
%:%1947=692%:%
%:%1948=692%:%
%:%1949=692%:%
%:%1950=693%:%
%:%1951=693%:%
%:%1952=693%:%
%:%1953=694%:%
%:%1954=694%:%
%:%1955=695%:%
%:%1956=696%:%
%:%1957=696%:%
%:%1958=697%:%
%:%1959=698%:%
%:%1960=698%:%
%:%1961=699%:%
%:%1962=699%:%
%:%1963=699%:%
%:%1966=702%:%
%:%1967=703%:%
%:%1968=703%:%
%:%1969=703%:%
%:%1970=704%:%
%:%1971=704%:%
%:%1972=704%:%
%:%1973=705%:%
%:%1974=706%:%
%:%1975=707%:%
%:%1977=709%:%
%:%1978=710%:%
%:%1979=710%:%
%:%1980=710%:%
%:%1981=711%:%
%:%1982=712%:%
%:%1983=712%:%
%:%1984=713%:%
%:%1985=713%:%
%:%1986=714%:%
%:%1987=714%:%
%:%1988=715%:%
%:%1989=715%:%
%:%1990=716%:%
%:%1991=717%:%
%:%1992=717%:%
%:%1993=717%:%
%:%1994=718%:%
%:%1995=718%:%
%:%1996=719%:%
%:%1997=719%:%
%:%1998=720%:%
%:%1999=720%:%
%:%2000=721%:%
%:%2001=721%:%
%:%2002=722%:%
%:%2003=722%:%
%:%2004=722%:%
%:%2005=723%:%
%:%2006=723%:%
%:%2007=724%:%
%:%2008=724%:%
%:%2009=724%:%
%:%2010=725%:%
%:%2011=725%:%
%:%2012=726%:%
%:%2013=726%:%
%:%2014=726%:%
%:%2015=727%:%
%:%2016=727%:%
%:%2017=728%:%
%:%2018=728%:%
%:%2019=729%:%
%:%2020=730%:%
%:%2021=730%:%
%:%2023=732%:%
%:%2024=733%:%
%:%2025=733%:%
%:%2026=733%:%
%:%2027=734%:%
%:%2028=734%:%
%:%2029=735%:%
%:%2030=735%:%
%:%2031=735%:%
%:%2032=736%:%
%:%2033=736%:%
%:%2034=737%:%
%:%2035=737%:%
%:%2036=738%:%
%:%2037=739%:%
%:%2038=739%:%
%:%2041=742%:%
%:%2042=743%:%
%:%2043=743%:%
%:%2044=744%:%
%:%2045=744%:%
%:%2046=745%:%
%:%2047=745%:%
%:%2048=746%:%
%:%2049=746%:%
%:%2050=747%:%
%:%2051=747%:%
%:%2052=748%:%
%:%2053=748%:%
%:%2054=749%:%
%:%2055=750%:%
%:%2056=750%:%
%:%2057=750%:%
%:%2058=751%:%
%:%2059=751%:%
%:%2060=751%:%
%:%2061=752%:%
%:%2062=752%:%
%:%2063=753%:%
%:%2064=753%:%
%:%2065=753%:%
%:%2066=754%:%
%:%2067=754%:%
%:%2068=755%:%
%:%2069=755%:%
%:%2070=755%:%
%:%2071=756%:%
%:%2072=756%:%
%:%2073=756%:%
%:%2074=757%:%
%:%2075=757%:%
%:%2076=757%:%
%:%2077=758%:%
%:%2078=758%:%
%:%2079=758%:%
%:%2080=759%:%
%:%2081=759%:%
%:%2082=760%:%
%:%2083=760%:%
%:%2084=761%:%
%:%2085=761%:%
%:%2086=762%:%
%:%2087=762%:%
%:%2088=763%:%
%:%2089=764%:%
%:%2090=764%:%
%:%2091=764%:%
%:%2092=765%:%
%:%2093=765%:%
%:%2094=765%:%
%:%2095=766%:%
%:%2096=766%:%
%:%2097=767%:%
%:%2098=767%:%
%:%2099=767%:%
%:%2100=768%:%
%:%2101=768%:%
%:%2102=769%:%
%:%2103=769%:%
%:%2104=769%:%
%:%2105=770%:%
%:%2106=770%:%
%:%2107=770%:%
%:%2108=771%:%
%:%2109=771%:%
%:%2110=771%:%
%:%2111=772%:%
%:%2112=772%:%
%:%2113=772%:%
%:%2114=773%:%
%:%2115=773%:%
%:%2116=774%:%
%:%2117=774%:%
%:%2118=775%:%
%:%2119=775%:%
%:%2120=776%:%
%:%2121=776%:%
%:%2122=777%:%
%:%2123=777%:%
%:%2126=780%:%
%:%2127=781%:%
%:%2128=781%:%
%:%2129=782%:%
%:%2144=784%:%
%:%2154=786%:%
%:%2155=786%:%
%:%2156=787%:%
%:%2157=788%:%
%:%2158=789%:%
%:%2159=789%:%
%:%2160=790%:%
%:%2161=791%:%
%:%2168=792%:%
%:%2169=792%:%
%:%2170=793%:%
%:%2171=793%:%
%:%2172=794%:%
%:%2173=794%:%
%:%2174=794%:%
%:%2175=795%:%
%:%2176=795%:%
%:%2177=795%:%
%:%2178=796%:%
%:%2179=796%:%
%:%2180=796%:%
%:%2181=797%:%
%:%2182=797%:%
%:%2183=797%:%
%:%2184=798%:%
%:%2185=798%:%
%:%2186=799%:%
%:%2192=799%:%
%:%2195=800%:%
%:%2196=801%:%
%:%2197=801%:%
%:%2198=802%:%
%:%2199=803%:%
%:%2200=804%:%
%:%2201=804%:%
%:%2202=805%:%
%:%2203=806%:%
%:%2210=807%:%
%:%2211=807%:%
%:%2212=808%:%
%:%2213=808%:%
%:%2214=809%:%
%:%2215=809%:%
%:%2216=810%:%
%:%2217=810%:%
%:%2218=810%:%
%:%2219=811%:%
%:%2220=811%:%
%:%2221=811%:%
%:%2222=812%:%
%:%2223=812%:%
%:%2224=812%:%
%:%2225=813%:%
%:%2226=813%:%
%:%2227=813%:%
%:%2228=813%:%
%:%2229=814%:%
%:%2235=814%:%
%:%2238=815%:%
%:%2239=816%:%
%:%2240=816%:%
%:%2241=817%:%
%:%2242=818%:%
%:%2245=819%:%
%:%2249=819%:%
%:%2250=819%:%
%:%2251=819%:%
%:%2256=819%:%
%:%2259=820%:%
%:%2260=821%:%
%:%2261=821%:%
%:%2262=822%:%
%:%2263=823%:%
%:%2266=824%:%
%:%2270=824%:%
%:%2271=824%:%
%:%2272=824%:%
%:%2277=824%:%
%:%2280=825%:%
%:%2281=826%:%
%:%2282=826%:%
%:%2283=827%:%
%:%2284=828%:%
%:%2287=829%:%
%:%2291=829%:%
%:%2292=829%:%
%:%2293=829%:%
%:%2294=829%:%
%:%2299=829%:%
%:%2302=830%:%
%:%2303=831%:%
%:%2304=831%:%
%:%2305=832%:%
%:%2306=833%:%
%:%2307=834%:%
%:%2314=835%:%
%:%2315=835%:%
%:%2316=836%:%
%:%2317=836%:%
%:%2318=837%:%
%:%2319=837%:%
%:%2320=837%:%
%:%2321=838%:%
%:%2322=838%:%
%:%2323=839%:%
%:%2324=839%:%
%:%2325=840%:%
%:%2326=840%:%
%:%2327=840%:%
%:%2328=841%:%
%:%2329=841%:%
%:%2330=841%:%
%:%2331=842%:%
%:%2332=842%:%
%:%2333=842%:%
%:%2334=843%:%
%:%2335=843%:%
%:%2336=844%:%
%:%2337=844%:%
%:%2338=845%:%
%:%2339=845%:%
%:%2340=845%:%
%:%2341=846%:%
%:%2342=846%:%
%:%2343=846%:%
%:%2344=847%:%
%:%2345=847%:%
%:%2346=847%:%
%:%2347=848%:%
%:%2348=848%:%
%:%2349=848%:%
%:%2350=849%:%
%:%2356=849%:%
%:%2359=850%:%
%:%2360=851%:%
%:%2361=851%:%
%:%2362=852%:%
%:%2363=853%:%
%:%2364=854%:%
%:%2371=855%:%
%:%2372=855%:%
%:%2373=856%:%
%:%2374=856%:%
%:%2375=857%:%
%:%2376=857%:%
%:%2377=858%:%
%:%2378=858%:%
%:%2379=859%:%
%:%2380=860%:%
%:%2381=860%:%
%:%2382=860%:%
%:%2383=861%:%
%:%2384=861%:%
%:%2385=862%:%
%:%2386=862%:%
%:%2387=862%:%
%:%2388=863%:%
%:%2389=863%:%
%:%2390=864%:%
%:%2391=864%:%
%:%2392=864%:%
%:%2393=865%:%
%:%2394=865%:%
%:%2395=866%:%
%:%2396=866%:%
%:%2397=866%:%
%:%2398=867%:%
%:%2404=867%:%
%:%2407=868%:%
%:%2408=869%:%
%:%2409=869%:%
%:%2410=870%:%
%:%2411=871%:%
%:%2412=872%:%
%:%2415=873%:%
%:%2419=873%:%
%:%2420=873%:%
%:%2421=874%:%
%:%2422=875%:%
%:%2423=875%:%
%:%2428=875%:%
%:%2431=876%:%
%:%2432=877%:%
%:%2433=877%:%
%:%2434=878%:%
%:%2435=879%:%
%:%2436=880%:%
%:%2439=881%:%
%:%2443=881%:%
%:%2444=881%:%
%:%2445=882%:%
%:%2446=882%:%
%:%2451=882%:%
%:%2454=883%:%
%:%2455=884%:%
%:%2456=884%:%
%:%2457=885%:%
%:%2458=886%:%
%:%2459=887%:%
%:%2466=888%:%
%:%2467=888%:%
%:%2468=889%:%
%:%2469=889%:%
%:%2470=890%:%
%:%2471=890%:%
%:%2472=890%:%
%:%2473=891%:%
%:%2474=891%:%
%:%2475=892%:%
%:%2476=892%:%
%:%2477=892%:%
%:%2478=893%:%
%:%2479=893%:%
%:%2480=893%:%
%:%2481=894%:%
%:%2482=894%:%
%:%2483=894%:%
%:%2484=895%:%
%:%2485=895%:%
%:%2486=895%:%
%:%2487=896%:%
%:%2488=896%:%
%:%2489=896%:%
%:%2490=897%:%
%:%2491=897%:%
%:%2492=897%:%
%:%2493=898%:%
%:%2494=898%:%
%:%2495=898%:%
%:%2496=899%:%
%:%2497=899%:%
%:%2498=899%:%
%:%2499=900%:%
%:%2500=900%:%
%:%2501=900%:%
%:%2502=901%:%
%:%2503=901%:%
%:%2504=901%:%
%:%2505=902%:%
%:%2506=902%:%
%:%2507=902%:%
%:%2508=903%:%
%:%2509=903%:%
%:%2510=903%:%
%:%2511=904%:%
%:%2517=904%:%
%:%2520=905%:%
%:%2521=906%:%
%:%2522=906%:%
%:%2523=907%:%
%:%2524=908%:%
%:%2525=909%:%
%:%2532=910%:%
%:%2533=910%:%
%:%2534=911%:%
%:%2535=911%:%
%:%2536=912%:%
%:%2537=912%:%
%:%2538=912%:%
%:%2539=913%:%
%:%2540=913%:%
%:%2541=914%:%
%:%2542=914%:%
%:%2543=914%:%
%:%2544=915%:%
%:%2545=915%:%
%:%2546=916%:%
%:%2547=916%:%
%:%2548=917%:%
%:%2549=917%:%
%:%2550=918%:%
%:%2551=918%:%
%:%2552=919%:%
%:%2553=919%:%
%:%2554=920%:%
%:%2555=920%:%
%:%2556=921%:%
%:%2557=921%:%
%:%2558=922%:%
%:%2559=922%:%
%:%2560=923%:%
%:%2561=923%:%
%:%2562=923%:%
%:%2563=924%:%
%:%2564=924%:%
%:%2565=924%:%
%:%2566=925%:%
%:%2567=925%:%
%:%2568=925%:%
%:%2569=926%:%
%:%2570=926%:%
%:%2571=927%:%
%:%2572=927%:%
%:%2573=927%:%
%:%2574=928%:%
%:%2575=928%:%
%:%2576=929%:%
%:%2577=929%:%
%:%2578=930%:%
%:%2579=930%:%
%:%2580=930%:%
%:%2581=931%:%
%:%2582=931%:%
%:%2583=932%:%
%:%2584=932%:%
%:%2585=932%:%
%:%2586=933%:%
%:%2587=933%:%
%:%2588=933%:%
%:%2589=934%:%
%:%2590=934%:%
%:%2591=935%:%
%:%2592=935%:%
%:%2593=935%:%
%:%2594=936%:%
%:%2595=936%:%
%:%2596=937%:%
%:%2597=937%:%
%:%2598=937%:%
%:%2599=938%:%
%:%2600=938%:%
%:%2601=938%:%
%:%2602=939%:%
%:%2608=939%:%
%:%2611=940%:%
%:%2612=941%:%
%:%2613=941%:%
%:%2614=942%:%
%:%2615=943%:%
%:%2616=944%:%
%:%2623=945%:%
%:%2624=945%:%
%:%2625=946%:%
%:%2626=946%:%
%:%2627=947%:%
%:%2628=947%:%
%:%2629=947%:%
%:%2630=948%:%
%:%2631=948%:%
%:%2632=949%:%
%:%2633=949%:%
%:%2634=949%:%
%:%2635=950%:%
%:%2636=950%:%
%:%2637=951%:%
%:%2638=951%:%
%:%2639=952%:%
%:%2640=952%:%
%:%2641=953%:%
%:%2642=953%:%
%:%2643=953%:%
%:%2644=954%:%
%:%2645=954%:%
%:%2646=955%:%
%:%2647=955%:%
%:%2648=956%:%
%:%2649=956%:%
%:%2650=957%:%
%:%2651=957%:%
%:%2652=958%:%
%:%2653=958%:%
%:%2654=959%:%
%:%2655=959%:%
%:%2656=960%:%
%:%2657=960%:%
%:%2658=961%:%
%:%2659=961%:%
%:%2660=962%:%
%:%2661=962%:%
%:%2662=963%:%
%:%2663=963%:%
%:%2664=963%:%
%:%2665=964%:%
%:%2666=964%:%
%:%2667=964%:%
%:%2668=964%:%
%:%2669=965%:%
%:%2670=965%:%
%:%2671=965%:%
%:%2672=966%:%
%:%2673=966%:%
%:%2674=967%:%
%:%2675=967%:%
%:%2676=968%:%
%:%2677=968%:%
%:%2678=969%:%
%:%2679=969%:%
%:%2680=970%:%
%:%2681=970%:%
%:%2682=971%:%
%:%2683=971%:%
%:%2684=971%:%
%:%2685=972%:%
%:%2686=972%:%
%:%2687=972%:%
%:%2688=973%:%
%:%2689=973%:%
%:%2690=974%:%
%:%2691=974%:%
%:%2692=974%:%
%:%2693=975%:%
%:%2694=975%:%
%:%2695=975%:%
%:%2696=976%:%
%:%2697=976%:%
%:%2698=976%:%
%:%2699=977%:%
%:%2700=977%:%
%:%2701=978%:%
%:%2702=978%:%
%:%2703=978%:%
%:%2704=979%:%
%:%2705=979%:%
%:%2706=979%:%
%:%2707=980%:%
%:%2708=980%:%
%:%2709=981%:%
%:%2710=982%:%
%:%2711=982%:%
%:%2712=983%:%
%:%2713=983%:%
%:%2714=984%:%
%:%2715=984%:%
%:%2716=985%:%
%:%2717=985%:%
%:%2718=986%:%
%:%2719=986%:%
%:%2720=986%:%
%:%2721=987%:%
%:%2722=987%:%
%:%2723=987%:%
%:%2724=988%:%
%:%2725=988%:%
%:%2726=988%:%
%:%2727=989%:%
%:%2728=989%:%
%:%2729=990%:%
%:%2730=990%:%
%:%2731=990%:%
%:%2732=991%:%
%:%2733=991%:%
%:%2734=992%:%
%:%2735=992%:%
%:%2736=992%:%
%:%2737=992%:%
%:%2738=992%:%
%:%2739=993%:%
%:%2740=993%:%
%:%2741=994%:%
%:%2742=994%:%
%:%2743=994%:%
%:%2744=995%:%
%:%2745=996%:%
%:%2746=996%:%
%:%2747=996%:%
%:%2748=997%:%
%:%2749=997%:%
%:%2750=998%:%
%:%2751=999%:%
%:%2752=999%:%
%:%2753=1000%:%
%:%2754=1000%:%
%:%2755=1001%:%
%:%2756=1001%:%
%:%2757=1002%:%
%:%2758=1002%:%
%:%2759=1003%:%
%:%2760=1003%:%
%:%2761=1004%:%
%:%2762=1004%:%
%:%2763=1004%:%
%:%2764=1005%:%
%:%2765=1005%:%
%:%2766=1005%:%
%:%2767=1006%:%
%:%2768=1006%:%
%:%2769=1007%:%
%:%2770=1007%:%
%:%2771=1008%:%
%:%2772=1008%:%
%:%2773=1009%:%
%:%2774=1009%:%
%:%2775=1009%:%
%:%2776=1010%:%
%:%2777=1010%:%
%:%2778=1010%:%
%:%2779=1011%:%
%:%2780=1011%:%
%:%2781=1012%:%
%:%2782=1012%:%
%:%2783=1013%:%
%:%2784=1013%:%
%:%2785=1013%:%
%:%2786=1014%:%
%:%2787=1014%:%
%:%2788=1014%:%
%:%2789=1015%:%
%:%2804=1017%:%
%:%2814=1019%:%
%:%2815=1019%:%
%:%2816=1020%:%
%:%2820=1024%:%
%:%2822=1025%:%
%:%2823=1025%:%
%:%2824=1026%:%
%:%2825=1027%:%
%:%2826=1028%:%
%:%2827=1028%:%
%:%2828=1029%:%
%:%2831=1030%:%
%:%2835=1030%:%
%:%2836=1030%:%
%:%2837=1031%:%
%:%2838=1031%:%
%:%2843=1031%:%
%:%2846=1032%:%
%:%2847=1033%:%
%:%2848=1033%:%
%:%2849=1034%:%
%:%2850=1035%:%
%:%2853=1036%:%
%:%2857=1036%:%
%:%2858=1036%:%
%:%2859=1036%:%
%:%2864=1036%:%
%:%2867=1037%:%
%:%2868=1038%:%
%:%2869=1038%:%
%:%2870=1039%:%
%:%2871=1040%:%
%:%2872=1041%:%
%:%2873=1041%:%
%:%2874=1042%:%
%:%2877=1043%:%
%:%2881=1043%:%
%:%2882=1043%:%
%:%2883=1043%:%
%:%2888=1043%:%
%:%2891=1044%:%
%:%2892=1045%:%
%:%2893=1045%:%
%:%2894=1046%:%
%:%2895=1047%:%
%:%2898=1048%:%
%:%2902=1048%:%
%:%2903=1048%:%
%:%2904=1048%:%
%:%2909=1048%:%
%:%2912=1049%:%
%:%2913=1050%:%
%:%2914=1050%:%
%:%2915=1051%:%
%:%2916=1052%:%
%:%2919=1053%:%
%:%2923=1053%:%
%:%2924=1053%:%
%:%2929=1053%:%
%:%2932=1054%:%
%:%2933=1055%:%
%:%2934=1055%:%
%:%2935=1056%:%
%:%2936=1057%:%
%:%2939=1058%:%
%:%2943=1058%:%
%:%2944=1058%:%
%:%2945=1058%:%
%:%2954=1060%:%
%:%2956=1061%:%
%:%2957=1061%:%
%:%2958=1062%:%
%:%2959=1063%:%
%:%2962=1064%:%
%:%2966=1064%:%
%:%2967=1064%:%
%:%2968=1065%:%
%:%2969=1065%:%
%:%2970=1066%:%
%:%2971=1066%:%
%:%2972=1067%:%
%:%2973=1067%:%
%:%2974=1068%:%
%:%2975=1068%:%
%:%2976=1069%:%
%:%2977=1069%:%
%:%2978=1070%:%
%:%2979=1070%:%
%:%2980=1071%:%
%:%2981=1071%:%
%:%2982=1072%:%
%:%2983=1072%:%
%:%2984=1073%:%
%:%2985=1073%:%
%:%2986=1074%:%
%:%2987=1074%:%
%:%2988=1074%:%
%:%2989=1075%:%
%:%2990=1075%:%
%:%2991=1075%:%
%:%2992=1076%:%
%:%2993=1077%:%
%:%2994=1077%:%
%:%2995=1078%:%
%:%2996=1078%:%
%:%2997=1079%:%
%:%2998=1079%:%
%:%2999=1080%:%
%:%3000=1080%:%
%:%3001=1081%:%
%:%3002=1081%:%
%:%3003=1081%:%
%:%3004=1082%:%
%:%3005=1082%:%
%:%3006=1083%:%
%:%3007=1083%:%
%:%3008=1084%:%
%:%3009=1084%:%
%:%3010=1085%:%
%:%3011=1085%:%
%:%3012=1086%:%
%:%3013=1087%:%
%:%3014=1088%:%
%:%3015=1088%:%
%:%3016=1089%:%
%:%3017=1089%:%
%:%3018=1089%:%
%:%3019=1090%:%
%:%3020=1090%:%
%:%3021=1091%:%
%:%3022=1091%:%
%:%3023=1092%:%
%:%3024=1092%:%
%:%3025=1093%:%
%:%3026=1093%:%
%:%3027=1094%:%
%:%3028=1094%:%
%:%3029=1095%:%
%:%3030=1095%:%
%:%3031=1096%:%
%:%3032=1096%:%
%:%3033=1097%:%
%:%3034=1097%:%
%:%3035=1098%:%
%:%3036=1098%:%
%:%3037=1099%:%
%:%3038=1099%:%
%:%3039=1100%:%
%:%3040=1100%:%
%:%3041=1100%:%
%:%3042=1101%:%
%:%3043=1101%:%
%:%3044=1102%:%
%:%3045=1102%:%
%:%3046=1103%:%
%:%3047=1103%:%
%:%3048=1103%:%
%:%3049=1104%:%
%:%3050=1104%:%
%:%3051=1104%:%
%:%3052=1105%:%
%:%3053=1105%:%
%:%3054=1106%:%
%:%3055=1106%:%
%:%3061=1112%:%
%:%3062=1113%:%
%:%3063=1113%:%
%:%3064=1114%:%
%:%3065=1114%:%
%:%3066=1115%:%
%:%3072=1115%:%
%:%3075=1116%:%
%:%3076=1117%:%
%:%3077=1117%:%
%:%3078=1118%:%
%:%3079=1119%:%
%:%3086=1120%:%
%:%3087=1120%:%
%:%3088=1121%:%
%:%3089=1121%:%
%:%3090=1122%:%
%:%3091=1122%:%
%:%3092=1122%:%
%:%3093=1123%:%
%:%3094=1123%:%
%:%3095=1124%:%
%:%3096=1124%:%
%:%3097=1124%:%
%:%3098=1125%:%
%:%3099=1125%:%
%:%3100=1126%:%
%:%3101=1126%:%
%:%3102=1127%:%
%:%3103=1127%:%
%:%3104=1128%:%
%:%3105=1128%:%
%:%3106=1129%:%
%:%3107=1129%:%
%:%3108=1130%:%
%:%3109=1130%:%
%:%3110=1130%:%
%:%3111=1131%:%
%:%3112=1131%:%
%:%3113=1131%:%
%:%3114=1132%:%
%:%3115=1132%:%
%:%3116=1132%:%
%:%3117=1133%:%
%:%3118=1133%:%
%:%3119=1133%:%
%:%3120=1134%:%
%:%3121=1134%:%
%:%3122=1134%:%
%:%3123=1135%:%
%:%3124=1135%:%
%:%3125=1136%:%
%:%3126=1136%:%
%:%3127=1137%:%
%:%3128=1137%:%
%:%3129=1138%:%
%:%3130=1138%:%
%:%3131=1139%:%
%:%3132=1139%:%
%:%3133=1140%:%
%:%3134=1140%:%
%:%3135=1140%:%
%:%3136=1140%:%
%:%3137=1141%:%
%:%3138=1141%:%
%:%3139=1142%:%
%:%3140=1142%:%
%:%3141=1142%:%
%:%3142=1142%:%
%:%3143=1143%:%
%:%3144=1143%:%
%:%3145=1144%:%
%:%3146=1144%:%
%:%3147=1145%:%
%:%3148=1145%:%
%:%3149=1145%:%
%:%3150=1146%:%
%:%3151=1146%:%
%:%3152=1146%:%
%:%3153=1147%:%
%:%3154=1147%:%
%:%3155=1148%:%
%:%3156=1148%:%
%:%3157=1148%:%
%:%3158=1149%:%
%:%3159=1149%:%
%:%3160=1149%:%
%:%3161=1150%:%
%:%3162=1150%:%
%:%3163=1150%:%
%:%3164=1151%:%
%:%3165=1151%:%
%:%3166=1152%:%
%:%3167=1152%:%
%:%3168=1152%:%
%:%3169=1153%:%
%:%3170=1153%:%
%:%3171=1153%:%
%:%3172=1154%:%
%:%3173=1154%:%
%:%3174=1154%:%
%:%3175=1155%:%
%:%3176=1155%:%
%:%3177=1156%:%
%:%3178=1156%:%
%:%3179=1156%:%
%:%3180=1157%:%
%:%3181=1157%:%
%:%3182=1158%:%
%:%3183=1158%:%
%:%3184=1158%:%
%:%3185=1159%:%
%:%3186=1159%:%
%:%3187=1159%:%
%:%3188=1160%:%
%:%3189=1160%:%
%:%3190=1161%:%
%:%3191=1161%:%
%:%3192=1161%:%
%:%3193=1162%:%
%:%3194=1162%:%
%:%3195=1163%:%
%:%3196=1163%:%
%:%3197=1164%:%
%:%3198=1164%:%
%:%3199=1165%:%
%:%3200=1165%:%
%:%3201=1166%:%
%:%3211=1168%:%
%:%3213=1169%:%
%:%3214=1169%:%
%:%3215=1170%:%
%:%3216=1171%:%
%:%3217=1172%:%
%:%3224=1173%:%
%:%3225=1173%:%
%:%3226=1174%:%
%:%3227=1174%:%
%:%3228=1175%:%
%:%3229=1175%:%
%:%3230=1175%:%
%:%3231=1175%:%
%:%3232=1176%:%
%:%3233=1176%:%
%:%3234=1177%:%
%:%3235=1177%:%
%:%3236=1177%:%
%:%3237=1178%:%
%:%3238=1178%:%
%:%3239=1179%:%
%:%3240=1179%:%
%:%3241=1179%:%
%:%3242=1180%:%
%:%3243=1181%:%
%:%3244=1181%:%
%:%3245=1182%:%
%:%3246=1182%:%
%:%3247=1183%:%
%:%3248=1183%:%
%:%3249=1184%:%
%:%3250=1184%:%
%:%3251=1185%:%
%:%3252=1185%:%
%:%3253=1185%:%
%:%3254=1186%:%
%:%3255=1186%:%
%:%3256=1187%:%
%:%3257=1188%:%
%:%3258=1188%:%
%:%3259=1189%:%
%:%3260=1189%:%
%:%3261=1189%:%
%:%3262=1190%:%
%:%3263=1191%:%
%:%3264=1191%:%
%:%3265=1192%:%
%:%3266=1192%:%
%:%3267=1193%:%
%:%3268=1193%:%
%:%3269=1194%:%
%:%3270=1194%:%
%:%3271=1195%:%
%:%3272=1195%:%
%:%3273=1195%:%
%:%3274=1196%:%
%:%3275=1197%:%
%:%3276=1197%:%
%:%3277=1197%:%
%:%3278=1197%:%
%:%3279=1198%:%
%:%3280=1198%:%
%:%3281=1198%:%
%:%3282=1199%:%
%:%3283=1199%:%
%:%3284=1200%:%
%:%3285=1200%:%
%:%3286=1201%:%
%:%3287=1201%:%
%:%3288=1202%:%
%:%3289=1202%:%
%:%3290=1203%:%
%:%3291=1203%:%
%:%3292=1204%:%
%:%3293=1205%:%
%:%3294=1205%:%
%:%3295=1206%:%
%:%3296=1206%:%
%:%3297=1206%:%
%:%3298=1207%:%
%:%3299=1207%:%
%:%3300=1207%:%
%:%3301=1208%:%
%:%3302=1209%:%
%:%3303=1209%:%
%:%3304=1210%:%
%:%3305=1211%:%
%:%3306=1211%:%
%:%3307=1212%:%
%:%3308=1213%:%
%:%3309=1213%:%
%:%3310=1214%:%
%:%3311=1214%:%
%:%3312=1214%:%
%:%3313=1214%:%
%:%3314=1215%:%
%:%3315=1216%:%
%:%3316=1216%:%
%:%3317=1217%:%
%:%3318=1217%:%
%:%3319=1218%:%
%:%3320=1218%:%
%:%3321=1219%:%
%:%3322=1219%:%
%:%3323=1220%:%
%:%3324=1220%:%
%:%3325=1221%:%
%:%3326=1221%:%
%:%3327=1222%:%
%:%3328=1222%:%
%:%3329=1222%:%
%:%3330=1223%:%
%:%3331=1223%:%
%:%3332=1223%:%
%:%3333=1223%:%
%:%3334=1224%:%
%:%3335=1224%:%
%:%3336=1224%:%
%:%3337=1225%:%
%:%3338=1225%:%
%:%3339=1225%:%
%:%3340=1226%:%
%:%3341=1226%:%
%:%3342=1226%:%
%:%3343=1226%:%
%:%3344=1226%:%
%:%3345=1227%:%
%:%3346=1227%:%
%:%3347=1228%:%
%:%3348=1229%:%
%:%3349=1229%:%
%:%3350=1230%:%
%:%3351=1230%:%
%:%3352=1231%:%
%:%3353=1231%:%
%:%3354=1232%:%
%:%3355=1232%:%
%:%3356=1233%:%
%:%3357=1233%:%
%:%3358=1233%:%
%:%3359=1234%:%
%:%3360=1234%:%
%:%3361=1235%:%
%:%3362=1235%:%
%:%3363=1235%:%
%:%3364=1236%:%
%:%3365=1236%:%
%:%3366=1237%:%
%:%3367=1237%:%
%:%3368=1237%:%
%:%3369=1237%:%
%:%3370=1237%:%
%:%3371=1238%:%
%:%3372=1238%:%
%:%3373=1239%:%
%:%3374=1239%:%
%:%3375=1240%:%
%:%3376=1240%:%
%:%3377=1240%:%
%:%3378=1241%:%
%:%3379=1241%:%
%:%3380=1241%:%
%:%3381=1242%:%
%:%3382=1242%:%
%:%3383=1242%:%
%:%3384=1243%:%
%:%3385=1243%:%
%:%3386=1244%:%
%:%3387=1244%:%
%:%3388=1245%:%
%:%3389=1245%:%
%:%3390=1245%:%
%:%3391=1246%:%
%:%3392=1246%:%
%:%3393=1247%:%
%:%3394=1247%:%
%:%3395=1247%:%
%:%3396=1248%:%
%:%3397=1248%:%
%:%3398=1249%:%
%:%3399=1249%:%
%:%3400=1250%:%
%:%3401=1250%:%
%:%3402=1251%:%
%:%3403=1251%:%
%:%3404=1252%:%
%:%3405=1252%:%
%:%3406=1253%:%
%:%3407=1253%:%
%:%3408=1254%:%
%:%3409=1254%:%
%:%3410=1255%:%
%:%3411=1255%:%
%:%3412=1256%:%
%:%3413=1256%:%
%:%3414=1257%:%
%:%3415=1257%:%
%:%3416=1258%:%
%:%3417=1258%:%
%:%3418=1259%:%
%:%3419=1259%:%
%:%3420=1260%:%
%:%3421=1261%:%
%:%3422=1261%:%
%:%3423=1262%:%
%:%3424=1262%:%
%:%3425=1262%:%
%:%3426=1262%:%
%:%3427=1263%:%
%:%3428=1263%:%
%:%3429=1264%:%
%:%3430=1264%:%
%:%3431=1264%:%
%:%3432=1265%:%
%:%3433=1265%:%
%:%3434=1266%:%
%:%3435=1266%:%
%:%3436=1267%:%
%:%3437=1267%:%
%:%3438=1268%:%
%:%3439=1268%:%
%:%3440=1269%:%
%:%3441=1269%:%
%:%3442=1270%:%
%:%3443=1270%:%
%:%3444=1270%:%
%:%3445=1271%:%
%:%3446=1271%:%
%:%3447=1271%:%
%:%3448=1272%:%
%:%3449=1272%:%
%:%3450=1273%:%
%:%3451=1273%:%
%:%3452=1273%:%
%:%3453=1274%:%
%:%3454=1274%:%
%:%3455=1275%:%
%:%3456=1275%:%
%:%3457=1275%:%
%:%3458=1276%:%
%:%3459=1276%:%
%:%3460=1277%:%
%:%3461=1277%:%
%:%3462=1277%:%
%:%3463=1278%:%
%:%3464=1278%:%
%:%3465=1279%:%
%:%3466=1279%:%
%:%3467=1279%:%
%:%3468=1279%:%
%:%3469=1279%:%
%:%3470=1280%:%
%:%3471=1280%:%
%:%3472=1281%:%
%:%3473=1281%:%
%:%3474=1281%:%
%:%3475=1282%:%
%:%3476=1282%:%
%:%3477=1283%:%
%:%3483=1283%:%
%:%3488=1284%:%
%:%3493=1285%:%
