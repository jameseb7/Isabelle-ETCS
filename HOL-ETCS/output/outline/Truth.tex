%
\begin{isabellebody}%
\setisabellecontext{Truth}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Truth\isanewline
\ \ \isakeyword{imports}\ Equalizer\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Truth Values and Characteristic Functions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The axiomatization below corresponds to Axiom 5 (Truth-Value Object) in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{axiomatization}\isamarkupfalse%
\isanewline
\ \ true{\isacharunderscore}{\kern0pt}func\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isasymt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ false{\isacharunderscore}{\kern0pt}func\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isasymf}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ truth{\isacharunderscore}{\kern0pt}value{\isacharunderscore}{\kern0pt}set\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isasymOmega}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\isakeyword{where}\isanewline
\ \ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymin}\isactrlsub c\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymf}\ {\isasymin}\isactrlsub c\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymnoteq}\ {\isasymf}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymor}\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ monomorphism\ m\ {\isasymLongrightarrow}\ {\isasymexists}{\isacharbang}{\kern0pt}\ {\isasymchi}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}pullback\ B\ one\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}THE\ {\isasymchi}{\isachardot}{\kern0pt}\ monomorphism\ m\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ one\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ one\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}\ \isakeyword{where}\ chi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ one\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ m\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ one\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ theI{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ a{\isacharequal}{\kern0pt}{\isasymchi}\ \isakeyword{in}\ ex{\isadigit{1}}I{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ one\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ chi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ monomorphism\ m\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharparenright}{\kern0pt}\ one\ {\isacharparenleft}{\kern0pt}codomain\ m{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub domain\ m\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ x\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ {\isasymchi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ chi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ one\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ one\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}equalizes{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equalizer\ B\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymbeta}\isactrlbsub B\isactrlesub \ {\isacharequal}{\kern0pt}\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ comm\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isasymLongrightarrow}\ {\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ B\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ comp{\isacharunderscore}{\kern0pt}associative\ comp{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}F\ k\ y{\isachardot}{\kern0pt}\ \ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ B\ {\isasymLongrightarrow}\ y\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ B\ {\isasymLongrightarrow}\ m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\ k\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ m{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ one\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ B\ {\isasymand}\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ id\ one\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ domain\ x\ {\isasymrightarrow}\ domain\ m\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ h\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ domain\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ h{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ domain\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\isactrlsub c\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ B\ one\ X\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ char{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\ \ \ \ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ char{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}true\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ h{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\isanewline
\ \ \ \ \ \ \ \ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.2 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymtimes}\isactrlsub c\ {\isasymOmega}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymtimes}\isactrlsub c\ {\isasymOmega}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}{\isasymt}{\isacharcomma}{\kern0pt}{\isasymt}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}{\isasymt}{\isacharcomma}{\kern0pt}{\isasymf}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}{\isasymf}{\isacharcomma}{\kern0pt}{\isasymt}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}{\isasymf}{\isacharcomma}{\kern0pt}{\isasymf}{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ smt\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}unique\ comp{\isacharunderscore}{\kern0pt}type\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ {\isasymOmega}\ {\isasymtimes}\isactrlsub c\ {\isasymOmega}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Equality Predicate%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}THE\ {\isasymchi}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}pullback\ X\ one\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ {\isacharparenleft}{\kern0pt}diagonal\ X{\isacharparenright}{\kern0pt}\ {\isasymchi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ X\ one\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ {\isacharparenleft}{\kern0pt}diagonal\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ the{\isadigit{1}}I{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ diag{\isacharunderscore}{\kern0pt}mono\ diagonal{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}square{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ diagonal\ X\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}id\isactrlsub c\ X{\isacharcomma}{\kern0pt}id\isactrlsub c\ X{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}square\ \isacommand{unfolding}\isamarkupfalse%
\ diagonal{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ diagonal{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ diagonal{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ id{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}\ {\isasymcirc}\isactrlsub c\ id\ one{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ j\ \ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}diagonal\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}pullback\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}j{\isacharcomma}{\kern0pt}j{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ diag{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}elements\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ j{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isasymnoteq}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ y\ {\isasymLongrightarrow}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isasymnoteq}\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymnoteq}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ presburger%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monomorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ one{\isacharunderscore}{\kern0pt}separator{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}{\isasymOmega}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isadigit{1}}\ x{\isadigit{2}}\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ x{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ x{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ cases\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ LHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}\ x{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ x{\isadigit{2}}{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ RHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ insert\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ LHS\ RHS\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isasymnoteq}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ LHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ meson\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{1}}\ {\isasymnoteq}\ m\ {\isasymcirc}\isactrlsub c\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isasymnoteq}\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ RHS{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}x{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ LHS\ RHS\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isakeyword{shows}\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharcomma}{\kern0pt}\ id\ X{\isasymrangle}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ \ {\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}pred\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharcomma}{\kern0pt}\ id\ X{\isasymrangle}\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}eq\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ fastforce{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Properties of Monomorphisms and Epimorphisms%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.2.3 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ regmono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ regular{\isacharunderscore}{\kern0pt}monomorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.4 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}regmono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ regular{\isacharunderscore}{\kern0pt}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}def\ regular{\isacharunderscore}{\kern0pt}monomorphism{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def\ domain{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}equalizes{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.5 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ epi{\isacharunderscore}{\kern0pt}regmon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}regmono\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.8 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}surjective{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ codomain\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ domain\ p\ {\isasymand}\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y{\isadigit{0}}\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isadigit{0}}\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ y{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}y{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}monomorphism\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharequal}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}\ id\ Y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}\ id\ Y{\isasymrangle}\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}Y{\isasymtimes}\isactrlsub cY{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}type\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gpx{\isacharunderscore}{\kern0pt}Eqs{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ g\ {\isasymcirc}\isactrlsub c\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bwoc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\ \ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ bwoc\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ comp{\isacharunderscore}{\kern0pt}associative\ comp{\isacharunderscore}{\kern0pt}type\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}h{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hpx{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ h\ {\isasymcirc}\isactrlsub c\ p\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ codomain{\isacharunderscore}{\kern0pt}comp\ comp{\isacharunderscore}{\kern0pt}associative\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gp{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}hp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ p\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ one{\isacharunderscore}{\kern0pt}separator{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}X{\isacharcomma}{\kern0pt}\isakeyword{where}\ Y{\isacharequal}{\kern0pt}{\isasymOmega}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ p\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ p\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ p{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ p{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ g{\isacharunderscore}{\kern0pt}type\ gpx{\isacharunderscore}{\kern0pt}Eqs{\isacharunderscore}{\kern0pt}f\ h{\isacharunderscore}{\kern0pt}type\ hpx{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}f\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}h{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymnoteq}\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}c{\isachardot}{\kern0pt}\ {\isasymbeta}\isactrlbsub codomain\ c\isactrlesub \ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymbeta}\isactrlbsub domain\ c\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}domain\ {\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}id\isactrlsub c\ Y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}codomain\ {\isasymlangle}y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharcomma}{\kern0pt}id\isactrlsub c\ Y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ Y\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}codomain\ y{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}c{\isachardot}{\kern0pt}\ domain\ {\isacharparenleft}{\kern0pt}eq{\isacharunderscore}{\kern0pt}pred\ c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ c\ {\isasymtimes}\isactrlsub c\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ y{\isadigit{0}}\ {\isasymnoteq}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{4}}\ f{\isadigit{3}}\ f{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ eq{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}extract{\isacharunderscore}{\kern0pt}right\ comp{\isacharunderscore}{\kern0pt}associative\ g{\isacharunderscore}{\kern0pt}def\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gp{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}hp\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ epimorphism{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}f{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}epimorphism\ q{\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ surj{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}surjective\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surjective\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ codomain\ q{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ codomain{\isacharunderscore}{\kern0pt}gy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ y\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}\ z{\isachardot}{\kern0pt}\ z\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ surj{\isacharunderscore}{\kern0pt}f\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ k{\isachardot}{\kern0pt}\ k{\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ y\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ domain\ q{\isadigit{0}}\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9b in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}epimorphism\ q{\isadigit{1}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ surj{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}surjective\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surjective\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ codomain\ q{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ codomain{\isacharunderscore}{\kern0pt}gy{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ y\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}\ z{\isachardot}{\kern0pt}\ z\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ g\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ surj{\isacharunderscore}{\kern0pt}g\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ g\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ k{\isachardot}{\kern0pt}\ k{\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ z\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ y{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\ \ \ \ \ \ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ domain\ q{\isadigit{1}}\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9c in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ q{\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ u\ v\ Q\ a\ x\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\ \ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isacharcolon}{\kern0pt}\ \ a\ {\isasymrightarrow}\ x{\isachardoublequoteclose}\ \ \ \ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ equals{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ u{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ v{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ q{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}X\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ \ q{\isadigit{1}}\ \ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{1}}\ equals\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ f{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ uniqueness{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ j{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}j\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{2}}\ equals\ uniqueness\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.9d in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}g{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ A\ Y\ X\ Z\ q{\isadigit{1}}\ f\ q{\isadigit{0}}\ g{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ q{\isadigit{1}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ u\ v\ Q\ a\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\ \ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ \ a\ {\isasymrightarrow}\ y{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ equals{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ u{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ v{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isadigit{2}}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}A\ q{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Y\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ \ q{\isadigit{0}}\ \ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ equals{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{1}}\ equals\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ f{\isadigit{1}}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ uniqueness{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ j{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}j\ {\isacharcolon}{\kern0pt}\ Q\ {\isasymrightarrow}\ A\ {\isasymand}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ v\ {\isasymand}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ q{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ eqn{\isadigit{1}}\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqn{\isadigit{2}}\ equals\ uniqueness\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Fiber Over an Element and its Connection to the Fibered Product%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The definition below corresponds to Definition 2.2.6 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ fiber\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}one{\isasymrparr}\isactrlbsub y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ one\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ one\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ {\isacharcolon}{\kern0pt}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}def\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}def\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}monomorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}monomorphism\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ \ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ fiber{\isacharunderscore}{\kern0pt}morphism\ f\ y\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ one\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ one\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ one\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ one\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ element{\isacharunderscore}{\kern0pt}monomorphism\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}one{\isasymrparr}\isactrlbsub y\isactrlesub \isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ element{\isacharunderscore}{\kern0pt}monomorphism\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.2.7 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}surjective{\isacharunderscore}{\kern0pt}has{\isacharunderscore}{\kern0pt}some{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}preimage{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ p{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ p{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}surj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ surjective\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ y{\isachardot}{\kern0pt}\ y{\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ is{\isacharunderscore}{\kern0pt}empty{\isacharparenleft}{\kern0pt}p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ nonempty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nonempty{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ nonempty{\isacharunderscore}{\kern0pt}def\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ y{\isadigit{0}}\ \isakeyword{where}\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isadigit{0}}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}\ x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ p{\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ y{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ surjective{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}nonempty{\isacharparenleft}{\kern0pt}p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharcomma}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nonempty{\isacharparenleft}{\kern0pt}p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ p\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ nonempty{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}z{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fiber{\isacharunderscore}{\kern0pt}morphism\ p\ y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ z\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}type\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ z{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ contradiction{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymcirc}\isactrlsub c\ fiber{\isacharunderscore}{\kern0pt}morphism\ p\ y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ y{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ fiber{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}fiber{\isacharunderscore}{\kern0pt}morphism\ p\ y{\isadigit{0}}\ {\isasymcirc}\isactrlsub c\ z{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ y{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fiber{\isacharunderscore}{\kern0pt}z{\isacharunderscore}{\kern0pt}type\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ contradiction\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ nonempty{\isacharunderscore}{\kern0pt}def\ y{\isadigit{0}}{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fiber{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}prod{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ one\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isasymcong}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub y\isactrlesub one{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}monomorphism\ equalizers{\isacharunderscore}{\kern0pt}isomorphic\ f{\isacharunderscore}{\kern0pt}type\ fiber{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}equalizer\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}equalizer\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ moura%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ \isactrlbsub id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub g\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ {\isasymcong}\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub g\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ Y\ X\ X\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ g\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fib{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ {\isasymcong}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}\isactrlesub \ Y{\isacharparenright}{\kern0pt}\ Y\ X\ Y\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ f\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ is{\isacharunderscore}{\kern0pt}pullback\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}mono{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ id{\isacharunderscore}{\kern0pt}isomorphism\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}pullback\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to the discussion at the top of page 42 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}connection{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ g{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ g{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\isanewline
\ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gxg{\isacharunderscore}{\kern0pt}fpmorph{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\isanewline
\ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\isanewline
\ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}eq\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}j\ F{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ E\ {\isasymtimes}\isactrlsub c\ E\ {\isasymand}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ \ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ {\isasymtimes}\isactrlsub c\ E\ {\isasymand}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ b\ \isakeyword{where}\ b{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ b{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ f{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ gxg{\isacharunderscore}{\kern0pt}fpmorph{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}E\ {\isasymtimes}\isactrlsub c\ E{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ b\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ b{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ unfold\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ k\ j\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ g\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f\ k{\isacharunderscore}{\kern0pt}type\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ g\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}f\ k{\isacharunderscore}{\kern0pt}type\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharparenright}{\kern0pt}\ X\ X\ Y\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\isanewline
\ \ \ \ \ \ \ \ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ z{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ k{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ z{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ k\ {\isasymLongrightarrow}\ z\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq\ k{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ smt\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}l{\isachardot}{\kern0pt}\ l\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ l\ {\isacharequal}{\kern0pt}\ k\ {\isasymand}\ b\ {\isasymcirc}\isactrlsub c\ l\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}l{\isachardot}{\kern0pt}\ l\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymand}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ l\ {\isacharequal}{\kern0pt}\ k\ {\isasymand}\ b\ {\isasymcirc}\isactrlsub c\ l\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}z\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}eq\ z{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isasymcirc}\isactrlsub c\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}eq\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ calculation\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}monomorphism\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ j\ y\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}monomorphism\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}epi\ g{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}surj\ \ pullback{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isadigit{1}}\ h{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ existence{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}b\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thm}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}eq\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ E\ E\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}g\ {\isasymtimes}\isactrlsub f\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}epi{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub h\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub h\isactrlesub \ E\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ h\ h\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ existence\ g{\isacharunderscore}{\kern0pt}eq\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ kern{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}TFAE{\isadigit{2}}\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Set Subtraction%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymsetminus}{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}Y\ {\isasymsetminus}\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ E{\isachardot}{\kern0pt}\ {\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ E\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}snd\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ E\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ equalizer\ E\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ equalizer{\isacharunderscore}{\kern0pt}exists\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ \ equalizer\ {\isacharparenleft}{\kern0pt}codomain\ m\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain\ m\isactrlesub {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m\isactrlsup c\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}codomain\ m\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain\ m\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}equalizer{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}codomain\ m\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}domain\ m{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m\isactrlsup c\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub codomain\ m\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m\isactrlsup c\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}m\isactrlsup c\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ m\isactrlsup c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ in{\isacharunderscore}{\kern0pt}complement{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ domain{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}equalizes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymand}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}equalizes{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ in{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\isanewline
\ \ \ \ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}complement{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}complement{\isacharunderscore}{\kern0pt}member\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}relative{\isacharunderscore}{\kern0pt}member\isanewline
\ \ \ \ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}type\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}disjoint{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x\ {\isasymnoteq}\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}characteristic{\isacharunderscore}{\kern0pt}func\ m\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub X\isactrlesub \ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\isactrlesub \ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ id\ one\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ id\ one{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}element\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isacharequal}{\kern0pt}\ {\isasymf}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ false{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ true{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ i{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mi{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ i{\isacharunderscore}{\kern0pt}iso\ i{\isacharunderscore}{\kern0pt}type\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}m\ \isakeyword{where}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharcolon}{\kern0pt}\ C\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}mi\ \isakeyword{where}\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}mi\ {\isacharcolon}{\kern0pt}\ C\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}mi\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}\ c{\isachardot}{\kern0pt}\ c\ {\isasymin}\isactrlsub c\ C\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}mi\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymin}\isactrlsub c\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}c\ {\isasymin}\isactrlbsub C\isactrlesub \ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}mono\ not{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false\ rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\isactrlsub c\ A\ {\isasymand}\ c\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}mono\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ b{\isachardot}{\kern0pt}\ b\ {\isasymin}\isactrlsub c\ B\ {\isasymand}\ c\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}type\ epi{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}surj\ i{\isacharunderscore}{\kern0pt}iso\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ surjective{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}c\ {\isasymin}\isactrlbsub C\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}iso\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}mi\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}def\ mi{\isacharunderscore}{\kern0pt}mono\ not{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}false\ rel{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}char{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}true\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}mi\ {\isasymcirc}\isactrlsub c\ c\ {\isacharequal}{\kern0pt}\ {\isasymt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharequal}{\kern0pt}\ {\isasymchi}mi{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}type\ one{\isacharunderscore}{\kern0pt}separator\ true{\isacharunderscore}{\kern0pt}false{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}truth{\isacharunderscore}{\kern0pt}values{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ C\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ {\isasymchi}mi{\isacharunderscore}{\kern0pt}def\ isomorphic{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}reflexive\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}subtraction{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ C\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ i{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ B{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymcong}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ im{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ i{\isacharunderscore}{\kern0pt}iso\ i{\isacharunderscore}{\kern0pt}type\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}m\ \isakeyword{where}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}m\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymchi}im\ \isakeyword{where}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}im\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ {\isasymOmega}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}im\ {\isacharequal}{\kern0pt}\ characteristic{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}pullback{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ C\ one\ B\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub C\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymchi}im{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ comp{\isacharunderscore}{\kern0pt}type\ i{\isacharunderscore}{\kern0pt}type\ im{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}pullback\ C\ one\ A\ {\isasymOmega}\ {\isacharparenleft}{\kern0pt}{\isasymbeta}\isactrlbsub C\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymt}\ m\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}assocr{\isacharcomma}{\kern0pt}\ metis\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ comp{\isacharunderscore}{\kern0pt}type\ im{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ k\ h\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ one{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\ \isakeyword{and}\ j{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}pullback\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ k{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C\ {\isasymand}\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ k\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}j{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}iso\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ j\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymt}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymbeta}\isactrlbsub C\isactrlesub \ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isasymchi}im{\isacharunderscore}{\kern0pt}i{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymchi}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ i\ {\isacharequal}{\kern0pt}\ {\isasymchi}m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ characteristic{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ characteristic{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}exists\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}im\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ m{\isacharunderscore}{\kern0pt}mono\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}\ \isakeyword{where}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ m{\isacharequal}{\kern0pt}{\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ X{\isacharequal}{\kern0pt}C{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}B{\isacharbrackright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ im{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub A\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymchi}m\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymchi}im\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ i\isactrlbold {\isasyminverse}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}i{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymchi}m\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ i{\isacharunderscore}{\kern0pt}iso{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymchi}im\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}iso\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inv{\isacharunderscore}{\kern0pt}right\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub B\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ {\isasymchi}im{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}eq\ im{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymf}\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub A\isactrlesub \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\isactrlbold {\isasyminverse}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ i{\isacharunderscore}{\kern0pt}iso\ terminal{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ \isakeyword{where}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isacharcolon}{\kern0pt}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}equalizer{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ m{\isacharequal}{\kern0pt}{\isachardoublequoteopen}m{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ X{\isacharequal}{\kern0pt}C{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}A{\isacharbrackright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymchi}m{\isacharunderscore}{\kern0pt}def\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}iso\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inv{\isacharunderscore}{\kern0pt}right\ m{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ isomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m\isactrlsup c{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id\isactrlsub c\ {\isacharparenleft}{\kern0pt}A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ i{\isacharunderscore}{\kern0pt}iso\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlsup c\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}inv\ {\isacharequal}{\kern0pt}\ id\isactrlsub c\ {\isacharparenleft}{\kern0pt}B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ metis\ complement{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}mono\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ im{\isacharunderscore}{\kern0pt}mono\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcong}\ B\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}C{\isacharcomma}{\kern0pt}\ i\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\ \ \ \ \isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/ETCS/HOL-ETCS/Truth.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%27=5%:%
%:%39=7%:%
%:%41=8%:%
%:%42=8%:%
%:%43=9%:%
%:%44=10%:%
%:%45=11%:%
%:%46=12%:%
%:%47=13%:%
%:%48=14%:%
%:%49=15%:%
%:%50=16%:%
%:%51=17%:%
%:%52=18%:%
%:%53=19%:%
%:%54=20%:%
%:%55=20%:%
%:%56=21%:%
%:%57=22%:%
%:%58=23%:%
%:%59=24%:%
%:%60=24%:%
%:%61=25%:%
%:%62=26%:%
%:%69=27%:%
%:%70=27%:%
%:%71=28%:%
%:%72=28%:%
%:%73=29%:%
%:%74=29%:%
%:%75=29%:%
%:%76=30%:%
%:%77=31%:%
%:%78=31%:%
%:%79=32%:%
%:%80=32%:%
%:%81=33%:%
%:%82=33%:%
%:%83=34%:%
%:%84=34%:%
%:%85=34%:%
%:%86=35%:%
%:%87=35%:%
%:%88=36%:%
%:%89=36%:%
%:%90=36%:%
%:%91=37%:%
%:%92=37%:%
%:%93=38%:%
%:%94=38%:%
%:%95=38%:%
%:%96=39%:%
%:%97=39%:%
%:%98=39%:%
%:%99=40%:%
%:%105=40%:%
%:%108=41%:%
%:%109=42%:%
%:%110=42%:%
%:%111=43%:%
%:%112=44%:%
%:%119=45%:%
%:%120=45%:%
%:%121=46%:%
%:%122=46%:%
%:%123=47%:%
%:%124=47%:%
%:%125=47%:%
%:%126=48%:%
%:%127=48%:%
%:%128=48%:%
%:%129=49%:%
%:%130=49%:%
%:%131=49%:%
%:%132=50%:%
%:%138=50%:%
%:%141=51%:%
%:%142=52%:%
%:%143=52%:%
%:%144=53%:%
%:%145=54%:%
%:%148=55%:%
%:%152=55%:%
%:%153=55%:%
%:%154=55%:%
%:%155=55%:%
%:%160=55%:%
%:%163=56%:%
%:%164=57%:%
%:%165=57%:%
%:%166=58%:%
%:%167=59%:%
%:%170=60%:%
%:%174=60%:%
%:%175=60%:%
%:%176=61%:%
%:%177=61%:%
%:%178=62%:%
%:%179=62%:%
%:%180=63%:%
%:%181=63%:%
%:%182=63%:%
%:%183=64%:%
%:%184=64%:%
%:%185=64%:%
%:%186=65%:%
%:%187=65%:%
%:%188=65%:%
%:%189=66%:%
%:%190=66%:%
%:%191=66%:%
%:%192=67%:%
%:%193=67%:%
%:%194=67%:%
%:%195=68%:%
%:%196=68%:%
%:%197=69%:%
%:%198=69%:%
%:%199=70%:%
%:%200=70%:%
%:%201=71%:%
%:%202=71%:%
%:%203=72%:%
%:%204=72%:%
%:%205=73%:%
%:%206=73%:%
%:%207=74%:%
%:%213=74%:%
%:%216=75%:%
%:%217=76%:%
%:%218=76%:%
%:%219=77%:%
%:%220=78%:%
%:%221=79%:%
%:%228=80%:%
%:%229=80%:%
%:%230=81%:%
%:%231=81%:%
%:%232=82%:%
%:%233=82%:%
%:%234=83%:%
%:%235=83%:%
%:%236=83%:%
%:%237=84%:%
%:%238=84%:%
%:%239=84%:%
%:%240=84%:%
%:%241=85%:%
%:%242=85%:%
%:%243=85%:%
%:%244=86%:%
%:%245=86%:%
%:%246=86%:%
%:%247=87%:%
%:%253=87%:%
%:%256=88%:%
%:%257=89%:%
%:%258=89%:%
%:%259=90%:%
%:%260=91%:%
%:%261=92%:%
%:%268=93%:%
%:%269=93%:%
%:%270=94%:%
%:%271=94%:%
%:%272=95%:%
%:%273=95%:%
%:%274=96%:%
%:%275=96%:%
%:%276=97%:%
%:%277=97%:%
%:%278=97%:%
%:%279=98%:%
%:%280=98%:%
%:%281=98%:%
%:%282=99%:%
%:%283=100%:%
%:%284=100%:%
%:%285=101%:%
%:%286=101%:%
%:%287=102%:%
%:%288=102%:%
%:%289=102%:%
%:%290=103%:%
%:%291=103%:%
%:%292=103%:%
%:%293=104%:%
%:%294=105%:%
%:%295=105%:%
%:%296=105%:%
%:%297=106%:%
%:%298=106%:%
%:%299=106%:%
%:%300=107%:%
%:%301=107%:%
%:%302=107%:%
%:%303=108%:%
%:%304=108%:%
%:%305=108%:%
%:%306=109%:%
%:%307=109%:%
%:%308=109%:%
%:%309=110%:%
%:%310=110%:%
%:%311=110%:%
%:%312=111%:%
%:%313=111%:%
%:%314=111%:%
%:%315=112%:%
%:%316=112%:%
%:%317=113%:%
%:%318=114%:%
%:%319=114%:%
%:%320=114%:%
%:%321=115%:%
%:%322=115%:%
%:%323=115%:%
%:%324=116%:%
%:%330=116%:%
%:%333=117%:%
%:%334=118%:%
%:%335=118%:%
%:%336=119%:%
%:%337=120%:%
%:%338=121%:%
%:%341=122%:%
%:%345=122%:%
%:%346=122%:%
%:%351=122%:%
%:%354=123%:%
%:%355=124%:%
%:%356=124%:%
%:%357=125%:%
%:%358=126%:%
%:%359=127%:%
%:%362=128%:%
%:%366=128%:%
%:%367=128%:%
%:%376=130%:%
%:%378=131%:%
%:%379=131%:%
%:%386=132%:%
%:%387=132%:%
%:%388=133%:%
%:%389=133%:%
%:%390=134%:%
%:%391=134%:%
%:%392=135%:%
%:%393=136%:%
%:%394=136%:%
%:%395=136%:%
%:%396=137%:%
%:%397=137%:%
%:%398=137%:%
%:%399=138%:%
%:%414=140%:%
%:%424=142%:%
%:%425=142%:%
%:%426=143%:%
%:%427=144%:%
%:%428=145%:%
%:%429=145%:%
%:%432=146%:%
%:%436=146%:%
%:%437=146%:%
%:%438=147%:%
%:%439=147%:%
%:%444=147%:%
%:%447=148%:%
%:%448=149%:%
%:%449=149%:%
%:%450=150%:%
%:%453=151%:%
%:%457=151%:%
%:%458=151%:%
%:%459=151%:%
%:%460=151%:%
%:%465=151%:%
%:%468=152%:%
%:%469=153%:%
%:%470=153%:%
%:%473=154%:%
%:%477=154%:%
%:%478=154%:%
%:%479=154%:%
%:%480=154%:%
%:%485=154%:%
%:%488=155%:%
%:%489=156%:%
%:%490=156%:%
%:%491=157%:%
%:%492=158%:%
%:%499=159%:%
%:%500=159%:%
%:%501=160%:%
%:%502=160%:%
%:%503=161%:%
%:%504=162%:%
%:%505=162%:%
%:%506=163%:%
%:%507=163%:%
%:%508=163%:%
%:%509=163%:%
%:%510=164%:%
%:%511=164%:%
%:%512=164%:%
%:%513=165%:%
%:%514=165%:%
%:%515=166%:%
%:%516=166%:%
%:%517=167%:%
%:%518=167%:%
%:%519=167%:%
%:%520=168%:%
%:%521=168%:%
%:%522=169%:%
%:%523=169%:%
%:%524=170%:%
%:%525=170%:%
%:%526=171%:%
%:%527=171%:%
%:%528=172%:%
%:%529=172%:%
%:%530=172%:%
%:%531=173%:%
%:%532=173%:%
%:%533=173%:%
%:%534=174%:%
%:%535=174%:%
%:%536=174%:%
%:%537=175%:%
%:%538=175%:%
%:%539=175%:%
%:%540=175%:%
%:%541=176%:%
%:%542=176%:%
%:%543=176%:%
%:%544=177%:%
%:%545=177%:%
%:%546=177%:%
%:%547=178%:%
%:%548=178%:%
%:%549=178%:%
%:%550=179%:%
%:%551=179%:%
%:%552=179%:%
%:%553=180%:%
%:%559=180%:%
%:%562=181%:%
%:%563=182%:%
%:%564=182%:%
%:%565=183%:%
%:%566=184%:%
%:%573=185%:%
%:%574=185%:%
%:%575=186%:%
%:%576=186%:%
%:%577=187%:%
%:%578=187%:%
%:%579=187%:%
%:%580=188%:%
%:%581=188%:%
%:%582=188%:%
%:%583=189%:%
%:%584=189%:%
%:%585=190%:%
%:%586=190%:%
%:%587=191%:%
%:%588=191%:%
%:%589=192%:%
%:%595=192%:%
%:%598=193%:%
%:%599=194%:%
%:%600=194%:%
%:%601=195%:%
%:%602=196%:%
%:%605=197%:%
%:%609=197%:%
%:%610=197%:%
%:%611=197%:%
%:%616=197%:%
%:%619=198%:%
%:%620=199%:%
%:%621=199%:%
%:%622=200%:%
%:%623=201%:%
%:%630=202%:%
%:%631=202%:%
%:%632=203%:%
%:%633=203%:%
%:%634=204%:%
%:%635=204%:%
%:%636=205%:%
%:%637=205%:%
%:%638=206%:%
%:%639=206%:%
%:%640=207%:%
%:%641=207%:%
%:%642=208%:%
%:%643=208%:%
%:%644=209%:%
%:%645=209%:%
%:%646=210%:%
%:%647=210%:%
%:%648=210%:%
%:%649=211%:%
%:%650=211%:%
%:%651=211%:%
%:%652=212%:%
%:%653=212%:%
%:%654=213%:%
%:%655=213%:%
%:%656=214%:%
%:%657=214%:%
%:%658=215%:%
%:%659=215%:%
%:%660=215%:%
%:%661=216%:%
%:%662=216%:%
%:%663=217%:%
%:%664=217%:%
%:%665=217%:%
%:%666=218%:%
%:%667=218%:%
%:%668=219%:%
%:%669=219%:%
%:%670=219%:%
%:%671=220%:%
%:%672=220%:%
%:%673=221%:%
%:%674=221%:%
%:%675=221%:%
%:%676=222%:%
%:%677=222%:%
%:%678=222%:%
%:%679=223%:%
%:%680=223%:%
%:%681=223%:%
%:%682=224%:%
%:%683=224%:%
%:%684=225%:%
%:%685=225%:%
%:%686=226%:%
%:%687=226%:%
%:%688=226%:%
%:%689=227%:%
%:%690=227%:%
%:%691=228%:%
%:%692=228%:%
%:%693=229%:%
%:%694=229%:%
%:%695=229%:%
%:%696=230%:%
%:%697=230%:%
%:%698=231%:%
%:%699=231%:%
%:%700=231%:%
%:%701=232%:%
%:%702=232%:%
%:%703=233%:%
%:%704=233%:%
%:%705=233%:%
%:%706=234%:%
%:%707=234%:%
%:%708=235%:%
%:%709=235%:%
%:%710=235%:%
%:%711=236%:%
%:%712=236%:%
%:%713=236%:%
%:%714=237%:%
%:%715=237%:%
%:%716=237%:%
%:%717=238%:%
%:%718=238%:%
%:%719=239%:%
%:%720=239%:%
%:%721=239%:%
%:%722=240%:%
%:%723=240%:%
%:%724=240%:%
%:%725=241%:%
%:%726=241%:%
%:%727=242%:%
%:%728=242%:%
%:%729=242%:%
%:%730=243%:%
%:%731=243%:%
%:%732=244%:%
%:%738=244%:%
%:%741=245%:%
%:%742=246%:%
%:%743=246%:%
%:%744=247%:%
%:%745=248%:%
%:%748=249%:%
%:%752=249%:%
%:%753=249%:%
%:%754=249%:%
%:%759=249%:%
%:%762=250%:%
%:%763=251%:%
%:%764=251%:%
%:%765=252%:%
%:%766=253%:%
%:%769=254%:%
%:%773=254%:%
%:%774=254%:%
%:%775=254%:%
%:%789=256%:%
%:%801=258%:%
%:%803=259%:%
%:%804=259%:%
%:%807=260%:%
%:%811=260%:%
%:%812=260%:%
%:%813=260%:%
%:%822=262%:%
%:%824=263%:%
%:%825=263%:%
%:%826=264%:%
%:%829=265%:%
%:%833=265%:%
%:%834=265%:%
%:%835=266%:%
%:%836=266%:%
%:%837=267%:%
%:%838=267%:%
%:%847=269%:%
%:%849=270%:%
%:%850=270%:%
%:%851=271%:%
%:%852=272%:%
%:%855=273%:%
%:%859=273%:%
%:%860=273%:%
%:%861=273%:%
%:%870=275%:%
%:%872=276%:%
%:%873=276%:%
%:%874=277%:%
%:%875=278%:%
%:%878=279%:%
%:%882=279%:%
%:%883=279%:%
%:%884=280%:%
%:%885=280%:%
%:%886=281%:%
%:%887=281%:%
%:%888=282%:%
%:%889=282%:%
%:%890=283%:%
%:%891=283%:%
%:%892=283%:%
%:%893=284%:%
%:%894=284%:%
%:%895=284%:%
%:%896=285%:%
%:%897=285%:%
%:%898=286%:%
%:%899=286%:%
%:%900=287%:%
%:%901=287%:%
%:%902=287%:%
%:%903=288%:%
%:%904=288%:%
%:%905=289%:%
%:%906=289%:%
%:%907=290%:%
%:%908=290%:%
%:%909=291%:%
%:%910=291%:%
%:%911=292%:%
%:%912=292%:%
%:%913=292%:%
%:%914=293%:%
%:%915=293%:%
%:%916=293%:%
%:%917=294%:%
%:%918=295%:%
%:%919=295%:%
%:%920=296%:%
%:%921=296%:%
%:%922=297%:%
%:%923=297%:%
%:%924=298%:%
%:%925=298%:%
%:%926=299%:%
%:%927=299%:%
%:%928=300%:%
%:%929=301%:%
%:%930=301%:%
%:%931=302%:%
%:%932=302%:%
%:%933=303%:%
%:%934=303%:%
%:%935=304%:%
%:%936=304%:%
%:%937=305%:%
%:%938=305%:%
%:%939=306%:%
%:%940=306%:%
%:%941=307%:%
%:%942=307%:%
%:%943=308%:%
%:%944=308%:%
%:%945=309%:%
%:%946=309%:%
%:%947=310%:%
%:%948=310%:%
%:%949=311%:%
%:%950=311%:%
%:%951=311%:%
%:%952=312%:%
%:%953=312%:%
%:%954=313%:%
%:%955=313%:%
%:%956=313%:%
%:%957=314%:%
%:%958=314%:%
%:%959=315%:%
%:%960=315%:%
%:%961=315%:%
%:%962=316%:%
%:%963=316%:%
%:%964=317%:%
%:%965=317%:%
%:%966=318%:%
%:%967=318%:%
%:%968=319%:%
%:%969=319%:%
%:%970=320%:%
%:%971=320%:%
%:%972=321%:%
%:%973=321%:%
%:%974=322%:%
%:%975=322%:%
%:%976=322%:%
%:%977=323%:%
%:%978=323%:%
%:%979=324%:%
%:%980=324%:%
%:%981=324%:%
%:%982=325%:%
%:%983=325%:%
%:%984=326%:%
%:%985=326%:%
%:%986=326%:%
%:%987=327%:%
%:%988=327%:%
%:%989=328%:%
%:%990=328%:%
%:%991=328%:%
%:%992=329%:%
%:%993=329%:%
%:%994=329%:%
%:%995=330%:%
%:%996=330%:%
%:%997=330%:%
%:%998=331%:%
%:%999=331%:%
%:%1000=331%:%
%:%1001=332%:%
%:%1002=332%:%
%:%1003=332%:%
%:%1004=333%:%
%:%1005=333%:%
%:%1006=334%:%
%:%1007=334%:%
%:%1008=334%:%
%:%1009=335%:%
%:%1010=335%:%
%:%1011=335%:%
%:%1012=336%:%
%:%1022=338%:%
%:%1024=339%:%
%:%1025=339%:%
%:%1026=340%:%
%:%1027=341%:%
%:%1034=342%:%
%:%1035=342%:%
%:%1036=343%:%
%:%1037=343%:%
%:%1038=344%:%
%:%1039=344%:%
%:%1040=344%:%
%:%1041=345%:%
%:%1042=345%:%
%:%1043=346%:%
%:%1044=346%:%
%:%1045=347%:%
%:%1046=347%:%
%:%1047=348%:%
%:%1048=348%:%
%:%1049=349%:%
%:%1050=349%:%
%:%1051=350%:%
%:%1052=350%:%
%:%1053=350%:%
%:%1054=351%:%
%:%1055=351%:%
%:%1056=351%:%
%:%1057=352%:%
%:%1058=352%:%
%:%1059=352%:%
%:%1060=353%:%
%:%1061=353%:%
%:%1062=353%:%
%:%1063=354%:%
%:%1064=354%:%
%:%1065=354%:%
%:%1066=355%:%
%:%1067=355%:%
%:%1068=356%:%
%:%1069=356%:%
%:%1070=356%:%
%:%1071=357%:%
%:%1072=357%:%
%:%1073=358%:%
%:%1074=358%:%
%:%1075=358%:%
%:%1076=359%:%
%:%1077=359%:%
%:%1078=359%:%
%:%1079=360%:%
%:%1080=360%:%
%:%1081=361%:%
%:%1082=361%:%
%:%1083=361%:%
%:%1084=362%:%
%:%1085=362%:%
%:%1086=362%:%
%:%1087=363%:%
%:%1097=365%:%
%:%1099=366%:%
%:%1100=366%:%
%:%1101=367%:%
%:%1102=368%:%
%:%1109=369%:%
%:%1110=369%:%
%:%1111=370%:%
%:%1112=370%:%
%:%1113=371%:%
%:%1114=371%:%
%:%1115=371%:%
%:%1116=372%:%
%:%1117=372%:%
%:%1118=373%:%
%:%1119=373%:%
%:%1120=374%:%
%:%1121=374%:%
%:%1122=375%:%
%:%1123=375%:%
%:%1124=376%:%
%:%1125=376%:%
%:%1126=377%:%
%:%1127=377%:%
%:%1128=377%:%
%:%1129=378%:%
%:%1130=378%:%
%:%1131=378%:%
%:%1132=379%:%
%:%1133=379%:%
%:%1134=379%:%
%:%1135=380%:%
%:%1136=380%:%
%:%1137=380%:%
%:%1138=381%:%
%:%1139=381%:%
%:%1140=381%:%
%:%1141=382%:%
%:%1142=382%:%
%:%1143=383%:%
%:%1144=383%:%
%:%1145=383%:%
%:%1146=384%:%
%:%1147=384%:%
%:%1148=385%:%
%:%1149=385%:%
%:%1150=385%:%
%:%1151=386%:%
%:%1152=386%:%
%:%1153=386%:%
%:%1154=387%:%
%:%1155=387%:%
%:%1156=388%:%
%:%1157=388%:%
%:%1158=388%:%
%:%1159=389%:%
%:%1160=389%:%
%:%1161=389%:%
%:%1162=390%:%
%:%1172=392%:%
%:%1174=393%:%
%:%1175=393%:%
%:%1176=394%:%
%:%1177=395%:%
%:%1184=396%:%
%:%1185=396%:%
%:%1186=397%:%
%:%1187=397%:%
%:%1188=398%:%
%:%1189=398%:%
%:%1190=399%:%
%:%1191=399%:%
%:%1192=400%:%
%:%1193=400%:%
%:%1194=401%:%
%:%1195=401%:%
%:%1196=402%:%
%:%1197=403%:%
%:%1198=403%:%
%:%1199=404%:%
%:%1200=404%:%
%:%1201=404%:%
%:%1202=405%:%
%:%1203=405%:%
%:%1204=406%:%
%:%1205=406%:%
%:%1206=406%:%
%:%1207=407%:%
%:%1208=407%:%
%:%1209=408%:%
%:%1210=408%:%
%:%1211=408%:%
%:%1212=409%:%
%:%1213=409%:%
%:%1214=410%:%
%:%1215=410%:%
%:%1216=410%:%
%:%1217=411%:%
%:%1218=411%:%
%:%1219=412%:%
%:%1220=412%:%
%:%1221=412%:%
%:%1222=413%:%
%:%1223=414%:%
%:%1224=414%:%
%:%1225=415%:%
%:%1226=415%:%
%:%1227=416%:%
%:%1228=416%:%
%:%1229=417%:%
%:%1230=417%:%
%:%1231=418%:%
%:%1232=418%:%
%:%1233=418%:%
%:%1234=419%:%
%:%1235=419%:%
%:%1236=419%:%
%:%1237=420%:%
%:%1238=420%:%
%:%1239=420%:%
%:%1240=421%:%
%:%1241=421%:%
%:%1242=422%:%
%:%1243=422%:%
%:%1244=423%:%
%:%1245=424%:%
%:%1246=424%:%
%:%1247=425%:%
%:%1248=425%:%
%:%1249=426%:%
%:%1250=426%:%
%:%1251=427%:%
%:%1252=427%:%
%:%1253=427%:%
%:%1254=428%:%
%:%1255=428%:%
%:%1256=428%:%
%:%1257=429%:%
%:%1258=429%:%
%:%1259=430%:%
%:%1260=430%:%
%:%1261=430%:%
%:%1262=431%:%
%:%1263=431%:%
%:%1264=431%:%
%:%1265=432%:%
%:%1266=432%:%
%:%1267=432%:%
%:%1268=433%:%
%:%1269=433%:%
%:%1270=434%:%
%:%1271=434%:%
%:%1272=435%:%
%:%1273=436%:%
%:%1274=436%:%
%:%1275=437%:%
%:%1276=437%:%
%:%1277=438%:%
%:%1278=438%:%
%:%1279=438%:%
%:%1280=439%:%
%:%1281=439%:%
%:%1282=439%:%
%:%1283=440%:%
%:%1293=442%:%
%:%1295=443%:%
%:%1296=443%:%
%:%1297=444%:%
%:%1298=445%:%
%:%1305=446%:%
%:%1306=446%:%
%:%1307=447%:%
%:%1308=447%:%
%:%1309=448%:%
%:%1310=448%:%
%:%1311=449%:%
%:%1312=449%:%
%:%1313=450%:%
%:%1314=450%:%
%:%1315=451%:%
%:%1316=451%:%
%:%1317=452%:%
%:%1318=453%:%
%:%1319=453%:%
%:%1320=454%:%
%:%1321=454%:%
%:%1322=454%:%
%:%1323=455%:%
%:%1324=455%:%
%:%1325=456%:%
%:%1326=456%:%
%:%1327=456%:%
%:%1328=457%:%
%:%1329=457%:%
%:%1330=458%:%
%:%1331=458%:%
%:%1332=458%:%
%:%1333=459%:%
%:%1334=459%:%
%:%1335=460%:%
%:%1336=460%:%
%:%1337=460%:%
%:%1338=461%:%
%:%1339=461%:%
%:%1340=462%:%
%:%1341=462%:%
%:%1342=462%:%
%:%1343=463%:%
%:%1344=464%:%
%:%1345=464%:%
%:%1346=465%:%
%:%1347=465%:%
%:%1348=466%:%
%:%1349=466%:%
%:%1350=467%:%
%:%1351=467%:%
%:%1352=468%:%
%:%1353=468%:%
%:%1354=468%:%
%:%1355=469%:%
%:%1356=469%:%
%:%1357=469%:%
%:%1358=470%:%
%:%1359=470%:%
%:%1360=470%:%
%:%1361=471%:%
%:%1362=471%:%
%:%1363=472%:%
%:%1364=472%:%
%:%1365=473%:%
%:%1366=474%:%
%:%1367=474%:%
%:%1368=475%:%
%:%1369=475%:%
%:%1370=476%:%
%:%1371=476%:%
%:%1372=477%:%
%:%1373=477%:%
%:%1374=477%:%
%:%1375=478%:%
%:%1376=478%:%
%:%1377=478%:%
%:%1378=479%:%
%:%1379=479%:%
%:%1380=480%:%
%:%1381=480%:%
%:%1382=480%:%
%:%1383=481%:%
%:%1384=481%:%
%:%1385=481%:%
%:%1386=482%:%
%:%1387=482%:%
%:%1388=482%:%
%:%1389=483%:%
%:%1390=483%:%
%:%1391=484%:%
%:%1392=484%:%
%:%1393=485%:%
%:%1394=485%:%
%:%1395=486%:%
%:%1396=486%:%
%:%1397=487%:%
%:%1398=487%:%
%:%1399=487%:%
%:%1400=488%:%
%:%1401=488%:%
%:%1402=488%:%
%:%1403=489%:%
%:%1418=491%:%
%:%1430=493%:%
%:%1432=494%:%
%:%1433=494%:%
%:%1434=495%:%
%:%1435=496%:%
%:%1436=497%:%
%:%1437=497%:%
%:%1438=498%:%
%:%1439=499%:%
%:%1440=500%:%
%:%1441=500%:%
%:%1442=501%:%
%:%1443=502%:%
%:%1446=503%:%
%:%1450=503%:%
%:%1451=503%:%
%:%1452=504%:%
%:%1453=504%:%
%:%1454=505%:%
%:%1455=505%:%
%:%1460=505%:%
%:%1463=506%:%
%:%1464=507%:%
%:%1465=507%:%
%:%1466=508%:%
%:%1467=509%:%
%:%1470=510%:%
%:%1474=510%:%
%:%1475=510%:%
%:%1476=511%:%
%:%1477=511%:%
%:%1478=512%:%
%:%1479=512%:%
%:%1484=512%:%
%:%1487=513%:%
%:%1488=514%:%
%:%1489=514%:%
%:%1490=515%:%
%:%1491=516%:%
%:%1494=517%:%
%:%1498=517%:%
%:%1499=517%:%
%:%1500=517%:%
%:%1505=517%:%
%:%1508=518%:%
%:%1509=519%:%
%:%1510=519%:%
%:%1511=520%:%
%:%1512=521%:%
%:%1519=522%:%
%:%1520=522%:%
%:%1521=523%:%
%:%1522=523%:%
%:%1523=524%:%
%:%1524=524%:%
%:%1525=524%:%
%:%1526=525%:%
%:%1527=525%:%
%:%1528=525%:%
%:%1529=526%:%
%:%1530=526%:%
%:%1531=526%:%
%:%1532=527%:%
%:%1533=527%:%
%:%1534=527%:%
%:%1535=528%:%
%:%1536=528%:%
%:%1537=528%:%
%:%1538=529%:%
%:%1539=529%:%
%:%1540=529%:%
%:%1541=530%:%
%:%1542=530%:%
%:%1543=530%:%
%:%1544=531%:%
%:%1545=531%:%
%:%1546=531%:%
%:%1547=532%:%
%:%1548=532%:%
%:%1549=532%:%
%:%1550=533%:%
%:%1560=535%:%
%:%1562=536%:%
%:%1563=536%:%
%:%1564=537%:%
%:%1565=538%:%
%:%1572=539%:%
%:%1573=539%:%
%:%1574=540%:%
%:%1575=540%:%
%:%1576=541%:%
%:%1577=541%:%
%:%1578=541%:%
%:%1579=542%:%
%:%1580=542%:%
%:%1581=543%:%
%:%1582=543%:%
%:%1583=543%:%
%:%1584=544%:%
%:%1585=545%:%
%:%1586=545%:%
%:%1587=546%:%
%:%1588=546%:%
%:%1589=547%:%
%:%1590=547%:%
%:%1591=548%:%
%:%1592=548%:%
%:%1593=549%:%
%:%1594=549%:%
%:%1595=549%:%
%:%1596=550%:%
%:%1597=550%:%
%:%1598=551%:%
%:%1599=551%:%
%:%1600=551%:%
%:%1601=552%:%
%:%1602=552%:%
%:%1603=553%:%
%:%1604=553%:%
%:%1605=554%:%
%:%1606=554%:%
%:%1607=555%:%
%:%1608=555%:%
%:%1609=556%:%
%:%1610=556%:%
%:%1611=556%:%
%:%1612=557%:%
%:%1613=557%:%
%:%1614=557%:%
%:%1615=558%:%
%:%1616=558%:%
%:%1617=559%:%
%:%1618=559%:%
%:%1619=559%:%
%:%1620=560%:%
%:%1621=560%:%
%:%1622=560%:%
%:%1623=561%:%
%:%1629=561%:%
%:%1632=562%:%
%:%1633=563%:%
%:%1634=563%:%
%:%1635=564%:%
%:%1636=565%:%
%:%1637=566%:%
%:%1640=567%:%
%:%1644=567%:%
%:%1645=567%:%
%:%1646=567%:%
%:%1651=567%:%
%:%1654=568%:%
%:%1655=569%:%
%:%1656=569%:%
%:%1657=570%:%
%:%1658=571%:%
%:%1665=572%:%
%:%1666=572%:%
%:%1667=573%:%
%:%1668=573%:%
%:%1669=574%:%
%:%1670=574%:%
%:%1671=574%:%
%:%1672=575%:%
%:%1673=575%:%
%:%1674=575%:%
%:%1675=576%:%
%:%1676=576%:%
%:%1677=576%:%
%:%1678=577%:%
%:%1679=577%:%
%:%1680=578%:%
%:%1681=578%:%
%:%1682=579%:%
%:%1683=579%:%
%:%1684=579%:%
%:%1685=580%:%
%:%1686=580%:%
%:%1687=581%:%
%:%1688=581%:%
%:%1689=581%:%
%:%1690=582%:%
%:%1691=582%:%
%:%1692=582%:%
%:%1693=583%:%
%:%1699=583%:%
%:%1702=584%:%
%:%1703=585%:%
%:%1704=585%:%
%:%1705=586%:%
%:%1706=587%:%
%:%1713=588%:%
%:%1714=588%:%
%:%1715=589%:%
%:%1716=589%:%
%:%1717=590%:%
%:%1718=590%:%
%:%1719=590%:%
%:%1720=591%:%
%:%1721=592%:%
%:%1722=592%:%
%:%1723=592%:%
%:%1724=593%:%
%:%1725=593%:%
%:%1726=593%:%
%:%1727=594%:%
%:%1728=594%:%
%:%1729=595%:%
%:%1730=595%:%
%:%1731=596%:%
%:%1732=596%:%
%:%1733=596%:%
%:%1734=597%:%
%:%1735=597%:%
%:%1736=598%:%
%:%1737=598%:%
%:%1738=598%:%
%:%1739=599%:%
%:%1740=599%:%
%:%1741=599%:%
%:%1742=600%:%
%:%1752=602%:%
%:%1754=603%:%
%:%1755=603%:%
%:%1756=604%:%
%:%1757=605%:%
%:%1758=606%:%
%:%1759=607%:%
%:%1760=608%:%
%:%1761=609%:%
%:%1764=612%:%
%:%1771=613%:%
%:%1772=613%:%
%:%1773=614%:%
%:%1774=614%:%
%:%1775=615%:%
%:%1776=616%:%
%:%1777=616%:%
%:%1778=617%:%
%:%1779=617%:%
%:%1780=618%:%
%:%1781=619%:%
%:%1782=619%:%
%:%1783=620%:%
%:%1784=620%:%
%:%1785=620%:%
%:%1786=621%:%
%:%1787=621%:%
%:%1788=622%:%
%:%1789=622%:%
%:%1790=622%:%
%:%1791=623%:%
%:%1792=623%:%
%:%1793=624%:%
%:%1794=624%:%
%:%1795=624%:%
%:%1796=625%:%
%:%1797=625%:%
%:%1798=626%:%
%:%1799=626%:%
%:%1800=626%:%
%:%1801=627%:%
%:%1802=627%:%
%:%1803=627%:%
%:%1804=628%:%
%:%1805=628%:%
%:%1806=628%:%
%:%1807=629%:%
%:%1808=629%:%
%:%1809=630%:%
%:%1810=630%:%
%:%1811=630%:%
%:%1812=631%:%
%:%1813=631%:%
%:%1814=632%:%
%:%1815=632%:%
%:%1816=632%:%
%:%1817=633%:%
%:%1818=633%:%
%:%1819=634%:%
%:%1820=634%:%
%:%1821=634%:%
%:%1822=635%:%
%:%1823=635%:%
%:%1824=636%:%
%:%1825=636%:%
%:%1826=636%:%
%:%1827=637%:%
%:%1828=637%:%
%:%1829=637%:%
%:%1830=638%:%
%:%1831=638%:%
%:%1832=639%:%
%:%1833=639%:%
%:%1834=640%:%
%:%1835=640%:%
%:%1836=640%:%
%:%1837=641%:%
%:%1838=641%:%
%:%1839=641%:%
%:%1840=642%:%
%:%1841=643%:%
%:%1842=643%:%
%:%1843=643%:%
%:%1844=643%:%
%:%1845=644%:%
%:%1846=644%:%
%:%1847=644%:%
%:%1848=645%:%
%:%1849=646%:%
%:%1850=646%:%
%:%1851=647%:%
%:%1852=647%:%
%:%1853=647%:%
%:%1854=648%:%
%:%1855=649%:%
%:%1856=649%:%
%:%1857=650%:%
%:%1858=651%:%
%:%1859=651%:%
%:%1860=652%:%
%:%1861=653%:%
%:%1862=653%:%
%:%1863=654%:%
%:%1864=654%:%
%:%1865=655%:%
%:%1866=655%:%
%:%1867=656%:%
%:%1868=656%:%
%:%1869=657%:%
%:%1870=658%:%
%:%1871=658%:%
%:%1872=659%:%
%:%1873=659%:%
%:%1874=660%:%
%:%1875=660%:%
%:%1876=661%:%
%:%1877=661%:%
%:%1878=662%:%
%:%1879=662%:%
%:%1880=662%:%
%:%1881=663%:%
%:%1882=663%:%
%:%1883=664%:%
%:%1884=664%:%
%:%1885=664%:%
%:%1886=665%:%
%:%1887=665%:%
%:%1888=666%:%
%:%1889=666%:%
%:%1890=666%:%
%:%1891=667%:%
%:%1892=667%:%
%:%1893=668%:%
%:%1894=668%:%
%:%1895=668%:%
%:%1896=669%:%
%:%1897=669%:%
%:%1898=669%:%
%:%1899=670%:%
%:%1900=670%:%
%:%1901=670%:%
%:%1902=671%:%
%:%1903=671%:%
%:%1904=672%:%
%:%1905=672%:%
%:%1906=672%:%
%:%1907=673%:%
%:%1908=673%:%
%:%1909=674%:%
%:%1910=674%:%
%:%1911=674%:%
%:%1912=675%:%
%:%1913=675%:%
%:%1914=676%:%
%:%1915=676%:%
%:%1916=676%:%
%:%1917=677%:%
%:%1918=677%:%
%:%1919=677%:%
%:%1920=678%:%
%:%1921=678%:%
%:%1922=678%:%
%:%1923=679%:%
%:%1924=679%:%
%:%1925=679%:%
%:%1926=680%:%
%:%1927=680%:%
%:%1928=681%:%
%:%1929=682%:%
%:%1930=682%:%
%:%1931=683%:%
%:%1932=684%:%
%:%1933=684%:%
%:%1934=685%:%
%:%1935=685%:%
%:%1936=685%:%
%:%1939=688%:%
%:%1940=689%:%
%:%1941=689%:%
%:%1942=689%:%
%:%1943=690%:%
%:%1944=690%:%
%:%1945=690%:%
%:%1946=691%:%
%:%1947=692%:%
%:%1948=693%:%
%:%1950=695%:%
%:%1951=696%:%
%:%1952=696%:%
%:%1953=696%:%
%:%1954=697%:%
%:%1955=698%:%
%:%1956=698%:%
%:%1957=699%:%
%:%1958=699%:%
%:%1959=700%:%
%:%1960=700%:%
%:%1961=701%:%
%:%1962=701%:%
%:%1963=702%:%
%:%1964=703%:%
%:%1965=703%:%
%:%1966=704%:%
%:%1967=704%:%
%:%1968=705%:%
%:%1969=705%:%
%:%1970=706%:%
%:%1971=706%:%
%:%1972=707%:%
%:%1973=707%:%
%:%1974=708%:%
%:%1975=708%:%
%:%1976=709%:%
%:%1977=709%:%
%:%1978=709%:%
%:%1979=710%:%
%:%1980=710%:%
%:%1981=711%:%
%:%1982=711%:%
%:%1983=711%:%
%:%1984=712%:%
%:%1985=712%:%
%:%1986=713%:%
%:%1987=713%:%
%:%1988=713%:%
%:%1989=714%:%
%:%1990=714%:%
%:%1991=715%:%
%:%1992=715%:%
%:%1993=716%:%
%:%1994=716%:%
%:%1995=717%:%
%:%1996=717%:%
%:%1997=718%:%
%:%1998=718%:%
%:%1999=719%:%
%:%2000=719%:%
%:%2001=720%:%
%:%2002=720%:%
%:%2003=721%:%
%:%2004=721%:%
%:%2005=721%:%
%:%2006=722%:%
%:%2007=722%:%
%:%2008=723%:%
%:%2009=723%:%
%:%2010=724%:%
%:%2011=724%:%
%:%2012=725%:%
%:%2013=725%:%
%:%2014=726%:%
%:%2015=726%:%
%:%2016=726%:%
%:%2017=727%:%
%:%2018=727%:%
%:%2019=728%:%
%:%2020=728%:%
%:%2021=729%:%
%:%2022=730%:%
%:%2023=730%:%
%:%2026=733%:%
%:%2027=734%:%
%:%2028=734%:%
%:%2029=735%:%
%:%2030=735%:%
%:%2031=736%:%
%:%2032=736%:%
%:%2033=737%:%
%:%2034=737%:%
%:%2035=738%:%
%:%2036=738%:%
%:%2037=739%:%
%:%2038=739%:%
%:%2039=740%:%
%:%2040=741%:%
%:%2041=741%:%
%:%2042=741%:%
%:%2043=742%:%
%:%2044=742%:%
%:%2045=742%:%
%:%2046=743%:%
%:%2047=743%:%
%:%2048=744%:%
%:%2049=744%:%
%:%2050=744%:%
%:%2051=745%:%
%:%2052=745%:%
%:%2053=746%:%
%:%2054=746%:%
%:%2055=746%:%
%:%2056=747%:%
%:%2057=747%:%
%:%2058=747%:%
%:%2059=748%:%
%:%2060=748%:%
%:%2061=748%:%
%:%2062=749%:%
%:%2063=749%:%
%:%2064=749%:%
%:%2065=750%:%
%:%2066=750%:%
%:%2067=751%:%
%:%2068=751%:%
%:%2069=752%:%
%:%2070=752%:%
%:%2071=753%:%
%:%2072=753%:%
%:%2073=754%:%
%:%2074=754%:%
%:%2075=755%:%
%:%2076=756%:%
%:%2077=756%:%
%:%2078=756%:%
%:%2079=757%:%
%:%2080=757%:%
%:%2081=757%:%
%:%2082=758%:%
%:%2083=758%:%
%:%2084=759%:%
%:%2085=759%:%
%:%2086=759%:%
%:%2087=760%:%
%:%2088=760%:%
%:%2089=761%:%
%:%2090=761%:%
%:%2091=761%:%
%:%2092=762%:%
%:%2093=762%:%
%:%2094=762%:%
%:%2095=763%:%
%:%2096=763%:%
%:%2097=763%:%
%:%2098=764%:%
%:%2099=764%:%
%:%2100=764%:%
%:%2101=765%:%
%:%2102=765%:%
%:%2103=766%:%
%:%2104=766%:%
%:%2105=767%:%
%:%2106=767%:%
%:%2107=768%:%
%:%2108=768%:%
%:%2109=769%:%
%:%2110=769%:%
%:%2113=772%:%
%:%2114=773%:%
%:%2115=773%:%
%:%2116=774%:%
%:%2131=776%:%
%:%2141=778%:%
%:%2142=778%:%
%:%2143=779%:%
%:%2144=780%:%
%:%2145=781%:%
%:%2146=781%:%
%:%2147=782%:%
%:%2148=783%:%
%:%2155=784%:%
%:%2156=784%:%
%:%2157=785%:%
%:%2158=785%:%
%:%2159=786%:%
%:%2160=786%:%
%:%2161=786%:%
%:%2162=787%:%
%:%2163=787%:%
%:%2164=787%:%
%:%2165=788%:%
%:%2166=788%:%
%:%2167=789%:%
%:%2168=789%:%
%:%2169=789%:%
%:%2170=790%:%
%:%2171=790%:%
%:%2172=791%:%
%:%2178=791%:%
%:%2181=792%:%
%:%2182=793%:%
%:%2183=793%:%
%:%2184=794%:%
%:%2185=795%:%
%:%2186=796%:%
%:%2187=796%:%
%:%2188=797%:%
%:%2189=798%:%
%:%2196=799%:%
%:%2197=799%:%
%:%2198=800%:%
%:%2199=800%:%
%:%2200=801%:%
%:%2201=801%:%
%:%2202=802%:%
%:%2203=802%:%
%:%2204=802%:%
%:%2205=803%:%
%:%2206=803%:%
%:%2207=804%:%
%:%2208=804%:%
%:%2209=804%:%
%:%2210=805%:%
%:%2211=805%:%
%:%2212=805%:%
%:%2213=805%:%
%:%2214=806%:%
%:%2220=806%:%
%:%2223=807%:%
%:%2224=808%:%
%:%2225=808%:%
%:%2226=809%:%
%:%2227=810%:%
%:%2230=811%:%
%:%2234=811%:%
%:%2235=811%:%
%:%2236=811%:%
%:%2241=811%:%
%:%2244=812%:%
%:%2245=813%:%
%:%2246=813%:%
%:%2247=814%:%
%:%2248=815%:%
%:%2251=816%:%
%:%2255=816%:%
%:%2256=816%:%
%:%2257=816%:%
%:%2262=816%:%
%:%2265=817%:%
%:%2266=818%:%
%:%2267=818%:%
%:%2268=819%:%
%:%2269=820%:%
%:%2272=821%:%
%:%2276=821%:%
%:%2277=821%:%
%:%2278=821%:%
%:%2279=821%:%
%:%2284=821%:%
%:%2287=822%:%
%:%2288=823%:%
%:%2289=823%:%
%:%2290=824%:%
%:%2291=825%:%
%:%2292=826%:%
%:%2299=827%:%
%:%2300=827%:%
%:%2301=828%:%
%:%2302=828%:%
%:%2303=829%:%
%:%2304=829%:%
%:%2305=829%:%
%:%2306=830%:%
%:%2307=830%:%
%:%2308=831%:%
%:%2309=831%:%
%:%2310=832%:%
%:%2311=832%:%
%:%2312=832%:%
%:%2313=833%:%
%:%2314=833%:%
%:%2315=833%:%
%:%2316=834%:%
%:%2317=834%:%
%:%2318=834%:%
%:%2319=835%:%
%:%2320=835%:%
%:%2321=836%:%
%:%2322=836%:%
%:%2323=837%:%
%:%2324=837%:%
%:%2325=837%:%
%:%2326=838%:%
%:%2327=838%:%
%:%2328=838%:%
%:%2329=839%:%
%:%2330=839%:%
%:%2331=839%:%
%:%2332=840%:%
%:%2333=840%:%
%:%2334=840%:%
%:%2335=841%:%
%:%2341=841%:%
%:%2344=842%:%
%:%2345=843%:%
%:%2346=843%:%
%:%2347=844%:%
%:%2348=845%:%
%:%2349=846%:%
%:%2356=847%:%
%:%2357=847%:%
%:%2358=848%:%
%:%2359=848%:%
%:%2360=849%:%
%:%2361=849%:%
%:%2362=850%:%
%:%2363=850%:%
%:%2364=851%:%
%:%2365=852%:%
%:%2366=852%:%
%:%2367=852%:%
%:%2368=853%:%
%:%2369=853%:%
%:%2370=854%:%
%:%2371=854%:%
%:%2372=854%:%
%:%2373=855%:%
%:%2374=855%:%
%:%2375=856%:%
%:%2376=856%:%
%:%2377=856%:%
%:%2378=857%:%
%:%2379=857%:%
%:%2380=858%:%
%:%2381=858%:%
%:%2382=858%:%
%:%2383=859%:%
%:%2389=859%:%
%:%2392=860%:%
%:%2393=861%:%
%:%2394=861%:%
%:%2395=862%:%
%:%2396=863%:%
%:%2397=864%:%
%:%2400=865%:%
%:%2404=865%:%
%:%2405=865%:%
%:%2406=866%:%
%:%2407=867%:%
%:%2408=867%:%
%:%2413=867%:%
%:%2416=868%:%
%:%2417=869%:%
%:%2418=869%:%
%:%2419=870%:%
%:%2420=871%:%
%:%2421=872%:%
%:%2424=873%:%
%:%2428=873%:%
%:%2429=873%:%
%:%2430=874%:%
%:%2431=874%:%
%:%2436=874%:%
%:%2439=875%:%
%:%2440=876%:%
%:%2441=876%:%
%:%2442=877%:%
%:%2443=878%:%
%:%2444=879%:%
%:%2451=880%:%
%:%2452=880%:%
%:%2453=881%:%
%:%2454=881%:%
%:%2455=882%:%
%:%2456=882%:%
%:%2457=882%:%
%:%2458=883%:%
%:%2459=883%:%
%:%2460=884%:%
%:%2461=884%:%
%:%2462=884%:%
%:%2463=885%:%
%:%2464=885%:%
%:%2465=885%:%
%:%2466=886%:%
%:%2467=886%:%
%:%2468=886%:%
%:%2469=887%:%
%:%2470=887%:%
%:%2471=887%:%
%:%2472=888%:%
%:%2473=888%:%
%:%2474=888%:%
%:%2475=889%:%
%:%2476=889%:%
%:%2477=889%:%
%:%2478=890%:%
%:%2479=890%:%
%:%2480=890%:%
%:%2481=891%:%
%:%2482=891%:%
%:%2483=891%:%
%:%2484=892%:%
%:%2485=892%:%
%:%2486=892%:%
%:%2487=893%:%
%:%2488=893%:%
%:%2489=893%:%
%:%2490=894%:%
%:%2491=894%:%
%:%2492=894%:%
%:%2493=895%:%
%:%2494=895%:%
%:%2495=895%:%
%:%2496=896%:%
%:%2502=896%:%
%:%2505=897%:%
%:%2506=898%:%
%:%2507=898%:%
%:%2508=899%:%
%:%2509=900%:%
%:%2510=901%:%
%:%2517=902%:%
%:%2518=902%:%
%:%2519=903%:%
%:%2520=903%:%
%:%2521=904%:%
%:%2522=904%:%
%:%2523=904%:%
%:%2524=905%:%
%:%2525=905%:%
%:%2526=906%:%
%:%2527=906%:%
%:%2528=906%:%
%:%2529=907%:%
%:%2530=907%:%
%:%2531=908%:%
%:%2532=908%:%
%:%2533=909%:%
%:%2534=909%:%
%:%2535=910%:%
%:%2536=910%:%
%:%2537=911%:%
%:%2538=911%:%
%:%2539=912%:%
%:%2540=912%:%
%:%2541=913%:%
%:%2542=913%:%
%:%2543=914%:%
%:%2544=914%:%
%:%2545=915%:%
%:%2546=915%:%
%:%2547=915%:%
%:%2548=916%:%
%:%2549=916%:%
%:%2550=916%:%
%:%2551=917%:%
%:%2552=917%:%
%:%2553=917%:%
%:%2554=918%:%
%:%2555=918%:%
%:%2556=919%:%
%:%2557=919%:%
%:%2558=919%:%
%:%2559=920%:%
%:%2560=920%:%
%:%2561=921%:%
%:%2562=921%:%
%:%2563=922%:%
%:%2564=922%:%
%:%2565=922%:%
%:%2566=923%:%
%:%2567=923%:%
%:%2568=924%:%
%:%2569=924%:%
%:%2570=924%:%
%:%2571=925%:%
%:%2572=925%:%
%:%2573=925%:%
%:%2574=926%:%
%:%2575=926%:%
%:%2576=927%:%
%:%2577=927%:%
%:%2578=927%:%
%:%2579=928%:%
%:%2580=928%:%
%:%2581=929%:%
%:%2582=929%:%
%:%2583=929%:%
%:%2584=930%:%
%:%2585=930%:%
%:%2586=930%:%
%:%2587=931%:%
%:%2593=931%:%
%:%2596=932%:%
%:%2597=933%:%
%:%2598=933%:%
%:%2599=934%:%
%:%2600=935%:%
%:%2601=936%:%
%:%2608=937%:%
%:%2609=937%:%
%:%2610=938%:%
%:%2611=938%:%
%:%2612=939%:%
%:%2613=939%:%
%:%2614=939%:%
%:%2615=940%:%
%:%2616=940%:%
%:%2617=941%:%
%:%2618=941%:%
%:%2619=941%:%
%:%2620=942%:%
%:%2621=942%:%
%:%2622=943%:%
%:%2623=943%:%
%:%2624=944%:%
%:%2625=944%:%
%:%2626=945%:%
%:%2627=945%:%
%:%2628=945%:%
%:%2629=946%:%
%:%2630=946%:%
%:%2631=947%:%
%:%2632=947%:%
%:%2633=948%:%
%:%2634=948%:%
%:%2635=949%:%
%:%2636=949%:%
%:%2637=950%:%
%:%2638=950%:%
%:%2639=951%:%
%:%2640=951%:%
%:%2641=952%:%
%:%2642=952%:%
%:%2643=953%:%
%:%2644=953%:%
%:%2645=954%:%
%:%2646=954%:%
%:%2647=954%:%
%:%2648=955%:%
%:%2649=955%:%
%:%2650=955%:%
%:%2651=955%:%
%:%2652=956%:%
%:%2653=956%:%
%:%2654=956%:%
%:%2655=957%:%
%:%2656=957%:%
%:%2657=958%:%
%:%2658=958%:%
%:%2659=959%:%
%:%2660=959%:%
%:%2661=960%:%
%:%2662=960%:%
%:%2663=961%:%
%:%2664=961%:%
%:%2665=962%:%
%:%2666=962%:%
%:%2667=962%:%
%:%2668=963%:%
%:%2669=963%:%
%:%2670=963%:%
%:%2671=964%:%
%:%2672=964%:%
%:%2673=965%:%
%:%2674=965%:%
%:%2675=965%:%
%:%2676=966%:%
%:%2677=966%:%
%:%2678=966%:%
%:%2679=967%:%
%:%2680=967%:%
%:%2681=967%:%
%:%2682=968%:%
%:%2683=968%:%
%:%2684=969%:%
%:%2685=969%:%
%:%2686=969%:%
%:%2687=970%:%
%:%2688=970%:%
%:%2689=970%:%
%:%2690=971%:%
%:%2691=971%:%
%:%2692=972%:%
%:%2693=973%:%
%:%2694=973%:%
%:%2695=974%:%
%:%2696=974%:%
%:%2697=975%:%
%:%2698=975%:%
%:%2699=976%:%
%:%2700=976%:%
%:%2701=977%:%
%:%2702=977%:%
%:%2703=977%:%
%:%2704=978%:%
%:%2705=978%:%
%:%2706=978%:%
%:%2707=979%:%
%:%2708=979%:%
%:%2709=979%:%
%:%2710=980%:%
%:%2711=980%:%
%:%2712=981%:%
%:%2713=981%:%
%:%2714=981%:%
%:%2715=982%:%
%:%2716=982%:%
%:%2717=983%:%
%:%2718=983%:%
%:%2719=983%:%
%:%2720=983%:%
%:%2721=983%:%
%:%2722=984%:%
%:%2723=984%:%
%:%2724=985%:%
%:%2725=985%:%
%:%2726=985%:%
%:%2727=986%:%
%:%2728=987%:%
%:%2729=987%:%
%:%2730=987%:%
%:%2731=988%:%
%:%2732=988%:%
%:%2733=989%:%
%:%2734=990%:%
%:%2735=990%:%
%:%2736=991%:%
%:%2737=991%:%
%:%2738=992%:%
%:%2739=992%:%
%:%2740=993%:%
%:%2741=993%:%
%:%2742=993%:%
%:%2743=994%:%
%:%2744=994%:%
%:%2745=994%:%
%:%2746=995%:%
%:%2747=995%:%
%:%2748=996%:%
%:%2749=996%:%
%:%2750=997%:%
%:%2751=997%:%
%:%2752=998%:%
%:%2753=998%:%
%:%2754=998%:%
%:%2755=999%:%
%:%2756=999%:%
%:%2757=999%:%
%:%2758=1000%:%
%:%2759=1000%:%
%:%2760=1001%:%
%:%2761=1001%:%
%:%2762=1002%:%
%:%2763=1002%:%
%:%2764=1002%:%
%:%2765=1003%:%
%:%2766=1003%:%
%:%2767=1003%:%
%:%2768=1004%:%
%:%2774=1004%:%
%:%2779=1005%:%
%:%2784=1006%:%
