%
\begin{isabellebody}%
\setisabellecontext{Axiom{\isacharunderscore}{\kern0pt}Of{\isacharunderscore}{\kern0pt}Choice}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Axiom{\isacharunderscore}{\kern0pt}Of{\isacharunderscore}{\kern0pt}Choice\isanewline
\ \ \isakeyword{imports}\ Coproduct\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Axiom of Choice%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The two definitions below correspond to Definition 2.7.1 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ section{\isacharunderscore}{\kern0pt}of\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}sectionof{\isachardoublequoteclose}\ {\isadigit{9}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}s\ sectionof\ f\ {\isasymlongleftrightarrow}\ s\ {\isacharcolon}{\kern0pt}\ codomain\ f\ {\isasymrightarrow}\ domain\ f\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ s\ {\isacharequal}{\kern0pt}\ id\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}epimorphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}epimorphism\ f\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ s{\isachardot}{\kern0pt}\ \ s\ {\isacharcolon}{\kern0pt}\ codomain\ f\ {\isasymrightarrow}\ domain\ f\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ s\ {\isacharequal}{\kern0pt}\ id\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}split{\isacharunderscore}{\kern0pt}epic{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}epimorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ s\ {\isacharequal}{\kern0pt}\ id\ Y{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}s{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}split{\isacharunderscore}{\kern0pt}epic\ f{\isacharunderscore}{\kern0pt}type\ split{\isacharunderscore}{\kern0pt}epimorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sections{\isacharunderscore}{\kern0pt}define{\isacharunderscore}{\kern0pt}splits{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}s\ sectionof\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}s\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymand}\ split{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ section{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def\ split{\isacharunderscore}{\kern0pt}epimorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The axiomatization below corresponds to Axiom 11 (Axiom of Choice) in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{axiomatization}\isamarkupfalse%
\isanewline
\ \ \isakeyword{where}\isanewline
\ \ axiom{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}choice{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ f\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ g\ {\isachardot}{\kern0pt}\ g\ sectionof\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ epis{\isacharunderscore}{\kern0pt}give{\isacharunderscore}{\kern0pt}monos{\isacharcolon}{\kern0pt}\ \ \isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}g{\isachardot}{\kern0pt}\ g{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymand}\ monomorphism\ g\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ id\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ metis\ axiom{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}choice\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic\ f{\isacharunderscore}{\kern0pt}epi\ id{\isacharunderscore}{\kern0pt}isomorphism\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ section{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ epis{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}split{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}epimorphism\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ epis{\isacharunderscore}{\kern0pt}give{\isacharunderscore}{\kern0pt}monos\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \ f{\isacharunderscore}{\kern0pt}epi\ split{\isacharunderscore}{\kern0pt}epimorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.6.8 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ monos{\isacharunderscore}{\kern0pt}give{\isacharunderscore}{\kern0pt}epis{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ X{\isacharunderscore}{\kern0pt}nonempty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nonempty\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}g{\isachardot}{\kern0pt}\ g{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymand}\ epimorphism\ g\ {\isasymand}\ g\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ id\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ g\ m\ E\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ g{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ g{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\ \isakeyword{and}\ f{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}factorization{\isadigit{2}}\ f{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ g{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\ A\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}mono\ f{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ g{\isacharunderscore}{\kern0pt}epi\ g{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}inv\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharunderscore}{\kern0pt}inv\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ g{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ g{\isacharunderscore}{\kern0pt}inv\ {\isacharequal}{\kern0pt}\ id\ E{\isachardoublequoteclose}\ \isakeyword{and}\ g{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharunderscore}{\kern0pt}inv\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ id\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}type\ isomorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}nonempty\ nonempty{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}g{\isachardot}{\kern0pt}\ g{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymand}\ epimorphism\ g\ {\isasymand}\ g\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ id\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ func{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}\ y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ X\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f\ {\isasymcirc}\isactrlsub c\ y\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}try{\isacharunderscore}{\kern0pt}cast\ m\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}coproj\ E\ {\isacharparenleft}{\kern0pt}Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ m{\isacharunderscore}{\kern0pt}mono\ try{\isacharunderscore}{\kern0pt}cast{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}m{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}coproj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}coprod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ g{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}g\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism\ {\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ surjective{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}xa{\isachardot}{\kern0pt}\ xa\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ xa\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ func{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}eq\ y{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g{\isacharunderscore}{\kern0pt}inv\ {\isasymamalg}\ {\isacharparenleft}{\kern0pt}x\ {\isasymcirc}\isactrlsub c\ {\isasymbeta}\isactrlbsub Y\ {\isasymsetminus}\ {\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ try{\isacharunderscore}{\kern0pt}cast\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ id\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ func{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}eq\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ f{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule\ one{\isacharunderscore}{\kern0pt}separator{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.7.2(i) in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}{\kern0pt}epis{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}regular{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}split{\isacharunderscore}{\kern0pt}epimorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}epimorphism\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ s\ \isakeyword{where}\ s{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ s{\isacharunderscore}{\kern0pt}splits{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ s\ {\isacharequal}{\kern0pt}\ id\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}type\ split{\isacharunderscore}{\kern0pt}epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}coequalizer\ Y\ f\ {\isacharparenleft}{\kern0pt}s\ {\isasymcirc}\isactrlsub c\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ comp{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ coequalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ epimorphisms{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}regular\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.7.2(ii) in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ sections{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}regular{\isacharunderscore}{\kern0pt}monos{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ s{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}s\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}s\ sectionof\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}monomorphism\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}coequalizer\ Y\ f\ {\isacharparenleft}{\kern0pt}s\ {\isasymcirc}\isactrlsub c\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ section{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic{\isacharprime}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}isomorphism\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}regmono\ section{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/ETCS/HOL-ETCS/Axiom_Of_Choice.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%27=5%:%
%:%39=7%:%
%:%41=8%:%
%:%42=8%:%
%:%43=9%:%
%:%44=10%:%
%:%45=11%:%
%:%46=11%:%
%:%47=12%:%
%:%48=13%:%
%:%49=14%:%
%:%50=14%:%
%:%51=15%:%
%:%52=16%:%
%:%53=17%:%
%:%56=18%:%
%:%60=18%:%
%:%61=18%:%
%:%62=18%:%
%:%67=18%:%
%:%70=19%:%
%:%71=20%:%
%:%72=20%:%
%:%73=21%:%
%:%74=22%:%
%:%75=23%:%
%:%78=24%:%
%:%82=24%:%
%:%83=24%:%
%:%84=24%:%
%:%93=26%:%
%:%95=27%:%
%:%96=27%:%
%:%97=28%:%
%:%98=29%:%
%:%99=30%:%
%:%100=31%:%
%:%101=31%:%
%:%102=32%:%
%:%103=33%:%
%:%104=34%:%
%:%107=35%:%
%:%111=35%:%
%:%112=35%:%
%:%113=36%:%
%:%114=36%:%
%:%119=36%:%
%:%122=37%:%
%:%123=38%:%
%:%124=38%:%
%:%125=39%:%
%:%126=40%:%
%:%127=41%:%
%:%130=42%:%
%:%134=42%:%
%:%135=42%:%
%:%136=42%:%
%:%145=44%:%
%:%147=45%:%
%:%148=45%:%
%:%149=46%:%
%:%150=47%:%
%:%151=48%:%
%:%152=49%:%
%:%159=50%:%
%:%160=50%:%
%:%161=51%:%
%:%162=51%:%
%:%163=52%:%
%:%164=53%:%
%:%165=53%:%
%:%166=53%:%
%:%167=54%:%
%:%168=55%:%
%:%169=55%:%
%:%170=56%:%
%:%171=56%:%
%:%172=57%:%
%:%173=57%:%
%:%174=58%:%
%:%175=58%:%
%:%176=59%:%
%:%177=59%:%
%:%178=60%:%
%:%179=60%:%
%:%180=60%:%
%:%181=61%:%
%:%182=61%:%
%:%183=62%:%
%:%184=62%:%
%:%185=62%:%
%:%186=63%:%
%:%187=63%:%
%:%188=63%:%
%:%189=64%:%
%:%190=64%:%
%:%191=64%:%
%:%192=65%:%
%:%193=65%:%
%:%194=65%:%
%:%195=66%:%
%:%196=66%:%
%:%197=67%:%
%:%198=68%:%
%:%199=68%:%
%:%200=69%:%
%:%201=69%:%
%:%202=70%:%
%:%203=70%:%
%:%204=70%:%
%:%205=71%:%
%:%206=72%:%
%:%207=72%:%
%:%208=72%:%
%:%209=73%:%
%:%210=74%:%
%:%211=74%:%
%:%212=75%:%
%:%213=75%:%
%:%214=75%:%
%:%215=76%:%
%:%216=77%:%
%:%217=77%:%
%:%218=78%:%
%:%219=78%:%
%:%220=79%:%
%:%221=79%:%
%:%222=80%:%
%:%223=80%:%
%:%224=81%:%
%:%225=82%:%
%:%226=82%:%
%:%227=83%:%
%:%228=83%:%
%:%229=84%:%
%:%230=84%:%
%:%231=85%:%
%:%232=85%:%
%:%233=86%:%
%:%234=87%:%
%:%235=87%:%
%:%236=88%:%
%:%237=89%:%
%:%238=89%:%
%:%239=89%:%
%:%240=90%:%
%:%241=90%:%
%:%242=90%:%
%:%243=91%:%
%:%244=91%:%
%:%245=92%:%
%:%246=92%:%
%:%247=92%:%
%:%248=93%:%
%:%249=93%:%
%:%250=94%:%
%:%251=94%:%
%:%252=94%:%
%:%253=95%:%
%:%254=95%:%
%:%255=96%:%
%:%256=96%:%
%:%257=96%:%
%:%258=97%:%
%:%259=97%:%
%:%260=97%:%
%:%261=98%:%
%:%262=98%:%
%:%263=99%:%
%:%264=100%:%
%:%265=100%:%
%:%266=101%:%
%:%267=101%:%
%:%268=102%:%
%:%269=102%:%
%:%270=103%:%
%:%271=103%:%
%:%272=104%:%
%:%273=105%:%
%:%274=105%:%
%:%275=106%:%
%:%276=106%:%
%:%277=107%:%
%:%278=108%:%
%:%279=108%:%
%:%280=109%:%
%:%281=109%:%
%:%282=109%:%
%:%283=110%:%
%:%284=111%:%
%:%285=111%:%
%:%286=112%:%
%:%287=112%:%
%:%288=113%:%
%:%289=113%:%
%:%290=114%:%
%:%291=114%:%
%:%292=115%:%
%:%293=116%:%
%:%294=116%:%
%:%295=117%:%
%:%296=117%:%
%:%297=118%:%
%:%298=118%:%
%:%299=119%:%
%:%309=121%:%
%:%311=122%:%
%:%312=122%:%
%:%313=123%:%
%:%314=124%:%
%:%315=125%:%
%:%322=126%:%
%:%323=126%:%
%:%324=127%:%
%:%325=127%:%
%:%326=128%:%
%:%327=128%:%
%:%328=129%:%
%:%329=129%:%
%:%330=129%:%
%:%331=130%:%
%:%332=130%:%
%:%333=131%:%
%:%334=131%:%
%:%335=132%:%
%:%336=133%:%
%:%337=133%:%
%:%338=133%:%
%:%339=134%:%
%:%340=134%:%
%:%341=134%:%
%:%342=135%:%
%:%352=137%:%
%:%354=138%:%
%:%355=138%:%
%:%356=139%:%
%:%357=140%:%
%:%358=141%:%
%:%365=142%:%
%:%366=142%:%
%:%367=143%:%
%:%368=143%:%
%:%369=144%:%
%:%370=144%:%
%:%371=145%:%
%:%372=145%:%
%:%373=146%:%
%:%374=147%:%
%:%375=147%:%
%:%376=147%:%
%:%377=148%:%
%:%378=148%:%
%:%379=149%:%
%:%385=149%:%
%:%390=150%:%
%:%395=151%:%
