%
\begin{isabellebody}%
\setisabellecontext{Equivalence}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Equivalence\isanewline
\ \ \isakeyword{imports}\ Truth\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Equivalence Classes%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}reflexive{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}R\ {\isasymsubseteq}\isactrlsub c\ X{\isasymtimes}\isactrlsub cX\ {\isasymand}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}x{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}on\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}symmetric{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}R\ \ {\isasymsubseteq}\isactrlsub c\ X{\isasymtimes}\isactrlsub cX\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ y{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ \ y\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R\ {\isasymlongrightarrow}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}x{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ transitive{\isacharunderscore}{\kern0pt}on\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}transitive{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}R\ \ {\isasymsubseteq}\isactrlsub c\ X{\isasymtimes}\isactrlsub cX\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ y\ z{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ \ y\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ z\ {\isasymin}\isactrlsub c\ X\ \ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R\ {\isasymand}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R\ {\isasymlongrightarrow}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ R\ \ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}reflexive{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isasymand}\ symmetric{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isasymand}\ transitive{\isacharunderscore}{\kern0pt}on\ X\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ R\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ y{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ y\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ reflexive{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reflexive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}x{\isasymrangle}\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymand}\ monomorphism\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ snd\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ fst\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymand}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}x{\isasymrangle}\ factorsthru\ snd\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ xx{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}x{\isasymrangle}\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}x{\isasymrangle}\ factorsthru\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ x{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ xx{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ symmetric{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}symmetric{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ relation{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ m\ {\isasymcirc}\isactrlsub c\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ m\ {\isasymcirc}\isactrlsub c\ w\ {\isacharequal}{\kern0pt}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ fst{\isacharunderscore}{\kern0pt}conv\ snd{\isacharunderscore}{\kern0pt}conv\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ transitive{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ transitive{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}transitive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ z{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ relation{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ m\ {\isasymcirc}\isactrlsub c\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ relation{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ m\ {\isasymcirc}\isactrlsub c\ w\ {\isacharequal}{\kern0pt}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}u{\isachardot}{\kern0pt}\ u\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ m\ {\isasymcirc}\isactrlsub c\ u\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ fst{\isacharunderscore}{\kern0pt}conv\ snd{\isacharunderscore}{\kern0pt}conv\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.3.3 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}reflexive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}x{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ assms\ comp{\isacharunderscore}{\kern0pt}type\ diag{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}elements\ diagonal{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}monomorphism\isanewline
\ \ \ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism{\isacharunderscore}{\kern0pt}type\ pair{\isacharunderscore}{\kern0pt}factorsthru{\isacharunderscore}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}symmetric{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ xy{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}y{\isacharcomma}{\kern0pt}x{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}transitive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\ z\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ z{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ xy{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ yz{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}y{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ x{\isacharunderscore}{\kern0pt}type\ xy{\isacharunderscore}{\kern0pt}in\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ eqn{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ y{\isacharunderscore}{\kern0pt}type\ yz{\isacharunderscore}{\kern0pt}in\ z{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ eqn{\isadigit{1}}\ eqn{\isadigit{2}}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ x{\isacharunderscore}{\kern0pt}type\ z{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The axiomatization below corresponds to Axiom 6 (Equivalence Classes) in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{axiomatization}\isamarkupfalse%
\ \isanewline
\ \ quotient{\isacharunderscore}{\kern0pt}set\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}cset\ {\isasymtimes}\ cfunc{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymsslash}{\isachardoublequoteclose}\ {\isadigit{5}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ quotient{\isacharunderscore}{\kern0pt}func\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\ \ equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isasymLongrightarrow}\ equiv{\isacharunderscore}{\kern0pt}class\ R\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ R{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isasymLongrightarrow}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\isactrlsub c\ X{\isasymtimes}\isactrlsub cX\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cX\isactrlesub \ R\ {\isasymlongleftrightarrow}\ equiv{\isacharunderscore}{\kern0pt}class\ R\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class\ R\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isasymLongrightarrow}\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ R\ f{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ quotient{\isacharunderscore}{\kern0pt}func\ f\ R\ {\isacharcolon}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ R\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isasymLongrightarrow}\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ R\ f{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ quotient{\isacharunderscore}{\kern0pt}func\ f\ R\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ R\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\ \isakeyword{and}\ \ \isanewline
\ \ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ R\ {\isasymLongrightarrow}\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ R\ f{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ h\ {\isacharcolon}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ R\ {\isasymrightarrow}\ Y\ {\isasymLongrightarrow}\ h\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ R\ {\isacharequal}{\kern0pt}\ f\ {\isasymLongrightarrow}\ h\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}func\ f\ R{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Note that \isa{{\isacharparenleft}{\kern0pt}{\isasymsslash}{\isacharparenright}{\kern0pt}} corresponds to $X/R$, \isa{equiv{\isacharunderscore}{\kern0pt}class} corresponds to the
  canonical quotient mapping $q$, and \isa{quotient{\isacharunderscore}{\kern0pt}func} corresponds to $\bar{f}$ in Halvorson's
  formulation of this axiom.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ equiv{\isacharunderscore}{\kern0pt}class{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\isactrlbsub {\isacharunderscore}{\kern0pt}\isactrlesub {\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}\isactrlbsub R\isactrlesub \ {\isasymequiv}\ equiv{\isacharunderscore}{\kern0pt}class\ R\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Coequalizers and Epimorphisms%
}
\isamarkuptrue%
%
\isamarkupsubsection{Coequalizers%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The definition below corresponds to a comment after Axiom 6 (Equivalence Classes) in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ coequalizer\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}coequalizer\ E\ m\ f\ g\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ X\ Y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}g\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ h\ F{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}h\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}\ k{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}coequalizer\ E\ m\ f\ g\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}m\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ h\ F{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}h\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}h\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}\ k{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ F{\isacharparenright}{\kern0pt}\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.3.1 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}coequalizer\ E\ m\ f\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}coequalizer\ F\ n\ f\ g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E\ {\isasymcong}\ F{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k{\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ F\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ \ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ coequalizer{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ k{\isacharprime}{\kern0pt}\ \isakeyword{where}\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ E\ {\isasymand}\ k{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ \ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ coequalizer{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ F\ {\isasymand}\ k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ \ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ coequalizer{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ coequalizer{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ kk{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}idF{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymcirc}\isactrlsub c\ k{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ coequalizer{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharprime}{\kern0pt}k{\isacharunderscore}{\kern0pt}idE{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ id\ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ coequalizer{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}E\ {\isasymcong}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ isomorphism{\isacharunderscore}{\kern0pt}def\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharprime}{\kern0pt}k{\isacharunderscore}{\kern0pt}idE\ k{\isacharunderscore}{\kern0pt}def\ kk{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}idF\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.3.2 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}coequalizer\ E\ m\ f\ g\ {\isasymLongrightarrow}\ \ epimorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def\ epimorphism{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ k\ h\ X\ Y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ fm{\isacharunderscore}{\kern0pt}gm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ uniqueness{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F\ {\isasymand}\ h\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ F\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ relation{\isacharunderscore}{\kern0pt}k{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}domain\ k\ {\isacharequal}{\kern0pt}codomain\ m\ {\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ relation{\isacharunderscore}{\kern0pt}h{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}domain\ h\ {\isacharequal}{\kern0pt}\ codomain\ m{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}mh{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ fm{\isacharunderscore}{\kern0pt}gm\ g{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}mh\ m{\isacharunderscore}{\kern0pt}type\ relation{\isacharunderscore}{\kern0pt}k\ relation{\isacharunderscore}{\kern0pt}h\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ {\isachardoublequoteopen}z{\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ codomain{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}\ {\isasymand}\ z\ {\isasymcirc}\isactrlsub c\ m\ \ {\isacharequal}{\kern0pt}\ k\ {\isasymcirc}\isactrlsub c\ m\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}\ j{\isachardot}{\kern0pt}\ j{\isacharcolon}{\kern0pt}E\ {\isasymrightarrow}\ codomain{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}\ {\isasymand}\ \ j\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ k\ {\isasymcirc}\isactrlsub c\ m\ {\isasymlongrightarrow}\ j\ {\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ uniqueness\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}erule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}k\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\ \isakeyword{in}\ allE{\isacharcomma}{\kern0pt}\ erule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}codomain{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ allE{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ smt\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ codomain{\isacharunderscore}{\kern0pt}comp\ comp{\isacharunderscore}{\kern0pt}associative\ domain{\isacharunderscore}{\kern0pt}comp\ f{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}mh\ m{\isacharunderscore}{\kern0pt}type\ relation{\isacharunderscore}{\kern0pt}k\ relation{\isacharunderscore}{\kern0pt}h{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ codomain{\isacharunderscore}{\kern0pt}comp\ m{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}mh\ m{\isacharunderscore}{\kern0pt}type\ relation{\isacharunderscore}{\kern0pt}k\ relation{\isacharunderscore}{\kern0pt}h{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ canonical{\isacharunderscore}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}coequalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}coequalizer\ {\isacharparenleft}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def\ \isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}X\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}R{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m{\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ one{\isacharunderscore}{\kern0pt}separator{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}{\isachardoublequoteopen}R{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ b\ \isakeyword{where}\ a{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ b{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}x{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}b{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ab{\isacharunderscore}{\kern0pt}inR{\isacharunderscore}{\kern0pt}relXX{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}a{\isacharcomma}{\kern0pt}b{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}x{\isacharunderscore}{\kern0pt}type\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ x{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ a\ {\isacharequal}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}eq\ assms\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}a{\isacharcomma}{\kern0pt}b{\isasymrangle}\ {\isacharequal}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}a{\isacharcomma}{\kern0pt}b{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}type\ b{\isacharunderscore}{\kern0pt}type\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}x{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}type\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ m{\isacharunderscore}{\kern0pt}x{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ h\ F\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ h\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}proj{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}proj{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xy\ \isakeyword{where}\ xy{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xy\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ xy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ xy\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ xy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}type\ xy{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}proj{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}proj{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isasymcirc}\isactrlsub c\ x\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ F\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ h{\isacharunderscore}{\kern0pt}type\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}quotient{\isacharunderscore}{\kern0pt}func\ h\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ F\ k\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}y\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ y{\isacharunderscore}{\kern0pt}type\ k{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}X{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}F{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ unfold\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a\ b\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ b{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ab{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}a{\isacharcomma}{\kern0pt}b{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ k{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ a\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}type\ b{\isacharunderscore}{\kern0pt}type\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}func\ {\isacharparenleft}{\kern0pt}y\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ k{\isacharunderscore}{\kern0pt}type\ k{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}unique{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}X{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}F{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ unfold\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a\ b\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ b{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ab{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}a{\isacharcomma}{\kern0pt}b{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\ \isakeyword{and}\ m{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ comp{\isacharunderscore}{\kern0pt}type\ k{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ a\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}type\ b{\isacharunderscore}{\kern0pt}type\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}eq\ k{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ canonical{\isacharunderscore}{\kern0pt}quot{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms\ canonical{\isacharunderscore}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}coequalizer\ coequalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Regular Epimorphisms%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The definition below corresponds to Definition 2.3.4 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ regular{\isacharunderscore}{\kern0pt}epimorphism\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}epimorphism\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ g\ h{\isachardot}{\kern0pt}\ coequalizer\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}\ f\ g\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.3.5 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ reg{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}epimorphism\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}isomorphism\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ g\ h\ \isakeyword{where}\ gh{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}coequalizer\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}\ f\ g\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ regular{\isacharunderscore}{\kern0pt}epimorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ W\ \isakeyword{where}\ W{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g{\isacharcolon}{\kern0pt}\ W\ {\isasymrightarrow}\ X{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}h{\isacharcolon}{\kern0pt}\ W\ {\isasymrightarrow}\ X{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}coequalizer\ Y\ f\ g\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ coequalizer{\isacharunderscore}{\kern0pt}def\ gh{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fg{\isacharunderscore}{\kern0pt}eqs{\isacharunderscore}{\kern0pt}fh{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def\ gh{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\ \ \ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ \ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ W{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\ \ \ \ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymand}\ j\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ \ id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \ W{\isacharunderscore}{\kern0pt}def\ \ coequalizer{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ id{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ j{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ j{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ W{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ calculation\ coequalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}\ j{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ isomorphism{\isacharunderscore}{\kern0pt}def\ j{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The two lemmas below correspond to Proposition 2.3.6 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ epimorphism{\isacharunderscore}{\kern0pt}coequalizer{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}pair{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}coequalizer\ Y\ f\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ coequalizer{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}X\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}pullback\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ g\ E\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ F\ \isakeyword{where}\ F{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}F\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ q\ \isakeyword{where}\ q{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q\ {\isacharequal}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ F{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class{\isacharunderscore}{\kern0pt}type\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}bar\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}func\ f\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ F{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fibr{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isacharcolon}{\kern0pt}\ F\ \isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub \ F\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fibr{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isacharcolon}{\kern0pt}\ F\ \isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub \ F\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isanewline
\ \ \isanewline
\ \ \ \ \isanewline
\ \ \ \ \isanewline
\ \ \ \ \isanewline
\ \ \ \ \isanewline
\ \ \ \ \isanewline
\ \ \ \ \isanewline
\ \ \ \ \isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar\ {\isasymcirc}\isactrlsub c\ q\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fact{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fact{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}def\ fact{\isadigit{1}}\ fact{\isadigit{2}}\ q{\isacharunderscore}{\kern0pt}def\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ F\ \isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub \ F\ {\isasymand}\isanewline
\ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}connection{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ Y\ {\isacharequal}{\kern0pt}\ Y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}q\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ canonical{\isacharunderscore}{\kern0pt}quot{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epi\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar\ {\isasymcirc}\isactrlsub c\ q\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}eqs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ canonical{\isacharunderscore}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}coequalizer\ coequalizer{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ q{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isanewline
\ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ b\ \isakeyword{where}\ b{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ F\ \isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub \ F{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ left{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ right{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ epi{\isacharunderscore}{\kern0pt}b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ canonical{\isacharunderscore}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}coequalizer\ coequalizer{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}type\ epi{\isacharunderscore}{\kern0pt}b\ epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ fibr{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}type\ fibr{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isanewline
\ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ b\ \isakeyword{where}\ b{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ F\ \isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\isactrlesub \ F{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ left{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ right{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ epi{\isacharunderscore}{\kern0pt}b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}type\ epi{\isacharunderscore}{\kern0pt}b\ left{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs\ right{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isanewline
\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ canonical{\isacharunderscore}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}coequalizer\ coequalizer{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}eqs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ F\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}\ F\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}type\ epi{\isacharunderscore}{\kern0pt}b\ epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ fibr{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}type\ fibr{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}fbar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ \ kern{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}TFAE{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}epimorphism{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi\ f{\isacharunderscore}{\kern0pt}eqs\ q{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}bar{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ mono{\isacharunderscore}{\kern0pt}fbar{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isanewline
\ \ \isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ F{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}eq{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv\ {\isasymcirc}\isactrlsub c\ f{\isacharunderscore}{\kern0pt}bar\ {\isacharequal}{\kern0pt}\ id{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}bar\ {\isasymcirc}\isactrlsub c\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv\ {\isacharequal}{\kern0pt}\ id{\isacharparenleft}{\kern0pt}Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}isomorphism\ f{\isacharunderscore}{\kern0pt}bar{\isacartoucheclose}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ isomorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}bar\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharunderscore}{\kern0pt}bar\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}func\ g\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member{\isadigit{2}}\ g{\isacharunderscore}{\kern0pt}eq\ g{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g{\isacharunderscore}{\kern0pt}bar\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ F{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ g{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}type\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ g{\isacharunderscore}{\kern0pt}bar\ {\isasymcirc}\isactrlsub c\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv{\isachardoublequoteclose}\ \isakeyword{and}\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\ \ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ E\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ g{\isacartoucheclose}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}eq{\isadigit{1}}\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}type\ f{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}type\ f{\isacharunderscore}{\kern0pt}eqs\ g{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}bar{\isacharunderscore}{\kern0pt}type\ g{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ q{\isacharunderscore}{\kern0pt}def\ q{\isacharunderscore}{\kern0pt}type\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}F\ k\ y{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ k\ {\isasymcirc}\isactrlsub c\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ F\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}k\ {\isasymcirc}\isactrlsub c\ f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ k\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ F\ {\isasymLongrightarrow}\ y\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ F\ {\isasymLongrightarrow}\ y\ {\isasymcirc}\isactrlsub c\ f\ {\isacharequal}{\kern0pt}\ k\ {\isasymcirc}\isactrlsub c\ f\ {\isasymLongrightarrow}\ k\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ epimorphisms{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}regular{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}epimorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}regular{\isacharunderscore}{\kern0pt}epimorphism\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ epimorphism{\isacharunderscore}{\kern0pt}coequalizer{\isacharunderscore}{\kern0pt}kernel{\isacharunderscore}{\kern0pt}pair\ regular{\isacharunderscore}{\kern0pt}epimorphism{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Epi-monic Factorization%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}factorization{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ g\ m\ E{\isachardot}{\kern0pt}\ g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E\ {\isasymand}\ m\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y\ \isanewline
\ \ \ \ {\isasymand}\ coequalizer\ E\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymand}\ monomorphism\ m\ {\isasymand}\ f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g\isanewline
\ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y\ {\isasymlongrightarrow}\ f\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ q\ \isakeyword{where}\ q{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q\ {\isacharequal}{\kern0pt}\ equiv{\isacharunderscore}{\kern0pt}class\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ E\ \isakeyword{where}\ E{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}E\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}set\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ m\ \isakeyword{where}\ m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ quotient{\isacharunderscore}{\kern0pt}func\ f\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ g\ m\ E{\isachardot}{\kern0pt}\ g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E\ {\isasymand}\ m\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y\ \isanewline
\ \ \ \ {\isasymand}\ coequalizer\ E\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymand}\ monomorphism\ m\ {\isasymand}\ f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g\isanewline
\ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y\ {\isasymlongrightarrow}\ f\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}q{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}m{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}E{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}def\ E{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}const{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel\ X\ {\isacharparenleft}{\kern0pt}X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X{\isacharcomma}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}morphism\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ const{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}member\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def\ E{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}coequalizer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}coequalizer\ E\ q\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ E{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ canonical{\isacharunderscore}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}coequalizer\ f{\isacharunderscore}{\kern0pt}type\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thm}\isamarkupfalse%
\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}connection{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ E{\isacharequal}{\kern0pt}E{\isacharcomma}{\kern0pt}\isakeyword{where}\ X{\isacharequal}{\kern0pt}X{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ h{\isacharequal}{\kern0pt}m{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ f{\isacharequal}{\kern0pt}f{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ g{\isacharequal}{\kern0pt}q{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}Y{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ q{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ canonical{\isacharunderscore}{\kern0pt}quotient{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}coequalizer\ coequalizer{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}def\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}b{\isachardot}{\kern0pt}\ b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub m\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub m\isactrlesub \ E\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}connection{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ Y{\isacharequal}{\kern0pt}Y{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ q{\isacharunderscore}{\kern0pt}epi{\isacharcomma}{\kern0pt}\ metis\ f{\isacharunderscore}{\kern0pt}const\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ m{\isacharunderscore}{\kern0pt}def\ q{\isacharunderscore}{\kern0pt}def\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ b\ \isakeyword{where}\ b{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ X\ \isactrlbsub f\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\isactrlesub \ X\ {\isasymrightarrow}\ E\ \isactrlbsub m\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub m\isactrlesub \ E{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ b{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ b{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ q\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ X\ f\ f\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ b{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}epimorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E\ {\isasymcirc}\isactrlsub c\ b\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E\ {\isasymcirc}\isactrlsub c\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq\ b{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq\ q{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ E\ m\ m\ E{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}epi\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ epimorphism{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ kern{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}iso{\isacharunderscore}{\kern0pt}TFAE{\isadigit{2}}\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}const\ f{\isacharunderscore}{\kern0pt}type\ kernel{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\ m{\isacharunderscore}{\kern0pt}def\ q{\isacharunderscore}{\kern0pt}def\ quotient{\isacharunderscore}{\kern0pt}func{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y\ {\isasymLongrightarrow}\ f\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ q\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}x{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymcirc}\isactrlsub c\ q\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}q\ f{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}x{\isacharunderscore}{\kern0pt}q\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ epimorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ m{\isacharunderscore}{\kern0pt}type\ q{\isacharunderscore}{\kern0pt}epi\ q{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}factorization{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ g\ m\ E{\isachardot}{\kern0pt}\ g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ E\ {\isasymand}\ m\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y\ \isanewline
\ \ \ \ {\isasymand}\ epimorphism\ g\ {\isasymand}\ monomorphism\ m\ {\isasymand}\ f\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g\isanewline
\ \ \ \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ E\ {\isasymrightarrow}\ Y\ {\isasymlongrightarrow}\ f\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ epi{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}factorization\ coequalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ f{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Image of a Function%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The definition below corresponds to Definition 2.3.7 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}of\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cset\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}{\isasymlparr}{\isacharunderscore}{\kern0pt}{\isasymrparr}\isactrlbsub {\isacharunderscore}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}image{\isacharunderscore}{\kern0pt}of\ f\ A\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ fA{\isachardot}{\kern0pt}\ {\isasymexists}g\ m{\isachardot}{\kern0pt}\isanewline
\ \ \ g\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ fA\ {\isasymand}\isanewline
\ \ \ m\ {\isacharcolon}{\kern0pt}\ fA\ {\isasymrightarrow}\ codomain\ f\ {\isasymand}\isanewline
\ \ \ coequalizer\ fA\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ monomorphism\ m\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ fA\ {\isasymrightarrow}\ codomain\ f\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}g\ m{\isachardot}{\kern0pt}\isanewline
\ \ \ \ g\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymand}\isanewline
\ \ \ \ m\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y\ {\isasymand}\isanewline
\ \ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ monomorphism\ m\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}g\ m{\isachardot}{\kern0pt}\isanewline
\ \ \ \ g\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymand}\isanewline
\ \ \ \ m\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymand}\isanewline
\ \ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ monomorphism\ m\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}type\ epi{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}factorization{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ n{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ X{\isacharequal}{\kern0pt}A{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}codomain\ f{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ image{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}{\isasymrestriction}\isactrlbsub {\isacharunderscore}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping\ f\ An\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ g{\isachardot}{\kern0pt}\ {\isasymexists}\ m{\isachardot}{\kern0pt}\ g\ {\isacharcolon}{\kern0pt}\ fst\ An\ {\isasymrightarrow}\ f{\isasymlparr}fst\ An{\isasymrparr}\isactrlbsub snd\ An\isactrlesub \ {\isasymand}\ m\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}fst\ An{\isasymrparr}\isactrlbsub snd\ An\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymand}\isanewline
\ \ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}fst\ An{\isasymrparr}\isactrlbsub snd\ An\isactrlesub {\isacharparenright}{\kern0pt}\ g\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}fst\ An{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ An{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ An{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ An{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}fst\ An{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ An{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ An{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ An{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ monomorphism\ m\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ snd\ An\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ g\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}fst\ An{\isasymrparr}\isactrlbsub snd\ An\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ snd\ An\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ g\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ m{\isachardot}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymand}\ m\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y\ {\isasymand}\isanewline
\ \ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ monomorphism\ m\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ codom{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}codomain\ f\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ m{\isachardot}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharcolon}{\kern0pt}\ fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ f{\isasymlparr}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isasymrparr}\isactrlbsub snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isasymand}\ m\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isasymrparr}\isactrlbsub snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymand}\isanewline
\ \ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isasymrparr}\isactrlbsub snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ monomorphism\ m\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}fst\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isasymrparr}\isactrlbsub snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ snd\ {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ insert\ assms\ image{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ codom{\isacharunderscore}{\kern0pt}f{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ codom{\isacharunderscore}{\kern0pt}f\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cset\ {\isasymRightarrow}\ cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isasymlparr}{\isacharunderscore}{\kern0pt}{\isasymrparr}\isactrlbsub {\isacharunderscore}{\kern0pt}\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}THE\ m{\isachardot}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymand}\ m\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymand}\isanewline
\ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ monomorphism\ m\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ codomain\ f\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymand}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y\ {\isasymand}\isanewline
\ \ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ monomorphism\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ codom{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}codomain\ f\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ codomain\ f\ {\isasymand}\isanewline
\ \ \ coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ monomorphism\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymand}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymand}\ \isanewline
\ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ codomain\ f\ {\isasymlongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ theI{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ insert\ assms\ codom{\isacharunderscore}{\kern0pt}f\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ codom{\isacharunderscore}{\kern0pt}f\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}coequalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}epi{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}epimorphism\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}coequalizer\ coequalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}rest{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ Y\ {\isasymLongrightarrow}\ f\ {\isasymcirc}\isactrlsub c\ n\ {\isacharequal}{\kern0pt}\ x\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}self{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}monomorphism\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}monomorphism\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub \ {\isasymcong}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}rest\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic{\isacharprime}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}type\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}epi\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isasymcong}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ isomorphic{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.3.8 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}smallest{\isacharunderscore}{\kern0pt}subobject{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ Y\ {\isasymLongrightarrow}\ f\ factorsthru\ n\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ n{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ factorsthru\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ B{\isachardoublequoteclose}\ \isakeyword{and}\ f{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}ng{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fa{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ a\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ p{\isadigit{0}}\ \isakeyword{where}\ p{\isadigit{0}}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f{\isasymcirc}\isactrlsub ca{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymcirc}\isactrlsub ca{\isacharparenright}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ p{\isadigit{1}}\ \isakeyword{where}\ p{\isadigit{1}}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f{\isasymcirc}\isactrlsub ca{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymcirc}\isactrlsub ca{\isacharparenright}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ E\ \isakeyword{where}\ E{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}E\ {\isacharequal}{\kern0pt}\ A\ \isactrlbsub f\ {\isasymcirc}\isactrlsub c\ a\isactrlesub {\isasymtimes}\isactrlsub c\isactrlbsub f\ {\isasymcirc}\isactrlsub c\ a\isactrlesub \ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fa{\isacharunderscore}{\kern0pt}coequalizes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fa{\isacharunderscore}{\kern0pt}type\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ga{\isacharunderscore}{\kern0pt}coequalizes{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ fa{\isacharunderscore}{\kern0pt}coequalizes\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}ng\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}mono\ \isacommand{unfolding}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ meson{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ F\ {\isasymand}\ h\ {\isasymcirc}\isactrlsub c\ p{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ h\ {\isasymcirc}\isactrlsub c\ p{\isadigit{1}}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub \ {\isasymrightarrow}\ F\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}coequalizer{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ n{\isacharequal}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ coequalizer{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub \ {\isasymrightarrow}\ B{\isachardoublequoteclose}\ \isakeyword{and}\ k{\isacharunderscore}{\kern0pt}e{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharequal}{\kern0pt}\ g\ {\isasymcirc}\isactrlsub c\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ga{\isacharunderscore}{\kern0pt}coequalizes\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ f{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}ng\ g{\isacharunderscore}{\kern0pt}type\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}type\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}unique\ k{\isacharunderscore}{\kern0pt}e{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}g{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}mono\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}k\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ images{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ n{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymcong}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}coequalizer\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalizer\ f{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalizer\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymcong}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ coequalizer{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}conv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ n{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharcomma}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ B\ {\isasymLongrightarrow}\ {\isasymexists}j{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharcomma}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ B{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\isanewline
\ \ \ \ i{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ B{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ i{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymcong}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type\ images{\isacharunderscore}{\kern0pt}iso\ m{\isacharunderscore}{\kern0pt}type\ n{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\isanewline
\ \ \ \ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub \ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ k{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ is{\isacharunderscore}{\kern0pt}isomorphic{\isacharunderscore}{\kern0pt}def\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ isomorphic{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ i{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}conv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\ n{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Z{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ rel{\isacharunderscore}{\kern0pt}sub{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rel{\isacharunderscore}{\kern0pt}sub{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ k\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymrightarrow}\ B{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharcolon}{\kern0pt}\ B\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}coequalizer\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalises{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A\isanewline
\ \ \ \ \ \ \ \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ unfold\ coequalizer{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}coequalizer\ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}restriction{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}\ h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ F\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ h\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ h\ {\isasymcirc}\isactrlsub c\ fibered{\isacharunderscore}{\kern0pt}product{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}proj\ A\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\ A\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub \ {\isasymrightarrow}\ F\ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ unfold\ coequalizer{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub \ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub \ {\isasymand}\ k\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}coequalises\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ presburger{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ k{\isacharprime}{\kern0pt}\ \isakeyword{where}\ \isanewline
\ \ \ \ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub \ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ n{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}maps{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub n\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isasymcirc}\isactrlsub c\ k{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ b{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}map\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic\ k{\isacharunderscore}{\kern0pt}type\ rel{\isacharunderscore}{\kern0pt}sub{\isadigit{1}}\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ k{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic\ comp{\isacharunderscore}{\kern0pt}type\ f{\isacharunderscore}{\kern0pt}type\ image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}maps{\isacharunderscore}{\kern0pt}eq\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}type\ n{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub \ {\isasymrightarrow}\ B\ {\isasymand}\ b\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\ {\isasymcirc}\isactrlsub c\ n\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}k\ {\isasymcirc}\isactrlsub c\ k{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}k{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}map\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ k{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}maps{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.3.9 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ subset{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ \ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}\ \isakeyword{where}\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub \ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}mono\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}type\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ a{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ k{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub \ {\isasymand}\ {\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\ k{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ d\ \isakeyword{where}\ d{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharequal}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub d\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub d\isactrlesub \ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}type\ d{\isacharunderscore}{\kern0pt}def\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}type\ k{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ e\ \isakeyword{where}\ e{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ d{\isacharparenright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub d\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}type\ d{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}rest{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}type\ k{\isacharunderscore}{\kern0pt}type\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ je{\isacharunderscore}{\kern0pt}equals{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymcirc}\isactrlsub c\ e\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ m{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}def\ e{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}rest\ j{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isacharparenright}{\kern0pt}\ factorsthru\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isanewline
\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ middle{\isacharunderscore}{\kern0pt}arrow\ \isakeyword{where}\ middle{\isacharunderscore}{\kern0pt}arrow{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}middle{\isacharunderscore}{\kern0pt}arrow\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ B{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ B\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ middle{\isacharunderscore}{\kern0pt}arrow{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}middle{\isacharunderscore}{\kern0pt}arrow\ {\isacharcolon}{\kern0pt}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub \ {\isasymrightarrow}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ middle{\isacharunderscore}{\kern0pt}arrow{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}h{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ B\ {\isasymand}\ m\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ m{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}middle{\isacharunderscore}{\kern0pt}arrow\ {\isasymcirc}\isactrlsub c\ k{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}mono\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}eq\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ middle{\isacharunderscore}{\kern0pt}arrow{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub id\isactrlsub c\ A\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ m{\isacharprime}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub id\isactrlsub c\ A\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ meson\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}smallest{\isacharunderscore}{\kern0pt}subobject{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub id\isactrlsub c\ A\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ a{\isacharparenright}{\kern0pt}{\isasymlparr}A{\isasymrparr}\isactrlbsub id\isactrlsub c\ A\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ k{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}eq\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isasymsubseteq}\isactrlbsub Y\isactrlesub {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ image{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ B\ \ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ s\ \isakeyword{where}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ s{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isacharcolon}{\kern0pt}\ f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub \ {\isasymrightarrow}\ B{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ m{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ s\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub a\isactrlesub {\isacharbrackright}{\kern0pt}map{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}map{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}map{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}maps{\isacharunderscore}{\kern0pt}commute{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ s\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}rest\ m{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}Z\ k\ h{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ B\ {\isasymLongrightarrow}\ h\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ X\ {\isasymLongrightarrow}\ m\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ h\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}j{\isachardot}{\kern0pt}\ j\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymrightarrow}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub \ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ B\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ B\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ k\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ B\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ B\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ j\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}pullback\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}pullback{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ k{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ B\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ B\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ s\ {\isasymcirc}\isactrlsub c\ f{\isasymrestriction}\isactrlbsub {\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\isactrlesub {\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ k{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ B\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ B\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pullback{\isacharunderscore}{\kern0pt}map{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ pullback{\isacharunderscore}{\kern0pt}map{\isadigit{2}}{\isacharunderscore}{\kern0pt}type\ pullback{\isacharunderscore}{\kern0pt}maps{\isacharunderscore}{\kern0pt}commute\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ B\ {\isasymcirc}\isactrlsub c\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}mapping\ f\ B\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ k{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ monomorphism\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic{\isacharprime}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}mono\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}mono\ k{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isasymsubseteq}\isactrlbsub X\isactrlesub {\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ a{\isacharunderscore}{\kern0pt}mono\ m{\isacharunderscore}{\kern0pt}mono\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub \ {\isasymand}\ {\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}B{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ inverse{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subobject{\isacharunderscore}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ k{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}eq\ k{\isacharunderscore}{\kern0pt}type\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}k\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.3.10 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ in{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}image{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ X{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isasymrparr}\isactrlbsub {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isasymrparr}\isactrlbsub {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub Y\isactrlesub \ {\isacharparenleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono\ image{\isacharunderscore}{\kern0pt}subobj{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}mono\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlbsub X\isactrlesub \ {\isacharparenleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isasymrparr}\isactrlbsub {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map\isactrlesub {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f\isactrlsup {\isacharminus}{\kern0pt}\isactrlsup {\isadigit{1}}{\isasymlparr}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isasymrparr}\isactrlbsub {\isacharbrackleft}{\kern0pt}f{\isasymlparr}A{\isasymrparr}\isactrlbsub m\isactrlesub {\isacharbrackright}{\kern0pt}map\isactrlesub {\isacharbrackright}{\kern0pt}map{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ assms\ relative{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ subset{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{\isa{distribute{\isacharunderscore}{\kern0pt}left} and \isa{distribute{\isacharunderscore}{\kern0pt}right} as Equivalence Relations%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ g\ h\ A\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Y\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Y\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}mono\ id{\isacharunderscore}{\kern0pt}isomorphism\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isasymLongrightarrow}\ g\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{unfolding}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{3}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ g\ h\ A\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Z\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharcolon}{\kern0pt}\ A\ {\isasymrightarrow}\ Z\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}type\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}mono\ id{\isacharunderscore}{\kern0pt}isomorphism\ id{\isacharunderscore}{\kern0pt}type\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isasymLongrightarrow}\ g\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ g{\isacharunderscore}{\kern0pt}type\ h{\isacharunderscore}{\kern0pt}type\ \isacommand{unfolding}\isamarkupfalse%
\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}reflexive{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}reflexive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}reflexive{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymand}\ monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ xz\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ xz{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xz\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ z\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ z{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ xz{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xz\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}xz{\isacharcomma}{\kern0pt}xz{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}mono\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono\ id{\isacharunderscore}{\kern0pt}isomorphism\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ xzxz{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}\ {\isasymin}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xz{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ xz{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ x{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ reflexive{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ x{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ mid{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}mid{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}type\ mid{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ yz{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}y{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymin}\isactrlsub c\ Y\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}z\ {\isasymin}\isactrlsub c\ Z{\isacartoucheclose}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}z{\isasymrangle}\ \ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id{\isacharparenleft}{\kern0pt}Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ mid{\isacharunderscore}{\kern0pt}type\ yz{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ \ {\isacharequal}{\kern0pt}\ \ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ \ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ y{\isacharcomma}{\kern0pt}id{\isacharparenleft}{\kern0pt}Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ m{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ distxxz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ \ {\isasymlangle}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ x{\isasymrangle}{\isacharcomma}{\kern0pt}\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ z{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}ap\ x{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}h{\isachardot}{\kern0pt}\ {\isasymlangle}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ \ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}\ factorsthru\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ xzxz{\isacharunderscore}{\kern0pt}type\ z{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}ap\ x{\isacharunderscore}{\kern0pt}type\ dist{\isacharunderscore}{\kern0pt}mid{\isacharunderscore}{\kern0pt}type\ calculation\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ yz{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}reflexive{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}reflexive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}reflexive{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X\ {\isasymand}\ monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ zx\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ zx{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zx\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ z{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ zx{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zx\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ x{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}zx{\isacharcomma}{\kern0pt}zx{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ reflexive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}mono\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monic\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono\ id{\isacharunderscore}{\kern0pt}isomorphism\ iso{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}epi{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}monic\ m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ zxzx{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isasymrangle}\ {\isasymin}\isactrlsub c\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zx{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ zx{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ x{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ reflexive{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ x{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ mid{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymrightarrow}\ \ \ Z\ {\isasymtimes}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}mid{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ Z\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}type\ mid{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ yz{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ {\isacartoucheopen}z\ {\isasymin}\isactrlsub c\ Z{\isacartoucheclose}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isasymrangle}\ \ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ mid{\isacharunderscore}{\kern0pt}type\ yz{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ \ {\isacharequal}{\kern0pt}\ \ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ \ {\isasymlangle}id\isactrlsub c\ Z\ {\isasymcirc}\isactrlsub c\ z\ {\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ y\ {\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}type\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ m{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ distxxz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ \ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ x{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ z{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}ap\ x{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}h{\isachardot}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ \ calculation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}z{\isacharcomma}{\kern0pt}x{\isasymrangle}{\isasymrangle}\ factorsthru\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}type\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}ap\ x{\isacharunderscore}{\kern0pt}type\ calculation\ dist{\isacharunderscore}{\kern0pt}mid{\isacharunderscore}{\kern0pt}type\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ yz{\isacharunderscore}{\kern0pt}type\ zxzx{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}symmetric{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}symmetric{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}symmetric{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ st{\isacharunderscore}{\kern0pt}relation{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ sx\ sz\ \isakeyword{where}\ s{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ sx\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}sz\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ \ {\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ s{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ tx\ tz\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tx\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}tz\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ \ {\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ t{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}s{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ st{\isacharunderscore}{\kern0pt}relation\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}{\isasymrangle}\ factorsthru\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ st{\isacharunderscore}{\kern0pt}relation\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ yz\ \isakeyword{where}\ yz{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}yz\ {\isasymin}\isactrlsub c\ Y\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ yz{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ yz\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ z\ \isakeyword{where}\isanewline
\ \ \ \ \ \ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ z{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ yz{\isacharunderscore}{\kern0pt}pair{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}yz\ {\isacharequal}{\kern0pt}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ my{\isadigit{1}}\ my{\isadigit{2}}\ \isakeyword{where}\ my{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}my{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}my{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ my{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ codomain{\isacharunderscore}{\kern0pt}comp\ domain{\isacharunderscore}{\kern0pt}comp\ m{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\ \isakeyword{where}\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ symmetric{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ yz\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ yz\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ yz{\isacharunderscore}{\kern0pt}pair\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ y{\isacharcomma}{\kern0pt}\ id\isactrlsub c\ Z\ {\isasymcirc}\isactrlsub c\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}{\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ my{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}ap\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \ \ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ yz{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymand}\ {\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eqs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sx\ {\isacharequal}{\kern0pt}\ my{\isadigit{1}}\ {\isasymand}\ sz\ {\isacharequal}{\kern0pt}\ z\ {\isasymand}\ tx\ {\isacharequal}{\kern0pt}\ my{\isadigit{2}}\ {\isasymand}\ tz\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}id\isactrlsub c\ Z\ {\isasymcirc}\isactrlsub c\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}{\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ z{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}ap\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqs\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}tx{\isacharcomma}{\kern0pt}tz{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}sx{\isacharcomma}{\kern0pt}sz{\isasymrangle}{\isasymrangle}\ factorsthru\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}z{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}symmetric{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}symmetric{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}symmetric{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ symmetric{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ st{\isacharunderscore}{\kern0pt}relation{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ xs\ zs\ \isakeyword{where}\ s{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ xs\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ \ {\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ s{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ xt\ zt\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xt\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}zt\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ \ {\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ t{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}s{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\isactrlesub \ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ st{\isacharunderscore}{\kern0pt}relation\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}{\isasymrangle}\ factorsthru\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ st{\isacharunderscore}{\kern0pt}relation\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ zy\ \isakeyword{where}\ zy{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zy\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ zy{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ zy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ m{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ z\ \isakeyword{where}\isanewline
\ \ \ \ \ \ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ z{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ yz{\isacharunderscore}{\kern0pt}pair{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ my{\isadigit{1}}\ my{\isadigit{2}}\ \isakeyword{where}\ my{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}my{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}my{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ my{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ codomain{\isacharunderscore}{\kern0pt}comp\ domain{\isacharunderscore}{\kern0pt}comp\ m{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\ \isakeyword{where}\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ symmetric{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ zy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ zy\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ zy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ yz{\isacharunderscore}{\kern0pt}pair\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isasymlangle}id\isactrlsub c\ Z\ {\isasymcirc}\isactrlsub c\ z\ {\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ yz{\isacharunderscore}{\kern0pt}pair{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isasymlangle}z\ {\isacharcomma}{\kern0pt}\ {\isasymlangle}my{\isadigit{2}}{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ my{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}ap\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \ \ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zy{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}\ {\isasymand}\ {\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ my{\isadigit{1}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eqs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ z\ {\isasymand}\ zs\ {\isacharequal}{\kern0pt}\ my{\isadigit{2}}\ {\isasymand}\ xt\ {\isacharequal}{\kern0pt}\ z\ {\isasymand}\ zt\ {\isacharequal}{\kern0pt}\ my{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ element{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isacharprime}{\kern0pt}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isacharprime}{\kern0pt}{\isasymrangle}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isacharprime}{\kern0pt}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}id\isactrlsub c\ Z\ {\isasymcirc}\isactrlsub c\ z{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ {\isasymlangle}my{\isadigit{1}}{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{1}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}my{\isadigit{2}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}ap\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eqs\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}xt{\isacharcomma}{\kern0pt}zt{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}xs{\isacharcomma}{\kern0pt}zs{\isasymrangle}{\isasymrangle}\ factorsthru\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isacharprime}{\kern0pt}{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}transitive{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}transitive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}transitive{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\ u\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ st{\isacharunderscore}{\kern0pt}relation{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\isactrlsub c\ Y\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ hy\ hz\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hy\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}hz\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}hy{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ mhy{\isadigit{1}}\ mhy{\isadigit{2}}\ \isakeyword{where}\ mhy{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mhy{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}mhy{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ mhy{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ hy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mhy{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}hy{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}decomp\ h{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}hy{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ hy{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ mhy{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}ap{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{and}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ hz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ presburger{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ tu{\isacharunderscore}{\kern0pt}relation{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymin}\isactrlsub c\ Y\ {\isasymtimes}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ g{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ gy\ gz\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}gy\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}gz\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ g{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharequal}{\kern0pt}\ {\isasymlangle}gy{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ mgy{\isadigit{1}}\ mgy{\isadigit{2}}\ \isakeyword{where}\ mgy{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mgy{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}mgy{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ mgy{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ gy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mgy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}mgy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}mgy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gy{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}decomp\ g{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gy{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ gy{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}mgy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}mgy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ mgy{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}ap{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mgy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{and}\ u{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mgy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ presburger{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mhy{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}mgy{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mhy{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ mgy{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ t{\isacharunderscore}{\kern0pt}def\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gy{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}gz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hz\ {\isacharequal}{\kern0pt}\ gz{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ t{\isacharunderscore}{\kern0pt}def\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mhy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mhy{\isadigit{2}}{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types\ mhy{\isacharunderscore}{\kern0pt}decomp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mgy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}mhy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{2}}{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types\ mgy{\isacharunderscore}{\kern0pt}decomp\ mhy{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}mgy{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{2}}{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ mhy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y\ mgy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y\ mgy{\isacharunderscore}{\kern0pt}types\ mhy{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}mgy{\isadigit{1}}\ \isacommand{unfolding}\isamarkupfalse%
\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isasymlangle}s{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Z\isactrlesub \ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ st{\isacharunderscore}{\kern0pt}relation\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}h{\isachardot}{\kern0pt}\ h\ {\isasymin}\isactrlsub c\ Y\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymand}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}s{\isacharcomma}{\kern0pt}u{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ u{\isacharunderscore}{\kern0pt}def\ gy{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}gz\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}y{\isacharcomma}{\kern0pt}gz{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}gz{\isasymrangle}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}gz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}m\ {\isasymcirc}\isactrlsub c\ y{\isacharcomma}{\kern0pt}\ gz{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}gz{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}mgy{\isadigit{2}}{\isacharcomma}{\kern0pt}gz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}ap{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ m\ {\isasymtimes}\isactrlsub f\ id\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}y{\isacharcomma}{\kern0pt}gz{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}gz{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}mgy{\isadigit{2}}{\isacharcomma}{\kern0pt}gz{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}transitive{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}transitive{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}transitive{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ Y\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}monomorphism\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\ u\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ st{\isacharunderscore}{\kern0pt}relation{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ hy\ hz\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hy\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}hz\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}hz{\isacharcomma}{\kern0pt}\ hy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ mhy{\isadigit{1}}\ mhy{\isadigit{2}}\ \isakeyword{where}\ mhy{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mhy{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}mhy{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ mhy{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ hy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mhy{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}hz{\isacharcomma}{\kern0pt}\ mhy{\isadigit{1}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}hz{\isacharcomma}{\kern0pt}\ mhy{\isadigit{2}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}s{\isacharcomma}{\kern0pt}t{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}hz{\isacharcomma}{\kern0pt}\ hy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}decomp\ h{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}hz{\isacharcomma}{\kern0pt}\ hy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isasymlangle}\ hz{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ hy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}hz{\isacharcomma}{\kern0pt}\ mhy{\isadigit{1}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}hz{\isacharcomma}{\kern0pt}\ mhy{\isadigit{2}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ mhy{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}ap{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ {\isasymlangle}hz{\isacharcomma}{\kern0pt}\ mhy{\isadigit{1}}{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{and}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isasymlangle}hz{\isacharcomma}{\kern0pt}\ mhy{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ presburger{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ tu{\isacharunderscore}{\kern0pt}relation{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Z\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ g{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ g\ {\isacharequal}{\kern0pt}\ {\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ gy\ gz\ \isakeyword{where}\ g{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}gy\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}gz\ {\isasymin}\isactrlsub c\ Z{\isachardoublequoteclose}\ \isakeyword{and}\ g{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isacharequal}{\kern0pt}\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ gy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ mgy{\isadigit{1}}\ mgy{\isadigit{2}}\ \isakeyword{where}\ mgy{\isacharunderscore}{\kern0pt}types{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mgy{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}mgy{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\ \isakeyword{and}\ mgy{\isacharunderscore}{\kern0pt}decomp{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ gy\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mgy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{1}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}gz{\isacharcomma}{\kern0pt}\ mgy{\isadigit{2}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ mgy{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}t{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ gy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}decomp\ g{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ gy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ gy{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}gz{\isacharcomma}{\kern0pt}\ mgy{\isadigit{2}}{\isasymrangle}{\isacharcomma}{\kern0pt}\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ mgy{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ mgy{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}ap{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ mgy{\isadigit{2}}{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{and}\ u{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ mgy{\isadigit{1}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ presburger{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mhy{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}mgy{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mhy{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ mgy{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ t{\isacharunderscore}{\kern0pt}def\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gy{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}gz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hz\ {\isacharequal}{\kern0pt}\ gz{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ t{\isacharunderscore}{\kern0pt}def\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mhy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mhy{\isadigit{2}}{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types\ mhy{\isacharunderscore}{\kern0pt}decomp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ mgy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}mhy{\isadigit{2}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{1}}{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}def\ g{\isacharunderscore}{\kern0pt}part{\isacharunderscore}{\kern0pt}types\ mgy{\isacharunderscore}{\kern0pt}decomp\ mhy{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}mgy{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{1}}{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ mhy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y\ mgy{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Y\ mgy{\isacharunderscore}{\kern0pt}types\ mhy{\isadigit{2}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}mgy{\isadigit{2}}\ \isacommand{unfolding}\isamarkupfalse%
\ transitive{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ y\ {\isacharequal}{\kern0pt}\ {\isasymlangle}mhy{\isadigit{1}}{\isacharcomma}{\kern0pt}\ mgy{\isadigit{1}}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isasymlangle}s{\isacharcomma}{\kern0pt}u{\isasymrangle}\ {\isasymin}\isactrlbsub {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isasymtimes}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ X\isactrlesub \ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ st{\isacharunderscore}{\kern0pt}relation\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}h{\isachardot}{\kern0pt}\ h\ {\isasymin}\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ {\isasymlangle}s{\isacharcomma}{\kern0pt}u{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}def\ u{\isacharunderscore}{\kern0pt}def\ gy{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}gz\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}gz{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}\ m\ {\isasymcirc}\isactrlsub c\ y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ id{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}gz{\isacharcomma}{\kern0pt}mhy{\isadigit{1}}{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}gz{\isacharcomma}{\kern0pt}mgy{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}ap\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ {\isasymcirc}\isactrlsub c\ id\isactrlsub c\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}gz{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}gz{\isacharcomma}{\kern0pt}mhy{\isadigit{1}}{\isasymrangle}{\isacharcomma}{\kern0pt}{\isasymlangle}gz{\isacharcomma}{\kern0pt}mgy{\isadigit{1}}{\isasymrangle}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymtimes}\isactrlsub c\ Z{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}right\ X\ X\ Z\ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}m\ {\isasymtimes}\isactrlsub f\ id\ Z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}reflexive\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}symmetric\ left{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}transitive\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ X\ {\isacharparenleft}{\kern0pt}Y{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Z\ {\isasymtimes}\isactrlsub c\ Y{\isacharcomma}{\kern0pt}\ distribute{\isacharunderscore}{\kern0pt}left\ Z\ X\ X\ \ {\isasymcirc}\isactrlsub c\ {\isacharparenleft}{\kern0pt}id\ Z\ {\isasymtimes}\isactrlsub f\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}reflexive\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}symmetric\ right{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}transitive\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Graphs%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cset\ {\isasymRightarrow}\ cset\ {\isasymRightarrow}\ cset\ {\isasymtimes}\ cfunc\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ R\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}R\ \ {\isasymsubseteq}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}\ y{\isachardot}{\kern0pt}\ \ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cY\isactrlesub \ R{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The definition below corresponds to Definition 2.3.12 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ graph\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cset{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}graph\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ E{\isachardot}{\kern0pt}\ {\isasymexists}\ m{\isachardot}{\kern0pt}\ equalizer\ E\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymexists}\ m{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ graph{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ equalizer{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}\ m{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ graph{\isacharunderscore}{\kern0pt}equalizer{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}morph\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cfunc\ {\isasymRightarrow}\ cfunc{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SOME\ m{\isachardot}{\kern0pt}\ equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ m\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ {\isacharparenleft}{\kern0pt}domain\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}codomain\ f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ graph{\isacharunderscore}{\kern0pt}morph{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ someI{\isacharunderscore}{\kern0pt}ex{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobject{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X\ {\isasymtimes}\isactrlsub c\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ equalizer{\isacharunderscore}{\kern0pt}def\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{3}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}morph{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ graph\ f\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobject\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ assms\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Exercise 2.3.13 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ graphs{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}functional{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ \ {\isasymsubseteq}\isactrlsub c\ {\isacharparenleft}{\kern0pt}X{\isasymtimes}\isactrlsub c\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ graph{\isacharunderscore}{\kern0pt}subobject{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\isactrlsub c\ X\ {\isasymLongrightarrow}\ {\isasymexists}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ comp{\isacharunderscore}{\kern0pt}type\ x{\isacharunderscore}{\kern0pt}type\ y{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}monomorphism\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobj\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isacharcolon}{\kern0pt}\ graph\ f\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}subobj\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ factorsthru\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ xfactorthru{\isacharunderscore}{\kern0pt}equalizer{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}fx{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}gx{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ E\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}graph\ f{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ m\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{where}\ f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ g\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ X\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ Y\ {\isacharequal}{\kern0pt}\ Y{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{where}\ x\ {\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isacharcolon}{\kern0pt}\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ \ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlsub c\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ y{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x\ y\ ya{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ x\ {\isasymin}\isactrlsub c\ X\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ y\ {\isasymin}\isactrlsub c\ Y\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ ya\ {\isasymin}\isactrlsub c\ Y\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}ya{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}graph\ f{\isacharcomma}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ y\ {\isacharequal}{\kern0pt}\ ya{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ equalizer{\isacharunderscore}{\kern0pt}def\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}isomorphism{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ surj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}surjective{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ surjective{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ codomain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ {\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cY\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}z{\isachardot}{\kern0pt}\ z\ {\isasymin}\isactrlsub c\ domain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ z\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}injective{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ injective{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r{\isadigit{1}}\ r{\isadigit{2}}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isadigit{1}}\ {\isasymin}\isactrlsub c\ domain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ r{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r{\isadigit{1}}\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isadigit{2}}\ {\isasymin}\isactrlsub c\ domain\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ r{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r{\isadigit{2}}\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ pi{\isadigit{0}}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ mx{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X{\isasymtimes}\isactrlsub cY{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isadigit{1}}\ \isakeyword{and}\ y{\isadigit{1}}\ \isakeyword{where}\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}\ y{\isadigit{1}}{\isasymrangle}\ {\isasymand}\ x{\isadigit{1}}\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ y{\isadigit{1}}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ my{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X{\isasymtimes}\isactrlsub cY{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isadigit{2}}\ \isakeyword{and}\ y{\isadigit{2}}\ \isakeyword{where}\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ r{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isadigit{2}}{\isacharcomma}{\kern0pt}\ y{\isadigit{2}}{\isasymrangle}\ {\isasymand}\ x{\isadigit{2}}\ {\isasymin}\isactrlsub c\ X\ {\isasymand}\ y{\isadigit{2}}\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}decomp\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}equal{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ x{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eq\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ functional{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ \ {\isasymlangle}x{\isadigit{1}}{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X{\isasymtimes}\isactrlsub cY\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}equal{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ y{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ prod{\isachardot}{\kern0pt}sel\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs\ mx{\isacharunderscore}{\kern0pt}type\ my{\isacharunderscore}{\kern0pt}type\ r{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ r{\isadigit{2}}{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}equal{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}r{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ functional\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ m{\isadigit{1}}r{\isadigit{1}}{\isacharunderscore}{\kern0pt}eqs\ m{\isadigit{2}}r{\isadigit{2}}{\isacharunderscore}{\kern0pt}eqs\ monomorphism{\isacharunderscore}{\kern0pt}def\ r{\isadigit{1}}{\isacharunderscore}{\kern0pt}type\ r{\isadigit{2}}{\isacharunderscore}{\kern0pt}type\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ x{\isacharunderscore}{\kern0pt}equal{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ inj\ injective{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monomorphism\ surj\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The lemma below corresponds to Proposition 2.3.14 in Halvorson.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}relations{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}graphs{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}functional{\isacharunderscore}{\kern0pt}on\ X\ Y\ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isacharbang}{\kern0pt}\ f{\isachardot}{\kern0pt}\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymand}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}\ i{\isachardot}{\kern0pt}\ i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ isomorphism{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymand}\ m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}monomorphism{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isomorphism{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}isomorphism\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ R{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlbold {\isasyminverse}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ comp{\isacharunderscore}{\kern0pt}type\ f{\isacharunderscore}{\kern0pt}def\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}type\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inv{\isacharunderscore}{\kern0pt}left\ isomorphism{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ f\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}i{\isachardot}{\kern0pt}\ i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f\ {\isasymand}\ isomorphism\ i\ {\isasymand}\ m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}f\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ auto{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}equalizer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equalizer\ {\isacharparenleft}{\kern0pt}graph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}graph{\isacharunderscore}{\kern0pt}morph\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}type\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}h\ F{\isachardot}{\kern0pt}\ h\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ h\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ h\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}{\isacharbang}{\kern0pt}k{\isachardot}{\kern0pt}\ k\ {\isacharcolon}{\kern0pt}\ F\ {\isasymrightarrow}\ graph\ f\ {\isasymand}\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ k\ {\isacharequal}{\kern0pt}\ h{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f{\isachardoublequoteclose}\ \isakeyword{and}\ i{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isacharequal}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ eq\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}surjective\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}subst\ surjective{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ graph\ f{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\isactrlsub c\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\isactrlsub c\ Y{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharunderscore}{\kern0pt}y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ y{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}z\ {\isasymin}\isactrlsub c\ Y\ {\isasymand}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}z{\isasymrangle}\ {\isasymin}\isactrlbsub X\ {\isasymtimes}\isactrlsub c\ Y\isactrlesub \ {\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ z\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ R{\isachardoublequoteclose}\ \isakeyword{and}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}R\ \isacommand{unfolding}\isamarkupfalse%
\ relative{\isacharunderscore}{\kern0pt}member{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isacharcomma}{\kern0pt}\ etcs{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}asm\ factors{\isacharunderscore}{\kern0pt}through{\isacharunderscore}{\kern0pt}def{\isadigit{2}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ rule\ cart{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ left{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ i{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}eq\ \isacommand{using}\isamarkupfalse%
\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}cfunc{\isacharunderscore}{\kern0pt}prod\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ graph{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ left{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}etcs{\isacharunderscore}{\kern0pt}assocl{\isacharcomma}{\kern0pt}\ typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ graph{\isacharunderscore}{\kern0pt}equalizer\ equalizer{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equalizer{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}monomorphism\ graph{\isacharunderscore}{\kern0pt}equalizer\ monomorphism{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\isactrlsub c\ R\ {\isasymand}\ i\ {\isasymcirc}\isactrlsub c\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}x{\isacharprime}{\kern0pt}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isomorphism\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ comp{\isacharunderscore}{\kern0pt}monic{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}monic{\isacharprime}{\kern0pt}\ epi{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iso\ f{\isacharunderscore}{\kern0pt}type\ graph{\isacharunderscore}{\kern0pt}morph{\isacharunderscore}{\kern0pt}type\ i{\isacharunderscore}{\kern0pt}eq\ i{\isacharunderscore}{\kern0pt}type\ m{\isacharunderscore}{\kern0pt}mono\ surjective{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}epimorphism{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}{\kern0pt}\ i\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f\ {\isasymand}\ isomorphism\ i\ {\isasymand}\ m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f\ {\isasymcirc}\isactrlsub c\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}i\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ i{\isacharunderscore}{\kern0pt}type\ i{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ f{\isadigit{1}}\ f{\isadigit{2}}\ i{\isadigit{1}}\ i{\isadigit{2}}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{1}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{2}}{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ graph\ f{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{1}}{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ i{\isadigit{2}}{\isacharunderscore}{\kern0pt}iso{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism\ i{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ eq{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ eq{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isacharcolon}{\kern0pt}\ R\ {\isasymrightarrow}\ X\ {\isasymtimes}\isactrlsub c\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ subobject{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isomorphism{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}isomorphism{\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ functional{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}isomorphism\ \isacommand{by}\isamarkupfalse%
\ force\ \ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ h\ \isakeyword{where}\ h{\isacharunderscore}{\kern0pt}type{\isacharbrackleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}rule{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h{\isacharcolon}{\kern0pt}\ X\ {\isasymrightarrow}\ R{\isachardoublequoteclose}\ \isakeyword{and}\ h{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isacharparenright}{\kern0pt}\isactrlbold {\isasyminverse}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ typecheck{\isacharunderscore}{\kern0pt}cfuncs\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ eq{\isadigit{1}}\ eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{1}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ equalizer{\isacharunderscore}{\kern0pt}def\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}right{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ eq{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y{\isacharparenright}{\kern0pt}\ {\isasymcirc}\isactrlsub c\ graph{\isacharunderscore}{\kern0pt}morph\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ i{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ smt\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ equalizer{\isacharunderscore}{\kern0pt}eq\ graph{\isacharunderscore}{\kern0pt}equalizer{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isadigit{2}}\ {\isasymcirc}\isactrlsub c\ left{\isacharunderscore}{\kern0pt}cart{\isacharunderscore}{\kern0pt}proj\ X\ Y\ {\isasymcirc}\isactrlsub c\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ comp{\isacharunderscore}{\kern0pt}associative{\isadigit{2}}\ eq{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ calculation\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ f{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}typecheck{\isacharunderscore}{\kern0pt}cfuncs{\isacharcomma}{\kern0pt}\ metis\ cfunc{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}associative\ h{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}type\ id{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unit{\isadigit{2}}\ inverse{\isacharunderscore}{\kern0pt}def{\isadigit{2}}\ isomorphism{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/ETCS/HOL-ETCS/Equivalence.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%27=5%:%
%:%37=7%:%
%:%38=7%:%
%:%39=8%:%
%:%40=9%:%
%:%41=10%:%
%:%42=11%:%
%:%43=11%:%
%:%44=12%:%
%:%46=14%:%
%:%47=15%:%
%:%48=16%:%
%:%49=16%:%
%:%50=17%:%
%:%52=19%:%
%:%53=20%:%
%:%54=21%:%
%:%55=21%:%
%:%56=22%:%
%:%57=23%:%
%:%58=24%:%
%:%59=24%:%
%:%60=25%:%
%:%61=26%:%
%:%62=27%:%
%:%63=27%:%
%:%64=28%:%
%:%65=29%:%
%:%66=30%:%
%:%69=31%:%
%:%73=31%:%
%:%74=31%:%
%:%75=31%:%
%:%76=32%:%
%:%77=32%:%
%:%78=33%:%
%:%79=33%:%
%:%80=34%:%
%:%81=34%:%
%:%82=35%:%
%:%83=35%:%
%:%84=36%:%
%:%85=36%:%
%:%86=37%:%
%:%87=37%:%
%:%88=37%:%
%:%89=38%:%
%:%90=38%:%
%:%91=38%:%
%:%92=39%:%
%:%93=39%:%
%:%94=39%:%
%:%95=40%:%
%:%101=40%:%
%:%104=41%:%
%:%105=42%:%
%:%106=42%:%
%:%107=43%:%
%:%108=44%:%
%:%109=45%:%
%:%110=46%:%
%:%111=47%:%
%:%114=48%:%
%:%118=48%:%
%:%119=48%:%
%:%120=48%:%
%:%121=49%:%
%:%122=49%:%
%:%127=49%:%
%:%130=50%:%
%:%131=51%:%
%:%132=51%:%
%:%133=52%:%
%:%134=53%:%
%:%135=54%:%
%:%136=55%:%
%:%137=56%:%
%:%138=57%:%
%:%139=58%:%
%:%142=59%:%
%:%146=59%:%
%:%147=59%:%
%:%148=59%:%
%:%149=60%:%
%:%150=60%:%
%:%159=62%:%
%:%161=63%:%
%:%162=63%:%
%:%163=64%:%
%:%164=65%:%
%:%171=66%:%
%:%172=66%:%
%:%173=67%:%
%:%174=67%:%
%:%175=68%:%
%:%176=68%:%
%:%177=69%:%
%:%178=69%:%
%:%179=70%:%
%:%180=70%:%
%:%181=70%:%
%:%182=71%:%
%:%183=71%:%
%:%184=72%:%
%:%185=72%:%
%:%186=73%:%
%:%187=73%:%
%:%188=74%:%
%:%189=74%:%
%:%190=74%:%
%:%191=75%:%
%:%192=75%:%
%:%193=76%:%
%:%194=77%:%
%:%195=77%:%
%:%196=78%:%
%:%197=79%:%
%:%198=79%:%
%:%199=80%:%
%:%200=80%:%
%:%201=81%:%
%:%202=81%:%
%:%203=82%:%
%:%204=82%:%
%:%205=82%:%
%:%206=83%:%
%:%207=83%:%
%:%208=84%:%
%:%209=84%:%
%:%210=85%:%
%:%211=85%:%
%:%212=86%:%
%:%213=86%:%
%:%214=87%:%
%:%215=87%:%
%:%216=87%:%
%:%217=88%:%
%:%218=88%:%
%:%219=88%:%
%:%220=89%:%
%:%221=90%:%
%:%222=90%:%
%:%223=90%:%
%:%224=91%:%
%:%225=91%:%
%:%226=91%:%
%:%227=92%:%
%:%228=92%:%
%:%229=93%:%
%:%230=94%:%
%:%231=94%:%
%:%232=95%:%
%:%233=95%:%
%:%234=96%:%
%:%235=96%:%
%:%236=97%:%
%:%237=97%:%
%:%238=97%:%
%:%239=98%:%
%:%240=98%:%
%:%241=99%:%
%:%242=99%:%
%:%243=100%:%
%:%244=100%:%
%:%245=101%:%
%:%246=101%:%
%:%247=102%:%
%:%248=102%:%
%:%249=103%:%
%:%250=104%:%
%:%251=104%:%
%:%252=105%:%
%:%253=105%:%
%:%254=105%:%
%:%255=106%:%
%:%256=107%:%
%:%257=107%:%
%:%258=108%:%
%:%259=108%:%
%:%260=108%:%
%:%261=109%:%
%:%262=110%:%
%:%263=110%:%
%:%264=111%:%
%:%265=111%:%
%:%266=111%:%
%:%267=112%:%
%:%268=112%:%
%:%269=113%:%
%:%279=115%:%
%:%281=116%:%
%:%282=116%:%
%:%283=117%:%
%:%284=118%:%
%:%285=119%:%
%:%286=120%:%
%:%287=121%:%
%:%288=122%:%
%:%289=123%:%
%:%290=124%:%
%:%291=125%:%
%:%292=126%:%
%:%293=127%:%
%:%294=128%:%
%:%295=129%:%
%:%298=131%:%
%:%299=132%:%
%:%300=133%:%
%:%302=135%:%
%:%303=135%:%
%:%304=136%:%
%:%311=138%:%
%:%315=140%:%
%:%327=142%:%
%:%329=143%:%
%:%330=143%:%
%:%331=144%:%
%:%333=146%:%
%:%334=147%:%
%:%335=148%:%
%:%336=148%:%
%:%337=149%:%
%:%338=150%:%
%:%340=152%:%
%:%343=153%:%
%:%347=153%:%
%:%348=153%:%
%:%349=153%:%
%:%350=153%:%
%:%359=155%:%
%:%361=156%:%
%:%362=156%:%
%:%363=157%:%
%:%364=158%:%
%:%371=159%:%
%:%372=159%:%
%:%373=160%:%
%:%374=160%:%
%:%375=161%:%
%:%376=161%:%
%:%377=162%:%
%:%378=162%:%
%:%379=163%:%
%:%380=163%:%
%:%381=164%:%
%:%382=164%:%
%:%383=165%:%
%:%384=165%:%
%:%385=166%:%
%:%386=167%:%
%:%387=167%:%
%:%388=168%:%
%:%389=168%:%
%:%390=168%:%
%:%391=169%:%
%:%392=169%:%
%:%393=170%:%
%:%394=170%:%
%:%395=171%:%
%:%396=171%:%
%:%397=172%:%
%:%398=172%:%
%:%399=173%:%
%:%400=174%:%
%:%401=174%:%
%:%402=175%:%
%:%403=175%:%
%:%404=175%:%
%:%405=176%:%
%:%415=178%:%
%:%417=179%:%
%:%418=179%:%
%:%419=180%:%
%:%422=181%:%
%:%426=181%:%
%:%427=181%:%
%:%428=182%:%
%:%429=182%:%
%:%430=183%:%
%:%431=183%:%
%:%432=184%:%
%:%433=184%:%
%:%434=185%:%
%:%435=185%:%
%:%436=186%:%
%:%437=186%:%
%:%438=187%:%
%:%439=187%:%
%:%440=188%:%
%:%441=188%:%
%:%442=189%:%
%:%443=189%:%
%:%444=190%:%
%:%445=190%:%
%:%446=191%:%
%:%447=191%:%
%:%448=192%:%
%:%449=193%:%
%:%450=193%:%
%:%451=194%:%
%:%452=194%:%
%:%453=194%:%
%:%454=195%:%
%:%455=196%:%
%:%456=196%:%
%:%457=196%:%
%:%458=197%:%
%:%459=198%:%
%:%460=198%:%
%:%461=198%:%
%:%462=199%:%
%:%463=200%:%
%:%464=201%:%
%:%465=201%:%
%:%466=201%:%
%:%467=202%:%
%:%468=202%:%
%:%469=203%:%
%:%475=203%:%
%:%478=204%:%
%:%479=205%:%
%:%480=205%:%
%:%481=206%:%
%:%482=207%:%
%:%483=208%:%
%:%486=209%:%
%:%490=209%:%
%:%491=209%:%
%:%492=210%:%
%:%493=210%:%
%:%494=211%:%
%:%495=211%:%
%:%496=212%:%
%:%497=212%:%
%:%498=212%:%
%:%499=213%:%
%:%500=213%:%
%:%501=214%:%
%:%502=214%:%
%:%503=214%:%
%:%504=215%:%
%:%505=215%:%
%:%506=216%:%
%:%507=216%:%
%:%508=216%:%
%:%509=217%:%
%:%510=217%:%
%:%511=218%:%
%:%512=218%:%
%:%513=219%:%
%:%514=219%:%
%:%515=220%:%
%:%516=220%:%
%:%517=221%:%
%:%518=221%:%
%:%519=222%:%
%:%520=222%:%
%:%521=222%:%
%:%522=223%:%
%:%523=223%:%
%:%524=224%:%
%:%525=224%:%
%:%526=224%:%
%:%527=225%:%
%:%528=225%:%
%:%529=226%:%
%:%530=226%:%
%:%531=227%:%
%:%532=227%:%
%:%533=228%:%
%:%534=228%:%
%:%535=228%:%
%:%536=229%:%
%:%537=229%:%
%:%538=229%:%
%:%539=230%:%
%:%540=230%:%
%:%541=230%:%
%:%542=231%:%
%:%543=231%:%
%:%544=231%:%
%:%545=232%:%
%:%546=232%:%
%:%547=232%:%
%:%548=233%:%
%:%549=233%:%
%:%550=233%:%
%:%551=234%:%
%:%552=234%:%
%:%553=234%:%
%:%554=235%:%
%:%555=235%:%
%:%556=235%:%
%:%557=236%:%
%:%558=236%:%
%:%559=236%:%
%:%560=237%:%
%:%561=237%:%
%:%562=237%:%
%:%563=238%:%
%:%564=238%:%
%:%565=238%:%
%:%566=239%:%
%:%567=239%:%
%:%568=240%:%
%:%569=240%:%
%:%570=240%:%
%:%571=241%:%
%:%572=241%:%
%:%573=241%:%
%:%574=242%:%
%:%575=242%:%
%:%576=243%:%
%:%577=243%:%
%:%578=244%:%
%:%579=244%:%
%:%580=245%:%
%:%581=245%:%
%:%582=246%:%
%:%583=246%:%
%:%584=247%:%
%:%585=248%:%
%:%586=248%:%
%:%587=249%:%
%:%588=249%:%
%:%589=249%:%
%:%590=250%:%
%:%591=250%:%
%:%592=251%:%
%:%593=251%:%
%:%594=252%:%
%:%595=252%:%
%:%596=253%:%
%:%597=253%:%
%:%598=254%:%
%:%599=254%:%
%:%600=255%:%
%:%601=255%:%
%:%602=255%:%
%:%603=256%:%
%:%604=256%:%
%:%605=256%:%
%:%606=256%:%
%:%607=257%:%
%:%608=258%:%
%:%609=258%:%
%:%610=259%:%
%:%611=259%:%
%:%612=259%:%
%:%613=260%:%
%:%614=260%:%
%:%615=260%:%
%:%616=261%:%
%:%617=261%:%
%:%618=261%:%
%:%619=262%:%
%:%620=262%:%
%:%621=262%:%
%:%622=263%:%
%:%623=263%:%
%:%624=263%:%
%:%625=264%:%
%:%626=264%:%
%:%627=265%:%
%:%628=265%:%
%:%629=265%:%
%:%630=266%:%
%:%631=266%:%
%:%632=267%:%
%:%633=267%:%
%:%634=268%:%
%:%635=268%:%
%:%636=269%:%
%:%637=269%:%
%:%638=270%:%
%:%639=270%:%
%:%640=271%:%
%:%641=271%:%
%:%642=272%:%
%:%643=272%:%
%:%644=273%:%
%:%645=273%:%
%:%646=274%:%
%:%647=275%:%
%:%648=275%:%
%:%649=276%:%
%:%650=277%:%
%:%651=277%:%
%:%652=278%:%
%:%653=278%:%
%:%654=278%:%
%:%655=279%:%
%:%656=280%:%
%:%657=280%:%
%:%658=281%:%
%:%659=281%:%
%:%660=282%:%
%:%661=282%:%
%:%662=283%:%
%:%663=283%:%
%:%664=284%:%
%:%665=284%:%
%:%666=285%:%
%:%667=285%:%
%:%668=286%:%
%:%669=286%:%
%:%670=286%:%
%:%671=287%:%
%:%672=287%:%
%:%673=287%:%
%:%674=287%:%
%:%675=288%:%
%:%676=289%:%
%:%677=289%:%
%:%678=290%:%
%:%679=291%:%
%:%680=291%:%
%:%681=292%:%
%:%682=292%:%
%:%683=293%:%
%:%684=293%:%
%:%685=293%:%
%:%686=294%:%
%:%687=295%:%
%:%688=295%:%
%:%689=296%:%
%:%690=296%:%
%:%691=296%:%
%:%692=297%:%
%:%693=297%:%
%:%694=297%:%
%:%695=298%:%
%:%696=298%:%
%:%697=299%:%
%:%698=300%:%
%:%699=300%:%
%:%700=301%:%
%:%701=301%:%
%:%702=302%:%
%:%703=302%:%
%:%704=303%:%
%:%705=303%:%
%:%706=304%:%
%:%707=304%:%
%:%708=305%:%
%:%709=305%:%
%:%710=306%:%
%:%711=306%:%
%:%712=306%:%
%:%713=307%:%
%:%714=307%:%
%:%715=307%:%
%:%716=307%:%
%:%717=308%:%
%:%718=309%:%
%:%719=309%:%
%:%720=310%:%
%:%721=311%:%
%:%722=311%:%
%:%723=312%:%
%:%724=312%:%
%:%725=313%:%
%:%726=313%:%
%:%727=313%:%
%:%728=314%:%
%:%729=315%:%
%:%730=315%:%
%:%731=316%:%
%:%732=316%:%
%:%733=316%:%
%:%734=317%:%
%:%735=317%:%
%:%736=317%:%
%:%737=318%:%
%:%738=318%:%
%:%739=319%:%
%:%740=319%:%
%:%741=320%:%
%:%742=320%:%
%:%743=320%:%
%:%744=321%:%
%:%750=321%:%
%:%753=322%:%
%:%754=323%:%
%:%755=323%:%
%:%756=324%:%
%:%757=325%:%
%:%760=326%:%
%:%764=326%:%
%:%765=326%:%
%:%779=328%:%
%:%791=330%:%
%:%793=331%:%
%:%794=331%:%
%:%795=332%:%
%:%797=334%:%
%:%799=335%:%
%:%800=335%:%
%:%801=336%:%
%:%802=337%:%
%:%809=338%:%
%:%810=338%:%
%:%811=339%:%
%:%812=339%:%
%:%813=340%:%
%:%814=340%:%
%:%815=340%:%
%:%816=341%:%
%:%817=341%:%
%:%818=342%:%
%:%819=342%:%
%:%820=342%:%
%:%821=343%:%
%:%822=343%:%
%:%823=344%:%
%:%824=344%:%
%:%825=344%:%
%:%826=345%:%
%:%827=345%:%
%:%828=345%:%
%:%829=346%:%
%:%830=346%:%
%:%831=346%:%
%:%832=347%:%
%:%833=347%:%
%:%834=347%:%
%:%835=348%:%
%:%836=348%:%
%:%837=348%:%
%:%838=349%:%
%:%839=349%:%
%:%840=350%:%
%:%841=350%:%
%:%842=350%:%
%:%843=351%:%
%:%844=351%:%
%:%845=351%:%
%:%846=352%:%
%:%847=352%:%
%:%848=352%:%
%:%849=353%:%
%:%850=353%:%
%:%851=353%:%
%:%852=354%:%
%:%853=354%:%
%:%854=355%:%
%:%855=355%:%
%:%856=355%:%
%:%857=356%:%
%:%858=356%:%
%:%859=356%:%
%:%860=357%:%
%:%870=359%:%
%:%872=360%:%
%:%873=360%:%
%:%874=361%:%
%:%875=362%:%
%:%882=363%:%
%:%883=363%:%
%:%884=364%:%
%:%885=364%:%
%:%886=365%:%
%:%887=365%:%
%:%888=365%:%
%:%889=366%:%
%:%890=366%:%
%:%891=367%:%
%:%892=367%:%
%:%893=367%:%
%:%894=368%:%
%:%895=368%:%
%:%896=369%:%
%:%897=369%:%
%:%898=369%:%
%:%899=370%:%
%:%900=370%:%
%:%901=371%:%
%:%902=371%:%
%:%903=371%:%
%:%904=371%:%
%:%905=372%:%
%:%906=372%:%
%:%907=373%:%
%:%908=373%:%
%:%909=374%:%
%:%910=374%:%
%:%911=375%:%
%:%912=375%:%
%:%913=376%:%
%:%914=377%:%
%:%915=377%:%
%:%916=378%:%
%:%917=378%:%
%:%918=379%:%
%:%919=379%:%
%:%920=380%:%
%:%921=380%:%
%:%922=381%:%
%:%923=381%:%
%:%924=382%:%
%:%925=382%:%
%:%926=382%:%
%:%927=383%:%
%:%928=384%:%
%:%929=384%:%
%:%930=385%:%
%:%931=385%:%
%:%932=386%:%
%:%933=386%:%
%:%934=387%:%
%:%935=387%:%
%:%936=387%:%
%:%937=388%:%
%:%938=388%:%
%:%939=389%:%
%:%940=389%:%
%:%941=390%:%
%:%942=390%:%
%:%943=391%:%
%:%944=391%:%
%:%945=392%:%
%:%946=393%:%
%:%947=394%:%
%:%948=395%:%
%:%949=396%:%
%:%950=397%:%
%:%951=398%:%
%:%952=399%:%
%:%953=400%:%
%:%954=401%:%
%:%955=402%:%
%:%956=402%:%
%:%957=403%:%
%:%958=403%:%
%:%959=404%:%
%:%960=404%:%
%:%961=405%:%
%:%962=405%:%
%:%963=406%:%
%:%964=407%:%
%:%965=407%:%
%:%966=408%:%
%:%967=408%:%
%:%968=408%:%
%:%969=409%:%
%:%970=409%:%
%:%971=410%:%
%:%972=410%:%
%:%973=410%:%
%:%974=411%:%
%:%975=411%:%
%:%976=412%:%
%:%977=413%:%
%:%978=413%:%
%:%981=416%:%
%:%982=417%:%
%:%983=417%:%
%:%984=418%:%
%:%985=418%:%
%:%986=419%:%
%:%987=419%:%
%:%988=419%:%
%:%989=420%:%
%:%990=420%:%
%:%991=421%:%
%:%992=421%:%
%:%993=422%:%
%:%994=422%:%
%:%995=423%:%
%:%996=423%:%
%:%997=423%:%
%:%998=424%:%
%:%999=424%:%
%:%1000=425%:%
%:%1001=425%:%
%:%1002=426%:%
%:%1003=426%:%
%:%1004=427%:%
%:%1005=427%:%
%:%1006=428%:%
%:%1007=428%:%
%:%1008=429%:%
%:%1009=429%:%
%:%1010=430%:%
%:%1011=430%:%
%:%1012=431%:%
%:%1013=432%:%
%:%1014=433%:%
%:%1015=434%:%
%:%1016=434%:%
%:%1017=434%:%
%:%1018=435%:%
%:%1019=436%:%
%:%1020=437%:%
%:%1021=438%:%
%:%1022=438%:%
%:%1023=439%:%
%:%1024=440%:%
%:%1025=441%:%
%:%1026=441%:%
%:%1027=442%:%
%:%1028=442%:%
%:%1029=443%:%
%:%1030=443%:%
%:%1031=444%:%
%:%1032=444%:%
%:%1033=445%:%
%:%1034=445%:%
%:%1035=445%:%
%:%1036=446%:%
%:%1037=446%:%
%:%1038=446%:%
%:%1039=447%:%
%:%1040=447%:%
%:%1041=447%:%
%:%1042=448%:%
%:%1043=448%:%
%:%1044=449%:%
%:%1045=449%:%
%:%1046=449%:%
%:%1047=450%:%
%:%1048=450%:%
%:%1049=451%:%
%:%1050=451%:%
%:%1051=451%:%
%:%1052=452%:%
%:%1053=452%:%
%:%1054=452%:%
%:%1055=453%:%
%:%1056=453%:%
%:%1057=454%:%
%:%1058=455%:%
%:%1059=456%:%
%:%1060=457%:%
%:%1061=457%:%
%:%1062=457%:%
%:%1063=458%:%
%:%1064=459%:%
%:%1065=460%:%
%:%1066=461%:%
%:%1067=461%:%
%:%1068=461%:%
%:%1069=462%:%
%:%1070=463%:%
%:%1071=464%:%
%:%1072=464%:%
%:%1073=465%:%
%:%1074=465%:%
%:%1075=466%:%
%:%1076=466%:%
%:%1077=467%:%
%:%1078=467%:%
%:%1079=468%:%
%:%1080=468%:%
%:%1081=468%:%
%:%1082=469%:%
%:%1083=469%:%
%:%1084=469%:%
%:%1085=470%:%
%:%1086=470%:%
%:%1087=470%:%
%:%1088=471%:%
%:%1089=471%:%
%:%1090=472%:%
%:%1091=472%:%
%:%1092=472%:%
%:%1093=473%:%
%:%1094=473%:%
%:%1095=474%:%
%:%1096=474%:%
%:%1097=474%:%
%:%1098=475%:%
%:%1099=475%:%
%:%1100=475%:%
%:%1101=476%:%
%:%1102=476%:%
%:%1103=477%:%
%:%1104=478%:%
%:%1105=478%:%
%:%1106=478%:%
%:%1107=479%:%
%:%1108=479%:%
%:%1109=480%:%
%:%1110=481%:%
%:%1111=481%:%
%:%1112=482%:%
%:%1113=482%:%
%:%1114=483%:%
%:%1115=484%:%
%:%1116=484%:%
%:%1117=484%:%
%:%1118=485%:%
%:%1119=485%:%
%:%1120=486%:%
%:%1121=487%:%
%:%1122=488%:%
%:%1123=489%:%
%:%1124=490%:%
%:%1125=490%:%
%:%1126=491%:%
%:%1127=492%:%
%:%1128=493%:%
%:%1129=493%:%
%:%1130=493%:%
%:%1131=494%:%
%:%1132=495%:%
%:%1133=495%:%
%:%1134=496%:%
%:%1135=496%:%
%:%1136=497%:%
%:%1137=497%:%
%:%1138=498%:%
%:%1139=498%:%
%:%1140=499%:%
%:%1141=499%:%
%:%1142=500%:%
%:%1143=500%:%
%:%1144=500%:%
%:%1145=501%:%
%:%1146=501%:%
%:%1147=501%:%
%:%1148=502%:%
%:%1149=502%:%
%:%1150=503%:%
%:%1151=503%:%
%:%1152=504%:%
%:%1153=504%:%
%:%1154=504%:%
%:%1155=505%:%
%:%1156=505%:%
%:%1157=506%:%
%:%1158=506%:%
%:%1159=507%:%
%:%1160=507%:%
%:%1163=510%:%
%:%1164=511%:%
%:%1165=511%:%
%:%1166=511%:%
%:%1167=512%:%
%:%1173=512%:%
%:%1176=513%:%
%:%1177=514%:%
%:%1178=514%:%
%:%1179=515%:%
%:%1180=516%:%
%:%1183=517%:%
%:%1187=517%:%
%:%1188=517%:%
%:%1202=519%:%
%:%1212=521%:%
%:%1213=521%:%
%:%1214=522%:%
%:%1215=523%:%
%:%1218=526%:%
%:%1225=527%:%
%:%1226=527%:%
%:%1227=528%:%
%:%1228=528%:%
%:%1229=529%:%
%:%1230=529%:%
%:%1231=530%:%
%:%1232=530%:%
%:%1233=531%:%
%:%1234=531%:%
%:%1235=532%:%
%:%1236=532%:%
%:%1237=533%:%
%:%1238=533%:%
%:%1239=534%:%
%:%1240=534%:%
%:%1243=537%:%
%:%1244=538%:%
%:%1245=538%:%
%:%1246=539%:%
%:%1247=539%:%
%:%1248=540%:%
%:%1249=540%:%
%:%1250=540%:%
%:%1251=540%:%
%:%1252=541%:%
%:%1253=542%:%
%:%1254=542%:%
%:%1255=543%:%
%:%1256=543%:%
%:%1257=543%:%
%:%1258=543%:%
%:%1259=544%:%
%:%1260=544%:%
%:%1261=544%:%
%:%1262=545%:%
%:%1263=545%:%
%:%1264=545%:%
%:%1265=545%:%
%:%1266=546%:%
%:%1267=547%:%
%:%1268=547%:%
%:%1269=548%:%
%:%1270=548%:%
%:%1271=549%:%
%:%1272=549%:%
%:%1273=549%:%
%:%1274=550%:%
%:%1275=550%:%
%:%1276=550%:%
%:%1277=551%:%
%:%1278=551%:%
%:%1279=551%:%
%:%1280=552%:%
%:%1281=553%:%
%:%1282=553%:%
%:%1283=554%:%
%:%1284=554%:%
%:%1285=555%:%
%:%1286=555%:%
%:%1287=556%:%
%:%1288=556%:%
%:%1289=557%:%
%:%1290=557%:%
%:%1291=557%:%
%:%1292=558%:%
%:%1293=558%:%
%:%1294=558%:%
%:%1297=561%:%
%:%1298=562%:%
%:%1299=562%:%
%:%1300=563%:%
%:%1301=564%:%
%:%1302=564%:%
%:%1303=564%:%
%:%1304=565%:%
%:%1305=566%:%
%:%1306=567%:%
%:%1307=568%:%
%:%1308=568%:%
%:%1309=569%:%
%:%1310=570%:%
%:%1311=570%:%
%:%1312=571%:%
%:%1313=571%:%
%:%1314=571%:%
%:%1315=572%:%
%:%1316=572%:%
%:%1317=572%:%
%:%1318=573%:%
%:%1319=573%:%
%:%1320=573%:%
%:%1321=574%:%
%:%1322=574%:%
%:%1323=574%:%
%:%1324=575%:%
%:%1325=575%:%
%:%1326=575%:%
%:%1327=576%:%
%:%1328=576%:%
%:%1329=577%:%
%:%1330=578%:%
%:%1331=578%:%
%:%1332=579%:%
%:%1333=579%:%
%:%1334=579%:%
%:%1335=580%:%
%:%1336=581%:%
%:%1337=581%:%
%:%1338=582%:%
%:%1339=582%:%
%:%1340=583%:%
%:%1341=583%:%
%:%1342=584%:%
%:%1343=584%:%
%:%1344=585%:%
%:%1345=585%:%
%:%1346=586%:%
%:%1347=586%:%
%:%1348=587%:%
%:%1349=587%:%
%:%1350=587%:%
%:%1351=588%:%
%:%1352=588%:%
%:%1353=588%:%
%:%1354=589%:%
%:%1355=589%:%
%:%1356=589%:%
%:%1357=590%:%
%:%1358=590%:%
%:%1359=591%:%
%:%1360=591%:%
%:%1361=592%:%
%:%1367=592%:%
%:%1370=593%:%
%:%1371=594%:%
%:%1372=594%:%
%:%1373=595%:%
%:%1374=596%:%
%:%1376=598%:%
%:%1379=599%:%
%:%1383=599%:%
%:%1384=599%:%
%:%1385=599%:%
%:%1399=601%:%
%:%1411=603%:%
%:%1413=604%:%
%:%1414=604%:%
%:%1415=605%:%
%:%1419=609%:%
%:%1420=610%:%
%:%1421=611%:%
%:%1422=611%:%
%:%1423=612%:%
%:%1424=613%:%
%:%1428=617%:%
%:%1435=618%:%
%:%1436=618%:%
%:%1437=619%:%
%:%1438=619%:%
%:%1442=623%:%
%:%1443=624%:%
%:%1444=624%:%
%:%1445=625%:%
%:%1446=625%:%
%:%1447=626%:%
%:%1448=626%:%
%:%1449=626%:%
%:%1450=627%:%
%:%1451=627%:%
%:%1452=627%:%
%:%1453=628%:%
%:%1459=628%:%
%:%1462=629%:%
%:%1463=630%:%
%:%1464=630%:%
%:%1465=631%:%
%:%1467=633%:%
%:%1468=634%:%
%:%1469=635%:%
%:%1470=635%:%
%:%1471=636%:%
%:%1472=637%:%
%:%1474=639%:%
%:%1481=640%:%
%:%1482=640%:%
%:%1483=641%:%
%:%1484=641%:%
%:%1485=642%:%
%:%1486=642%:%
%:%1487=642%:%
%:%1488=643%:%
%:%1489=643%:%
%:%1491=645%:%
%:%1492=646%:%
%:%1493=646%:%
%:%1494=646%:%
%:%1495=647%:%
%:%1496=647%:%
%:%1497=647%:%
%:%1498=648%:%
%:%1499=648%:%
%:%1500=648%:%
%:%1501=649%:%
%:%1507=649%:%
%:%1510=650%:%
%:%1511=651%:%
%:%1512=651%:%
%:%1513=652%:%
%:%1515=654%:%
%:%1516=655%:%
%:%1517=656%:%
%:%1518=656%:%
%:%1519=657%:%
%:%1520=658%:%
%:%1522=660%:%
%:%1529=661%:%
%:%1530=661%:%
%:%1531=662%:%
%:%1532=662%:%
%:%1533=663%:%
%:%1534=663%:%
%:%1535=663%:%
%:%1536=664%:%
%:%1537=664%:%
%:%1540=667%:%
%:%1541=668%:%
%:%1542=668%:%
%:%1543=669%:%
%:%1544=669%:%
%:%1545=670%:%
%:%1546=670%:%
%:%1547=670%:%
%:%1548=671%:%
%:%1549=671%:%
%:%1550=671%:%
%:%1551=672%:%
%:%1557=672%:%
%:%1560=673%:%
%:%1561=674%:%
%:%1562=674%:%
%:%1563=675%:%
%:%1564=676%:%
%:%1567=677%:%
%:%1571=677%:%
%:%1572=677%:%
%:%1573=677%:%
%:%1578=677%:%
%:%1581=678%:%
%:%1582=679%:%
%:%1583=679%:%
%:%1584=680%:%
%:%1585=681%:%
%:%1588=682%:%
%:%1592=682%:%
%:%1593=682%:%
%:%1594=682%:%
%:%1599=682%:%
%:%1602=683%:%
%:%1603=684%:%
%:%1604=684%:%
%:%1605=685%:%
%:%1606=686%:%
%:%1609=687%:%
%:%1613=687%:%
%:%1614=687%:%
%:%1615=687%:%
%:%1620=687%:%
%:%1623=688%:%
%:%1624=689%:%
%:%1625=689%:%
%:%1626=690%:%
%:%1627=691%:%
%:%1630=692%:%
%:%1634=692%:%
%:%1635=692%:%
%:%1636=692%:%
%:%1641=692%:%
%:%1644=693%:%
%:%1645=694%:%
%:%1646=694%:%
%:%1647=695%:%
%:%1648=696%:%
%:%1651=697%:%
%:%1655=697%:%
%:%1656=697%:%
%:%1657=697%:%
%:%1662=697%:%
%:%1665=698%:%
%:%1666=699%:%
%:%1667=699%:%
%:%1668=700%:%
%:%1669=701%:%
%:%1672=702%:%
%:%1676=702%:%
%:%1677=702%:%
%:%1678=702%:%
%:%1683=702%:%
%:%1686=703%:%
%:%1687=704%:%
%:%1688=704%:%
%:%1689=705%:%
%:%1690=706%:%
%:%1693=707%:%
%:%1697=707%:%
%:%1698=707%:%
%:%1699=707%:%
%:%1704=707%:%
%:%1707=708%:%
%:%1708=709%:%
%:%1709=709%:%
%:%1710=710%:%
%:%1711=711%:%
%:%1712=712%:%
%:%1719=713%:%
%:%1720=713%:%
%:%1721=714%:%
%:%1722=714%:%
%:%1723=715%:%
%:%1724=715%:%
%:%1725=715%:%
%:%1726=716%:%
%:%1727=716%:%
%:%1728=716%:%
%:%1729=717%:%
%:%1730=717%:%
%:%1731=717%:%
%:%1732=718%:%
%:%1733=718%:%
%:%1734=718%:%
%:%1735=719%:%
%:%1736=719%:%
%:%1737=720%:%
%:%1738=720%:%
%:%1739=720%:%
%:%1740=721%:%
%:%1741=721%:%
%:%1742=721%:%
%:%1743=722%:%
%:%1744=722%:%
%:%1745=722%:%
%:%1746=723%:%
%:%1747=723%:%
%:%1748=723%:%
%:%1749=723%:%
%:%1750=724%:%
%:%1751=724%:%
%:%1752=724%:%
%:%1753=725%:%
%:%1754=725%:%
%:%1755=726%:%
%:%1765=728%:%
%:%1767=729%:%
%:%1768=729%:%
%:%1769=730%:%
%:%1770=731%:%
%:%1777=732%:%
%:%1778=732%:%
%:%1779=733%:%
%:%1780=733%:%
%:%1781=734%:%
%:%1782=734%:%
%:%1783=734%:%
%:%1784=735%:%
%:%1785=735%:%
%:%1786=735%:%
%:%1787=736%:%
%:%1788=736%:%
%:%1789=737%:%
%:%1790=737%:%
%:%1791=737%:%
%:%1792=738%:%
%:%1793=738%:%
%:%1794=738%:%
%:%1795=739%:%
%:%1796=740%:%
%:%1797=740%:%
%:%1798=741%:%
%:%1799=741%:%
%:%1800=742%:%
%:%1801=743%:%
%:%1802=743%:%
%:%1803=744%:%
%:%1804=744%:%
%:%1805=745%:%
%:%1806=745%:%
%:%1807=746%:%
%:%1808=746%:%
%:%1809=747%:%
%:%1810=747%:%
%:%1811=748%:%
%:%1812=748%:%
%:%1813=749%:%
%:%1814=750%:%
%:%1815=750%:%
%:%1816=751%:%
%:%1817=751%:%
%:%1818=751%:%
%:%1819=752%:%
%:%1820=752%:%
%:%1821=753%:%
%:%1822=753%:%
%:%1823=754%:%
%:%1824=754%:%
%:%1825=754%:%
%:%1826=755%:%
%:%1827=755%:%
%:%1828=756%:%
%:%1829=756%:%
%:%1830=756%:%
%:%1831=757%:%
%:%1832=757%:%
%:%1833=757%:%
%:%1834=757%:%
%:%1835=758%:%
%:%1836=758%:%
%:%1837=759%:%
%:%1838=760%:%
%:%1839=760%:%
%:%1840=761%:%
%:%1841=761%:%
%:%1842=761%:%
%:%1843=762%:%
%:%1844=762%:%
%:%1845=763%:%
%:%1846=763%:%
%:%1847=763%:%
%:%1848=764%:%
%:%1849=764%:%
%:%1850=764%:%
%:%1851=765%:%
%:%1852=766%:%
%:%1853=766%:%
%:%1854=766%:%
%:%1855=767%:%
%:%1856=767%:%
%:%1857=768%:%
%:%1858=768%:%
%:%1859=768%:%
%:%1860=769%:%
%:%1861=769%:%
%:%1862=769%:%
%:%1863=770%:%
%:%1864=770%:%
%:%1865=771%:%
%:%1871=771%:%
%:%1874=772%:%
%:%1875=773%:%
%:%1876=773%:%
%:%1877=774%:%
%:%1878=775%:%
%:%1879=776%:%
%:%1886=777%:%
%:%1887=777%:%
%:%1888=778%:%
%:%1889=778%:%
%:%1890=779%:%
%:%1892=781%:%
%:%1893=782%:%
%:%1894=782%:%
%:%1895=783%:%
%:%1896=784%:%
%:%1897=784%:%
%:%1898=785%:%
%:%1900=787%:%
%:%1901=788%:%
%:%1902=788%:%
%:%1903=789%:%
%:%1904=790%:%
%:%1905=790%:%
%:%1906=791%:%
%:%1907=791%:%
%:%1908=792%:%
%:%1909=792%:%
%:%1910=793%:%
%:%1916=793%:%
%:%1919=794%:%
%:%1920=795%:%
%:%1921=795%:%
%:%1922=796%:%
%:%1923=797%:%
%:%1924=798%:%
%:%1931=799%:%
%:%1932=799%:%
%:%1933=800%:%
%:%1934=800%:%
%:%1935=801%:%
%:%1936=801%:%
%:%1937=801%:%
%:%1938=802%:%
%:%1939=803%:%
%:%1940=804%:%
%:%1941=804%:%
%:%1942=804%:%
%:%1943=805%:%
%:%1944=806%:%
%:%1945=806%:%
%:%1946=807%:%
%:%1947=807%:%
%:%1948=807%:%
%:%1949=808%:%
%:%1950=808%:%
%:%1951=808%:%
%:%1952=809%:%
%:%1953=810%:%
%:%1954=811%:%
%:%1955=811%:%
%:%1956=812%:%
%:%1957=812%:%
%:%1958=812%:%
%:%1959=813%:%
%:%1960=813%:%
%:%1961=813%:%
%:%1962=814%:%
%:%1963=814%:%
%:%1964=815%:%
%:%1970=815%:%
%:%1973=816%:%
%:%1974=817%:%
%:%1975=817%:%
%:%1976=818%:%
%:%1977=819%:%
%:%1978=820%:%
%:%1979=821%:%
%:%1982=822%:%
%:%1986=822%:%
%:%1987=822%:%
%:%1988=823%:%
%:%1989=823%:%
%:%1990=824%:%
%:%1991=824%:%
%:%1992=825%:%
%:%1993=825%:%
%:%1994=826%:%
%:%1995=826%:%
%:%1996=827%:%
%:%1997=827%:%
%:%1998=828%:%
%:%1999=828%:%
%:%2000=829%:%
%:%2001=829%:%
%:%2002=830%:%
%:%2003=831%:%
%:%2004=831%:%
%:%2005=832%:%
%:%2007=834%:%
%:%2008=835%:%
%:%2009=835%:%
%:%2010=836%:%
%:%2011=836%:%
%:%2012=836%:%
%:%2013=837%:%
%:%2014=838%:%
%:%2015=839%:%
%:%2016=839%:%
%:%2017=840%:%
%:%2018=841%:%
%:%2019=841%:%
%:%2020=842%:%
%:%2022=844%:%
%:%2023=845%:%
%:%2024=845%:%
%:%2025=846%:%
%:%2026=846%:%
%:%2027=846%:%
%:%2030=849%:%
%:%2031=850%:%
%:%2032=850%:%
%:%2033=851%:%
%:%2034=851%:%
%:%2035=851%:%
%:%2036=852%:%
%:%2037=852%:%
%:%2038=852%:%
%:%2039=853%:%
%:%2040=853%:%
%:%2041=853%:%
%:%2042=854%:%
%:%2043=855%:%
%:%2044=856%:%
%:%2045=856%:%
%:%2046=857%:%
%:%2047=858%:%
%:%2048=858%:%
%:%2049=859%:%
%:%2050=859%:%
%:%2051=860%:%
%:%2052=860%:%
%:%2053=861%:%
%:%2054=861%:%
%:%2055=862%:%
%:%2056=862%:%
%:%2057=863%:%
%:%2058=863%:%
%:%2059=864%:%
%:%2060=865%:%
%:%2061=865%:%
%:%2062=866%:%
%:%2063=866%:%
%:%2064=867%:%
%:%2074=869%:%
%:%2076=870%:%
%:%2077=870%:%
%:%2078=871%:%
%:%2079=872%:%
%:%2080=873%:%
%:%2087=874%:%
%:%2088=874%:%
%:%2089=875%:%
%:%2090=875%:%
%:%2091=876%:%
%:%2092=876%:%
%:%2093=876%:%
%:%2094=877%:%
%:%2095=877%:%
%:%2096=878%:%
%:%2097=878%:%
%:%2098=878%:%
%:%2099=879%:%
%:%2100=879%:%
%:%2101=880%:%
%:%2102=880%:%
%:%2103=881%:%
%:%2104=881%:%
%:%2105=881%:%
%:%2106=882%:%
%:%2107=882%:%
%:%2108=882%:%
%:%2109=883%:%
%:%2110=884%:%
%:%2111=884%:%
%:%2112=885%:%
%:%2113=885%:%
%:%2114=885%:%
%:%2115=886%:%
%:%2116=887%:%
%:%2117=888%:%
%:%2118=888%:%
%:%2119=888%:%
%:%2120=889%:%
%:%2121=889%:%
%:%2122=889%:%
%:%2123=890%:%
%:%2124=890%:%
%:%2125=891%:%
%:%2126=892%:%
%:%2127=892%:%
%:%2128=893%:%
%:%2129=893%:%
%:%2130=894%:%
%:%2131=895%:%
%:%2132=895%:%
%:%2133=896%:%
%:%2134=896%:%
%:%2135=897%:%
%:%2136=897%:%
%:%2137=897%:%
%:%2138=898%:%
%:%2139=898%:%
%:%2140=898%:%
%:%2141=899%:%
%:%2142=900%:%
%:%2143=900%:%
%:%2144=901%:%
%:%2145=901%:%
%:%2146=902%:%
%:%2147=902%:%
%:%2148=902%:%
%:%2149=903%:%
%:%2150=903%:%
%:%2151=903%:%
%:%2152=904%:%
%:%2153=905%:%
%:%2154=905%:%
%:%2155=906%:%
%:%2156=906%:%
%:%2157=907%:%
%:%2158=908%:%
%:%2159=908%:%
%:%2160=909%:%
%:%2161=909%:%
%:%2162=910%:%
%:%2163=911%:%
%:%2164=911%:%
%:%2165=912%:%
%:%2166=913%:%
%:%2167=913%:%
%:%2168=914%:%
%:%2169=915%:%
%:%2170=915%:%
%:%2171=915%:%
%:%2172=916%:%
%:%2173=916%:%
%:%2174=916%:%
%:%2175=916%:%
%:%2176=917%:%
%:%2177=918%:%
%:%2178=918%:%
%:%2179=919%:%
%:%2180=919%:%
%:%2181=920%:%
%:%2182=921%:%
%:%2183=921%:%
%:%2184=922%:%
%:%2185=923%:%
%:%2186=923%:%
%:%2187=923%:%
%:%2188=924%:%
%:%2189=924%:%
%:%2190=925%:%
%:%2191=925%:%
%:%2192=925%:%
%:%2193=926%:%
%:%2194=926%:%
%:%2195=927%:%
%:%2196=927%:%
%:%2197=927%:%
%:%2198=928%:%
%:%2199=928%:%
%:%2200=929%:%
%:%2201=929%:%
%:%2202=930%:%
%:%2203=930%:%
%:%2204=931%:%
%:%2205=931%:%
%:%2206=931%:%
%:%2207=932%:%
%:%2208=932%:%
%:%2209=933%:%
%:%2210=933%:%
%:%2211=933%:%
%:%2212=934%:%
%:%2213=935%:%
%:%2214=935%:%
%:%2215=936%:%
%:%2216=936%:%
%:%2217=936%:%
%:%2218=937%:%
%:%2219=938%:%
%:%2220=939%:%
%:%2221=939%:%
%:%2222=939%:%
%:%2223=940%:%
%:%2224=941%:%
%:%2225=941%:%
%:%2226=942%:%
%:%2227=942%:%
%:%2228=942%:%
%:%2229=942%:%
%:%2230=943%:%
%:%2231=944%:%
%:%2232=944%:%
%:%2233=945%:%
%:%2234=945%:%
%:%2235=945%:%
%:%2236=945%:%
%:%2237=946%:%
%:%2238=946%:%
%:%2239=947%:%
%:%2240=947%:%
%:%2241=947%:%
%:%2242=947%:%
%:%2243=948%:%
%:%2244=948%:%
%:%2245=949%:%
%:%2246=949%:%
%:%2247=950%:%
%:%2248=951%:%
%:%2249=951%:%
%:%2252=954%:%
%:%2253=955%:%
%:%2254=955%:%
%:%2255=955%:%
%:%2256=955%:%
%:%2257=956%:%
%:%2258=956%:%
%:%2259=956%:%
%:%2260=957%:%
%:%2261=958%:%
%:%2262=959%:%
%:%2263=959%:%
%:%2264=959%:%
%:%2265=960%:%
%:%2266=961%:%
%:%2267=961%:%
%:%2268=962%:%
%:%2269=962%:%
%:%2270=962%:%
%:%2271=963%:%
%:%2272=963%:%
%:%2273=963%:%
%:%2274=964%:%
%:%2275=964%:%
%:%2276=965%:%
%:%2277=965%:%
%:%2278=965%:%
%:%2279=966%:%
%:%2280=966%:%
%:%2281=967%:%
%:%2282=967%:%
%:%2283=968%:%
%:%2284=968%:%
%:%2285=969%:%
%:%2286=969%:%
%:%2287=970%:%
%:%2288=970%:%
%:%2289=970%:%
%:%2290=971%:%
%:%2291=971%:%
%:%2292=972%:%
%:%2293=972%:%
%:%2294=973%:%
%:%2295=973%:%
%:%2296=974%:%
%:%2306=976%:%
%:%2308=977%:%
%:%2309=977%:%
%:%2310=978%:%
%:%2311=979%:%
%:%2312=980%:%
%:%2319=981%:%
%:%2320=981%:%
%:%2321=982%:%
%:%2322=982%:%
%:%2323=983%:%
%:%2324=983%:%
%:%2325=983%:%
%:%2326=983%:%
%:%2327=984%:%
%:%2328=984%:%
%:%2329=985%:%
%:%2330=985%:%
%:%2331=985%:%
%:%2332=985%:%
%:%2333=986%:%
%:%2334=987%:%
%:%2335=987%:%
%:%2336=988%:%
%:%2337=988%:%
%:%2338=989%:%
%:%2339=989%:%
%:%2340=989%:%
%:%2341=990%:%
%:%2342=990%:%
%:%2343=990%:%
%:%2344=991%:%
%:%2345=991%:%
%:%2346=992%:%
%:%2361=994%:%
%:%2371=996%:%
%:%2372=996%:%
%:%2373=997%:%
%:%2374=998%:%
%:%2377=999%:%
%:%2381=999%:%
%:%2382=999%:%
%:%2383=999%:%
%:%2384=1000%:%
%:%2385=1000%:%
%:%2386=1001%:%
%:%2387=1001%:%
%:%2388=1002%:%
%:%2389=1002%:%
%:%2390=1003%:%
%:%2391=1003%:%
%:%2392=1004%:%
%:%2393=1004%:%
%:%2394=1005%:%
%:%2395=1005%:%
%:%2396=1005%:%
%:%2397=1006%:%
%:%2398=1006%:%
%:%2399=1006%:%
%:%2400=1007%:%
%:%2401=1007%:%
%:%2402=1007%:%
%:%2403=1008%:%
%:%2404=1008%:%
%:%2405=1009%:%
%:%2406=1009%:%
%:%2407=1010%:%
%:%2408=1010%:%
%:%2409=1010%:%
%:%2410=1011%:%
%:%2411=1011%:%
%:%2412=1012%:%
%:%2413=1012%:%
%:%2414=1013%:%
%:%2415=1013%:%
%:%2416=1013%:%
%:%2417=1014%:%
%:%2418=1014%:%
%:%2419=1014%:%
%:%2420=1015%:%
%:%2421=1015%:%
%:%2422=1015%:%
%:%2423=1015%:%
%:%2424=1016%:%
%:%2425=1016%:%
%:%2426=1017%:%
%:%2432=1017%:%
%:%2435=1018%:%
%:%2436=1019%:%
%:%2437=1019%:%
%:%2438=1020%:%
%:%2439=1021%:%
%:%2442=1022%:%
%:%2446=1022%:%
%:%2447=1022%:%
%:%2448=1022%:%
%:%2449=1023%:%
%:%2450=1023%:%
%:%2451=1024%:%
%:%2452=1024%:%
%:%2453=1025%:%
%:%2454=1025%:%
%:%2455=1026%:%
%:%2456=1026%:%
%:%2457=1027%:%
%:%2458=1027%:%
%:%2459=1028%:%
%:%2460=1028%:%
%:%2461=1028%:%
%:%2462=1029%:%
%:%2463=1029%:%
%:%2464=1029%:%
%:%2465=1030%:%
%:%2466=1030%:%
%:%2467=1030%:%
%:%2468=1031%:%
%:%2469=1031%:%
%:%2470=1032%:%
%:%2471=1032%:%
%:%2472=1033%:%
%:%2473=1033%:%
%:%2474=1033%:%
%:%2475=1034%:%
%:%2476=1034%:%
%:%2477=1035%:%
%:%2478=1035%:%
%:%2479=1036%:%
%:%2480=1036%:%
%:%2481=1036%:%
%:%2482=1037%:%
%:%2483=1037%:%
%:%2484=1037%:%
%:%2485=1038%:%
%:%2486=1038%:%
%:%2487=1038%:%
%:%2488=1038%:%
%:%2489=1039%:%
%:%2490=1039%:%
%:%2491=1040%:%
%:%2497=1040%:%
%:%2500=1041%:%
%:%2501=1042%:%
%:%2502=1042%:%
%:%2503=1043%:%
%:%2504=1044%:%
%:%2511=1045%:%
%:%2512=1045%:%
%:%2513=1046%:%
%:%2514=1046%:%
%:%2515=1047%:%
%:%2516=1047%:%
%:%2517=1047%:%
%:%2518=1047%:%
%:%2519=1048%:%
%:%2520=1048%:%
%:%2521=1048%:%
%:%2522=1049%:%
%:%2523=1049%:%
%:%2524=1050%:%
%:%2525=1050%:%
%:%2526=1051%:%
%:%2527=1051%:%
%:%2528=1052%:%
%:%2529=1052%:%
%:%2530=1053%:%
%:%2531=1053%:%
%:%2532=1053%:%
%:%2533=1053%:%
%:%2534=1054%:%
%:%2535=1054%:%
%:%2536=1055%:%
%:%2537=1055%:%
%:%2538=1055%:%
%:%2539=1056%:%
%:%2540=1056%:%
%:%2541=1056%:%
%:%2542=1057%:%
%:%2543=1057%:%
%:%2544=1057%:%
%:%2545=1058%:%
%:%2546=1058%:%
%:%2547=1059%:%
%:%2548=1059%:%
%:%2549=1060%:%
%:%2550=1060%:%
%:%2551=1061%:%
%:%2552=1061%:%
%:%2553=1061%:%
%:%2554=1061%:%
%:%2555=1062%:%
%:%2556=1062%:%
%:%2557=1062%:%
%:%2558=1063%:%
%:%2559=1063%:%
%:%2560=1063%:%
%:%2561=1064%:%
%:%2562=1064%:%
%:%2563=1065%:%
%:%2564=1065%:%
%:%2565=1066%:%
%:%2566=1066%:%
%:%2567=1066%:%
%:%2568=1067%:%
%:%2569=1067%:%
%:%2570=1068%:%
%:%2571=1068%:%
%:%2572=1068%:%
%:%2573=1069%:%
%:%2574=1069%:%
%:%2575=1070%:%
%:%2576=1070%:%
%:%2577=1071%:%
%:%2578=1071%:%
%:%2579=1072%:%
%:%2580=1072%:%
%:%2581=1072%:%
%:%2582=1073%:%
%:%2583=1074%:%
%:%2584=1074%:%
%:%2585=1075%:%
%:%2586=1075%:%
%:%2587=1076%:%
%:%2588=1076%:%
%:%2589=1077%:%
%:%2590=1077%:%
%:%2591=1077%:%
%:%2592=1078%:%
%:%2593=1078%:%
%:%2594=1078%:%
%:%2595=1079%:%
%:%2596=1079%:%
%:%2597=1079%:%
%:%2598=1080%:%
%:%2599=1080%:%
%:%2600=1080%:%
%:%2601=1081%:%
%:%2602=1081%:%
%:%2603=1081%:%
%:%2604=1082%:%
%:%2605=1082%:%
%:%2606=1082%:%
%:%2607=1083%:%
%:%2608=1083%:%
%:%2609=1084%:%
%:%2610=1084%:%
%:%2611=1084%:%
%:%2612=1085%:%
%:%2613=1085%:%
%:%2614=1086%:%
%:%2615=1086%:%
%:%2616=1086%:%
%:%2617=1087%:%
%:%2618=1087%:%
%:%2619=1087%:%
%:%2620=1088%:%
%:%2621=1088%:%
%:%2622=1089%:%
%:%2628=1089%:%
%:%2631=1090%:%
%:%2632=1091%:%
%:%2633=1091%:%
%:%2634=1092%:%
%:%2635=1093%:%
%:%2642=1094%:%
%:%2643=1094%:%
%:%2644=1095%:%
%:%2645=1095%:%
%:%2646=1096%:%
%:%2647=1096%:%
%:%2648=1096%:%
%:%2649=1096%:%
%:%2650=1097%:%
%:%2651=1097%:%
%:%2652=1097%:%
%:%2653=1098%:%
%:%2654=1098%:%
%:%2655=1099%:%
%:%2656=1099%:%
%:%2657=1100%:%
%:%2658=1100%:%
%:%2659=1101%:%
%:%2660=1101%:%
%:%2661=1102%:%
%:%2662=1102%:%
%:%2663=1102%:%
%:%2664=1102%:%
%:%2665=1103%:%
%:%2666=1103%:%
%:%2667=1104%:%
%:%2668=1104%:%
%:%2669=1104%:%
%:%2670=1105%:%
%:%2671=1105%:%
%:%2672=1105%:%
%:%2673=1106%:%
%:%2674=1106%:%
%:%2675=1106%:%
%:%2676=1107%:%
%:%2677=1107%:%
%:%2678=1108%:%
%:%2679=1108%:%
%:%2680=1109%:%
%:%2681=1109%:%
%:%2682=1110%:%
%:%2683=1110%:%
%:%2684=1110%:%
%:%2685=1110%:%
%:%2686=1111%:%
%:%2687=1111%:%
%:%2688=1111%:%
%:%2689=1112%:%
%:%2690=1112%:%
%:%2691=1112%:%
%:%2692=1113%:%
%:%2693=1113%:%
%:%2694=1114%:%
%:%2695=1114%:%
%:%2696=1115%:%
%:%2697=1115%:%
%:%2698=1115%:%
%:%2699=1116%:%
%:%2700=1116%:%
%:%2701=1117%:%
%:%2702=1117%:%
%:%2703=1117%:%
%:%2704=1118%:%
%:%2705=1118%:%
%:%2706=1119%:%
%:%2707=1119%:%
%:%2708=1120%:%
%:%2709=1120%:%
%:%2710=1121%:%
%:%2711=1121%:%
%:%2712=1121%:%
%:%2713=1122%:%
%:%2714=1122%:%
%:%2715=1123%:%
%:%2716=1123%:%
%:%2717=1124%:%
%:%2718=1124%:%
%:%2719=1125%:%
%:%2720=1125%:%
%:%2721=1125%:%
%:%2722=1126%:%
%:%2723=1126%:%
%:%2724=1126%:%
%:%2725=1127%:%
%:%2726=1127%:%
%:%2727=1127%:%
%:%2728=1128%:%
%:%2729=1128%:%
%:%2730=1128%:%
%:%2731=1129%:%
%:%2732=1129%:%
%:%2733=1129%:%
%:%2734=1130%:%
%:%2735=1130%:%
%:%2736=1130%:%
%:%2737=1131%:%
%:%2738=1131%:%
%:%2739=1132%:%
%:%2740=1132%:%
%:%2741=1132%:%
%:%2742=1133%:%
%:%2743=1133%:%
%:%2744=1134%:%
%:%2745=1134%:%
%:%2746=1134%:%
%:%2747=1135%:%
%:%2748=1135%:%
%:%2749=1135%:%
%:%2750=1136%:%
%:%2751=1136%:%
%:%2752=1137%:%
%:%2758=1137%:%
%:%2761=1138%:%
%:%2762=1139%:%
%:%2763=1139%:%
%:%2764=1140%:%
%:%2765=1141%:%
%:%2772=1142%:%
%:%2773=1142%:%
%:%2774=1143%:%
%:%2775=1143%:%
%:%2776=1144%:%
%:%2777=1144%:%
%:%2778=1144%:%
%:%2779=1145%:%
%:%2780=1145%:%
%:%2781=1145%:%
%:%2782=1146%:%
%:%2783=1146%:%
%:%2784=1147%:%
%:%2785=1147%:%
%:%2786=1148%:%
%:%2787=1148%:%
%:%2788=1149%:%
%:%2789=1149%:%
%:%2790=1149%:%
%:%2791=1150%:%
%:%2792=1150%:%
%:%2793=1151%:%
%:%2794=1151%:%
%:%2795=1152%:%
%:%2796=1152%:%
%:%2797=1153%:%
%:%2798=1153%:%
%:%2799=1154%:%
%:%2800=1155%:%
%:%2801=1155%:%
%:%2802=1156%:%
%:%2803=1156%:%
%:%2804=1156%:%
%:%2805=1157%:%
%:%2806=1157%:%
%:%2807=1158%:%
%:%2808=1158%:%
%:%2809=1158%:%
%:%2810=1159%:%
%:%2811=1160%:%
%:%2812=1160%:%
%:%2813=1161%:%
%:%2814=1161%:%
%:%2815=1162%:%
%:%2816=1162%:%
%:%2817=1163%:%
%:%2818=1163%:%
%:%2819=1164%:%
%:%2820=1164%:%
%:%2821=1164%:%
%:%2822=1165%:%
%:%2823=1166%:%
%:%2824=1166%:%
%:%2825=1167%:%
%:%2826=1167%:%
%:%2827=1167%:%
%:%2828=1167%:%
%:%2829=1168%:%
%:%2830=1168%:%
%:%2831=1168%:%
%:%2832=1169%:%
%:%2833=1170%:%
%:%2834=1170%:%
%:%2835=1170%:%
%:%2836=1171%:%
%:%2837=1171%:%
%:%2838=1171%:%
%:%2839=1172%:%
%:%2840=1173%:%
%:%2841=1173%:%
%:%2842=1173%:%
%:%2843=1174%:%
%:%2844=1174%:%
%:%2845=1174%:%
%:%2846=1175%:%
%:%2847=1175%:%
%:%2848=1176%:%
%:%2849=1176%:%
%:%2850=1176%:%
%:%2851=1177%:%
%:%2852=1177%:%
%:%2853=1177%:%
%:%2854=1178%:%
%:%2855=1179%:%
%:%2856=1179%:%
%:%2857=1180%:%
%:%2858=1180%:%
%:%2859=1181%:%
%:%2860=1181%:%
%:%2861=1182%:%
%:%2862=1182%:%
%:%2863=1182%:%
%:%2864=1183%:%
%:%2865=1183%:%
%:%2866=1183%:%
%:%2867=1184%:%
%:%2868=1184%:%
%:%2869=1185%:%
%:%2870=1185%:%
%:%2871=1185%:%
%:%2872=1186%:%
%:%2873=1186%:%
%:%2874=1186%:%
%:%2875=1187%:%
%:%2876=1187%:%
%:%2877=1187%:%
%:%2878=1188%:%
%:%2879=1188%:%
%:%2880=1188%:%
%:%2881=1189%:%
%:%2882=1189%:%
%:%2883=1189%:%
%:%2884=1190%:%
%:%2885=1190%:%
%:%2886=1190%:%
%:%2887=1191%:%
%:%2888=1191%:%
%:%2889=1192%:%
%:%2890=1192%:%
%:%2891=1192%:%
%:%2892=1193%:%
%:%2893=1193%:%
%:%2894=1193%:%
%:%2895=1194%:%
%:%2896=1194%:%
%:%2897=1194%:%
%:%2898=1195%:%
%:%2899=1195%:%
%:%2900=1195%:%
%:%2901=1196%:%
%:%2902=1196%:%
%:%2903=1196%:%
%:%2904=1197%:%
%:%2905=1197%:%
%:%2906=1197%:%
%:%2907=1198%:%
%:%2908=1199%:%
%:%2909=1199%:%
%:%2910=1200%:%
%:%2911=1200%:%
%:%2912=1201%:%
%:%2913=1201%:%
%:%2914=1202%:%
%:%2915=1202%:%
%:%2916=1203%:%
%:%2917=1203%:%
%:%2918=1203%:%
%:%2919=1204%:%
%:%2920=1204%:%
%:%2921=1205%:%
%:%2922=1205%:%
%:%2923=1205%:%
%:%2924=1206%:%
%:%2925=1206%:%
%:%2926=1206%:%
%:%2927=1207%:%
%:%2928=1207%:%
%:%2929=1207%:%
%:%2930=1208%:%
%:%2931=1208%:%
%:%2932=1208%:%
%:%2933=1209%:%
%:%2934=1209%:%
%:%2935=1209%:%
%:%2936=1210%:%
%:%2937=1210%:%
%:%2938=1210%:%
%:%2939=1211%:%
%:%2940=1211%:%
%:%2941=1211%:%
%:%2942=1212%:%
%:%2943=1212%:%
%:%2944=1212%:%
%:%2945=1213%:%
%:%2946=1213%:%
%:%2947=1214%:%
%:%2948=1214%:%
%:%2949=1214%:%
%:%2950=1215%:%
%:%2951=1215%:%
%:%2952=1216%:%
%:%2953=1216%:%
%:%2954=1217%:%
%:%2960=1217%:%
%:%2963=1218%:%
%:%2964=1219%:%
%:%2965=1219%:%
%:%2966=1220%:%
%:%2967=1221%:%
%:%2974=1222%:%
%:%2975=1222%:%
%:%2976=1223%:%
%:%2977=1223%:%
%:%2978=1224%:%
%:%2979=1224%:%
%:%2980=1224%:%
%:%2981=1225%:%
%:%2982=1225%:%
%:%2983=1225%:%
%:%2984=1226%:%
%:%2985=1226%:%
%:%2986=1227%:%
%:%2987=1227%:%
%:%2988=1228%:%
%:%2989=1228%:%
%:%2990=1229%:%
%:%2991=1229%:%
%:%2992=1229%:%
%:%2993=1230%:%
%:%2994=1231%:%
%:%2995=1231%:%
%:%2996=1232%:%
%:%2997=1232%:%
%:%2998=1233%:%
%:%2999=1233%:%
%:%3000=1234%:%
%:%3001=1234%:%
%:%3002=1235%:%
%:%3003=1236%:%
%:%3004=1236%:%
%:%3005=1237%:%
%:%3006=1237%:%
%:%3007=1237%:%
%:%3008=1238%:%
%:%3009=1238%:%
%:%3010=1239%:%
%:%3011=1239%:%
%:%3012=1239%:%
%:%3013=1240%:%
%:%3014=1241%:%
%:%3015=1241%:%
%:%3016=1242%:%
%:%3017=1242%:%
%:%3018=1243%:%
%:%3019=1243%:%
%:%3020=1244%:%
%:%3021=1244%:%
%:%3022=1245%:%
%:%3023=1245%:%
%:%3024=1245%:%
%:%3025=1246%:%
%:%3026=1247%:%
%:%3027=1247%:%
%:%3028=1248%:%
%:%3029=1248%:%
%:%3030=1248%:%
%:%3031=1248%:%
%:%3032=1249%:%
%:%3033=1249%:%
%:%3034=1249%:%
%:%3035=1250%:%
%:%3036=1251%:%
%:%3037=1251%:%
%:%3038=1251%:%
%:%3039=1252%:%
%:%3040=1252%:%
%:%3041=1252%:%
%:%3042=1253%:%
%:%3043=1254%:%
%:%3044=1254%:%
%:%3045=1254%:%
%:%3046=1255%:%
%:%3047=1255%:%
%:%3048=1255%:%
%:%3049=1256%:%
%:%3050=1256%:%
%:%3051=1257%:%
%:%3052=1257%:%
%:%3053=1257%:%
%:%3054=1258%:%
%:%3055=1258%:%
%:%3056=1258%:%
%:%3057=1259%:%
%:%3058=1260%:%
%:%3059=1260%:%
%:%3060=1261%:%
%:%3061=1261%:%
%:%3062=1262%:%
%:%3063=1262%:%
%:%3064=1263%:%
%:%3065=1263%:%
%:%3066=1263%:%
%:%3067=1264%:%
%:%3068=1264%:%
%:%3069=1264%:%
%:%3070=1265%:%
%:%3071=1265%:%
%:%3072=1266%:%
%:%3073=1266%:%
%:%3074=1266%:%
%:%3075=1267%:%
%:%3076=1267%:%
%:%3077=1267%:%
%:%3078=1268%:%
%:%3079=1268%:%
%:%3080=1268%:%
%:%3081=1269%:%
%:%3082=1269%:%
%:%3083=1269%:%
%:%3084=1270%:%
%:%3085=1270%:%
%:%3086=1270%:%
%:%3087=1271%:%
%:%3088=1271%:%
%:%3089=1271%:%
%:%3090=1272%:%
%:%3091=1272%:%
%:%3092=1273%:%
%:%3093=1273%:%
%:%3094=1273%:%
%:%3095=1274%:%
%:%3096=1274%:%
%:%3097=1274%:%
%:%3098=1275%:%
%:%3099=1275%:%
%:%3100=1275%:%
%:%3101=1276%:%
%:%3102=1276%:%
%:%3103=1276%:%
%:%3104=1277%:%
%:%3105=1277%:%
%:%3106=1277%:%
%:%3107=1278%:%
%:%3108=1278%:%
%:%3109=1278%:%
%:%3110=1279%:%
%:%3111=1280%:%
%:%3112=1280%:%
%:%3113=1281%:%
%:%3114=1281%:%
%:%3115=1282%:%
%:%3116=1282%:%
%:%3117=1283%:%
%:%3118=1283%:%
%:%3119=1284%:%
%:%3120=1284%:%
%:%3121=1284%:%
%:%3122=1285%:%
%:%3123=1285%:%
%:%3124=1286%:%
%:%3125=1286%:%
%:%3126=1286%:%
%:%3127=1287%:%
%:%3128=1287%:%
%:%3129=1287%:%
%:%3130=1288%:%
%:%3131=1288%:%
%:%3132=1288%:%
%:%3133=1289%:%
%:%3134=1289%:%
%:%3135=1289%:%
%:%3136=1290%:%
%:%3137=1290%:%
%:%3138=1290%:%
%:%3139=1291%:%
%:%3140=1291%:%
%:%3141=1291%:%
%:%3142=1292%:%
%:%3143=1292%:%
%:%3144=1292%:%
%:%3145=1293%:%
%:%3146=1293%:%
%:%3147=1293%:%
%:%3148=1294%:%
%:%3149=1294%:%
%:%3150=1295%:%
%:%3151=1295%:%
%:%3152=1295%:%
%:%3153=1296%:%
%:%3154=1296%:%
%:%3155=1297%:%
%:%3156=1297%:%
%:%3157=1298%:%
%:%3163=1298%:%
%:%3166=1299%:%
%:%3167=1300%:%
%:%3168=1300%:%
%:%3169=1301%:%
%:%3170=1302%:%
%:%3177=1303%:%
%:%3178=1303%:%
%:%3179=1304%:%
%:%3180=1304%:%
%:%3181=1305%:%
%:%3182=1305%:%
%:%3183=1305%:%
%:%3184=1306%:%
%:%3185=1306%:%
%:%3186=1306%:%
%:%3187=1307%:%
%:%3188=1307%:%
%:%3189=1308%:%
%:%3190=1308%:%
%:%3191=1309%:%
%:%3192=1309%:%
%:%3193=1310%:%
%:%3194=1310%:%
%:%3195=1310%:%
%:%3196=1311%:%
%:%3197=1312%:%
%:%3198=1312%:%
%:%3199=1313%:%
%:%3200=1313%:%
%:%3201=1314%:%
%:%3202=1314%:%
%:%3203=1315%:%
%:%3204=1315%:%
%:%3205=1316%:%
%:%3206=1317%:%
%:%3207=1317%:%
%:%3208=1318%:%
%:%3209=1318%:%
%:%3210=1318%:%
%:%3211=1319%:%
%:%3212=1319%:%
%:%3213=1320%:%
%:%3214=1320%:%
%:%3215=1320%:%
%:%3216=1321%:%
%:%3217=1321%:%
%:%3218=1321%:%
%:%3219=1322%:%
%:%3220=1322%:%
%:%3221=1322%:%
%:%3222=1323%:%
%:%3223=1323%:%
%:%3224=1323%:%
%:%3225=1324%:%
%:%3226=1325%:%
%:%3227=1325%:%
%:%3228=1326%:%
%:%3229=1326%:%
%:%3230=1327%:%
%:%3231=1327%:%
%:%3232=1328%:%
%:%3233=1328%:%
%:%3234=1328%:%
%:%3235=1329%:%
%:%3236=1329%:%
%:%3237=1329%:%
%:%3238=1330%:%
%:%3239=1330%:%
%:%3240=1331%:%
%:%3241=1331%:%
%:%3242=1331%:%
%:%3243=1332%:%
%:%3244=1332%:%
%:%3245=1333%:%
%:%3246=1333%:%
%:%3247=1333%:%
%:%3248=1334%:%
%:%3249=1334%:%
%:%3250=1334%:%
%:%3251=1335%:%
%:%3252=1335%:%
%:%3253=1335%:%
%:%3254=1336%:%
%:%3255=1336%:%
%:%3256=1336%:%
%:%3257=1337%:%
%:%3258=1337%:%
%:%3259=1338%:%
%:%3260=1338%:%
%:%3261=1338%:%
%:%3262=1339%:%
%:%3263=1339%:%
%:%3264=1339%:%
%:%3265=1340%:%
%:%3266=1341%:%
%:%3267=1341%:%
%:%3268=1342%:%
%:%3269=1342%:%
%:%3270=1342%:%
%:%3271=1343%:%
%:%3272=1343%:%
%:%3273=1344%:%
%:%3274=1344%:%
%:%3275=1344%:%
%:%3276=1345%:%
%:%3277=1345%:%
%:%3278=1345%:%
%:%3279=1346%:%
%:%3280=1346%:%
%:%3281=1346%:%
%:%3282=1347%:%
%:%3283=1347%:%
%:%3284=1347%:%
%:%3285=1348%:%
%:%3286=1349%:%
%:%3287=1349%:%
%:%3288=1350%:%
%:%3289=1350%:%
%:%3290=1351%:%
%:%3291=1351%:%
%:%3292=1352%:%
%:%3293=1352%:%
%:%3294=1352%:%
%:%3295=1353%:%
%:%3296=1353%:%
%:%3297=1353%:%
%:%3298=1354%:%
%:%3299=1354%:%
%:%3300=1355%:%
%:%3301=1355%:%
%:%3302=1355%:%
%:%3303=1356%:%
%:%3304=1356%:%
%:%3305=1357%:%
%:%3306=1357%:%
%:%3307=1357%:%
%:%3308=1358%:%
%:%3309=1358%:%
%:%3310=1358%:%
%:%3311=1359%:%
%:%3312=1359%:%
%:%3313=1359%:%
%:%3314=1360%:%
%:%3315=1360%:%
%:%3316=1360%:%
%:%3317=1361%:%
%:%3318=1361%:%
%:%3319=1362%:%
%:%3320=1362%:%
%:%3321=1362%:%
%:%3322=1363%:%
%:%3323=1363%:%
%:%3324=1363%:%
%:%3325=1364%:%
%:%3326=1365%:%
%:%3327=1365%:%
%:%3328=1366%:%
%:%3329=1366%:%
%:%3330=1366%:%
%:%3331=1367%:%
%:%3332=1367%:%
%:%3333=1368%:%
%:%3334=1368%:%
%:%3335=1368%:%
%:%3336=1369%:%
%:%3337=1370%:%
%:%3338=1370%:%
%:%3339=1371%:%
%:%3340=1371%:%
%:%3341=1372%:%
%:%3342=1372%:%
%:%3343=1373%:%
%:%3344=1373%:%
%:%3345=1374%:%
%:%3346=1374%:%
%:%3347=1375%:%
%:%3348=1375%:%
%:%3349=1376%:%
%:%3350=1377%:%
%:%3351=1377%:%
%:%3352=1378%:%
%:%3353=1378%:%
%:%3354=1378%:%
%:%3355=1379%:%
%:%3356=1379%:%
%:%3357=1380%:%
%:%3358=1380%:%
%:%3359=1380%:%
%:%3360=1381%:%
%:%3361=1381%:%
%:%3362=1382%:%
%:%3363=1383%:%
%:%3364=1383%:%
%:%3365=1384%:%
%:%3366=1384%:%
%:%3367=1385%:%
%:%3368=1385%:%
%:%3369=1386%:%
%:%3370=1386%:%
%:%3371=1386%:%
%:%3372=1387%:%
%:%3373=1388%:%
%:%3374=1388%:%
%:%3375=1389%:%
%:%3376=1389%:%
%:%3377=1390%:%
%:%3378=1390%:%
%:%3379=1391%:%
%:%3380=1391%:%
%:%3381=1392%:%
%:%3382=1392%:%
%:%3383=1393%:%
%:%3384=1393%:%
%:%3385=1393%:%
%:%3386=1394%:%
%:%3387=1394%:%
%:%3388=1395%:%
%:%3389=1395%:%
%:%3390=1395%:%
%:%3391=1396%:%
%:%3392=1396%:%
%:%3393=1396%:%
%:%3394=1397%:%
%:%3395=1397%:%
%:%3396=1397%:%
%:%3397=1398%:%
%:%3398=1398%:%
%:%3399=1398%:%
%:%3400=1399%:%
%:%3401=1399%:%
%:%3402=1400%:%
%:%3403=1400%:%
%:%3404=1401%:%
%:%3410=1401%:%
%:%3413=1402%:%
%:%3414=1403%:%
%:%3415=1403%:%
%:%3416=1404%:%
%:%3417=1405%:%
%:%3424=1406%:%
%:%3425=1406%:%
%:%3426=1407%:%
%:%3427=1407%:%
%:%3428=1408%:%
%:%3429=1408%:%
%:%3430=1408%:%
%:%3431=1409%:%
%:%3432=1409%:%
%:%3433=1409%:%
%:%3434=1410%:%
%:%3435=1410%:%
%:%3436=1411%:%
%:%3437=1411%:%
%:%3438=1412%:%
%:%3439=1412%:%
%:%3440=1413%:%
%:%3441=1413%:%
%:%3442=1413%:%
%:%3443=1414%:%
%:%3444=1415%:%
%:%3445=1415%:%
%:%3446=1416%:%
%:%3447=1416%:%
%:%3448=1417%:%
%:%3449=1417%:%
%:%3450=1418%:%
%:%3451=1418%:%
%:%3452=1419%:%
%:%3453=1419%:%
%:%3454=1420%:%
%:%3455=1420%:%
%:%3456=1420%:%
%:%3457=1421%:%
%:%3458=1421%:%
%:%3459=1422%:%
%:%3460=1422%:%
%:%3461=1422%:%
%:%3462=1423%:%
%:%3463=1423%:%
%:%3464=1423%:%
%:%3465=1424%:%
%:%3466=1424%:%
%:%3467=1424%:%
%:%3468=1425%:%
%:%3469=1425%:%
%:%3470=1425%:%
%:%3471=1426%:%
%:%3472=1427%:%
%:%3473=1427%:%
%:%3474=1428%:%
%:%3475=1428%:%
%:%3476=1429%:%
%:%3477=1429%:%
%:%3478=1430%:%
%:%3479=1430%:%
%:%3480=1430%:%
%:%3481=1431%:%
%:%3482=1431%:%
%:%3483=1431%:%
%:%3484=1432%:%
%:%3485=1432%:%
%:%3486=1433%:%
%:%3487=1433%:%
%:%3488=1433%:%
%:%3489=1434%:%
%:%3490=1434%:%
%:%3491=1435%:%
%:%3492=1435%:%
%:%3493=1435%:%
%:%3494=1436%:%
%:%3495=1436%:%
%:%3496=1436%:%
%:%3497=1437%:%
%:%3498=1437%:%
%:%3499=1437%:%
%:%3500=1438%:%
%:%3501=1438%:%
%:%3502=1438%:%
%:%3503=1439%:%
%:%3504=1439%:%
%:%3505=1440%:%
%:%3506=1440%:%
%:%3507=1440%:%
%:%3508=1441%:%
%:%3509=1441%:%
%:%3510=1441%:%
%:%3511=1442%:%
%:%3512=1443%:%
%:%3513=1443%:%
%:%3514=1444%:%
%:%3515=1445%:%
%:%3516=1445%:%
%:%3517=1445%:%
%:%3518=1446%:%
%:%3519=1446%:%
%:%3520=1447%:%
%:%3521=1447%:%
%:%3522=1447%:%
%:%3523=1448%:%
%:%3524=1448%:%
%:%3525=1448%:%
%:%3526=1449%:%
%:%3527=1449%:%
%:%3528=1449%:%
%:%3529=1450%:%
%:%3530=1450%:%
%:%3531=1450%:%
%:%3532=1451%:%
%:%3533=1452%:%
%:%3534=1452%:%
%:%3535=1453%:%
%:%3536=1453%:%
%:%3537=1454%:%
%:%3538=1454%:%
%:%3539=1455%:%
%:%3540=1455%:%
%:%3541=1455%:%
%:%3542=1456%:%
%:%3543=1456%:%
%:%3544=1456%:%
%:%3545=1457%:%
%:%3546=1457%:%
%:%3547=1458%:%
%:%3548=1458%:%
%:%3549=1458%:%
%:%3550=1459%:%
%:%3551=1459%:%
%:%3552=1460%:%
%:%3553=1460%:%
%:%3554=1460%:%
%:%3555=1461%:%
%:%3556=1461%:%
%:%3557=1461%:%
%:%3558=1462%:%
%:%3559=1462%:%
%:%3560=1462%:%
%:%3561=1463%:%
%:%3562=1463%:%
%:%3563=1463%:%
%:%3564=1464%:%
%:%3565=1464%:%
%:%3566=1465%:%
%:%3567=1465%:%
%:%3568=1465%:%
%:%3569=1466%:%
%:%3570=1466%:%
%:%3571=1466%:%
%:%3572=1467%:%
%:%3573=1467%:%
%:%3574=1468%:%
%:%3575=1468%:%
%:%3576=1468%:%
%:%3577=1469%:%
%:%3578=1469%:%
%:%3579=1470%:%
%:%3580=1470%:%
%:%3581=1470%:%
%:%3582=1471%:%
%:%3583=1471%:%
%:%3584=1472%:%
%:%3585=1472%:%
%:%3586=1473%:%
%:%3587=1473%:%
%:%3588=1474%:%
%:%3589=1474%:%
%:%3590=1475%:%
%:%3591=1475%:%
%:%3592=1476%:%
%:%3593=1476%:%
%:%3594=1477%:%
%:%3595=1477%:%
%:%3596=1478%:%
%:%3597=1478%:%
%:%3598=1478%:%
%:%3599=1479%:%
%:%3600=1479%:%
%:%3601=1480%:%
%:%3602=1480%:%
%:%3603=1480%:%
%:%3604=1481%:%
%:%3605=1481%:%
%:%3606=1482%:%
%:%3607=1482%:%
%:%3608=1483%:%
%:%3609=1483%:%
%:%3610=1484%:%
%:%3611=1484%:%
%:%3612=1485%:%
%:%3613=1485%:%
%:%3614=1485%:%
%:%3615=1486%:%
%:%3616=1486%:%
%:%3617=1487%:%
%:%3618=1487%:%
%:%3619=1488%:%
%:%3620=1488%:%
%:%3621=1489%:%
%:%3622=1489%:%
%:%3623=1490%:%
%:%3624=1490%:%
%:%3625=1491%:%
%:%3626=1491%:%
%:%3627=1491%:%
%:%3628=1492%:%
%:%3629=1492%:%
%:%3630=1493%:%
%:%3631=1493%:%
%:%3632=1493%:%
%:%3633=1494%:%
%:%3634=1494%:%
%:%3635=1495%:%
%:%3636=1495%:%
%:%3637=1495%:%
%:%3638=1496%:%
%:%3639=1496%:%
%:%3640=1496%:%
%:%3641=1497%:%
%:%3642=1497%:%
%:%3643=1498%:%
%:%3644=1498%:%
%:%3645=1499%:%
%:%3651=1499%:%
%:%3654=1500%:%
%:%3655=1501%:%
%:%3656=1501%:%
%:%3657=1502%:%
%:%3658=1503%:%
%:%3661=1504%:%
%:%3665=1504%:%
%:%3666=1504%:%
%:%3667=1505%:%
%:%3668=1505%:%
%:%3673=1505%:%
%:%3676=1506%:%
%:%3677=1507%:%
%:%3678=1507%:%
%:%3679=1508%:%
%:%3680=1509%:%
%:%3683=1510%:%
%:%3687=1510%:%
%:%3688=1510%:%
%:%3689=1511%:%
%:%3690=1511%:%
%:%3704=1513%:%
%:%3714=1515%:%
%:%3715=1515%:%
%:%3716=1516%:%
%:%3720=1520%:%
%:%3722=1521%:%
%:%3723=1521%:%
%:%3724=1522%:%
%:%3725=1523%:%
%:%3726=1524%:%
%:%3727=1524%:%
%:%3728=1525%:%
%:%3731=1526%:%
%:%3735=1526%:%
%:%3736=1526%:%
%:%3741=1526%:%
%:%3744=1527%:%
%:%3745=1528%:%
%:%3746=1528%:%
%:%3747=1529%:%
%:%3748=1530%:%
%:%3751=1531%:%
%:%3755=1531%:%
%:%3756=1531%:%
%:%3757=1531%:%
%:%3762=1531%:%
%:%3765=1532%:%
%:%3766=1533%:%
%:%3767=1533%:%
%:%3768=1534%:%
%:%3769=1535%:%
%:%3770=1536%:%
%:%3771=1536%:%
%:%3772=1537%:%
%:%3775=1538%:%
%:%3779=1538%:%
%:%3780=1538%:%
%:%3781=1538%:%
%:%3786=1538%:%
%:%3789=1539%:%
%:%3790=1540%:%
%:%3791=1540%:%
%:%3792=1541%:%
%:%3793=1542%:%
%:%3796=1543%:%
%:%3800=1543%:%
%:%3801=1543%:%
%:%3802=1543%:%
%:%3807=1543%:%
%:%3810=1544%:%
%:%3811=1545%:%
%:%3812=1545%:%
%:%3813=1546%:%
%:%3814=1547%:%
%:%3817=1548%:%
%:%3821=1548%:%
%:%3822=1548%:%
%:%3827=1548%:%
%:%3830=1549%:%
%:%3831=1550%:%
%:%3832=1550%:%
%:%3833=1551%:%
%:%3834=1552%:%
%:%3837=1553%:%
%:%3841=1553%:%
%:%3842=1553%:%
%:%3843=1553%:%
%:%3852=1555%:%
%:%3854=1556%:%
%:%3855=1556%:%
%:%3856=1557%:%
%:%3857=1558%:%
%:%3864=1559%:%
%:%3865=1559%:%
%:%3866=1560%:%
%:%3867=1560%:%
%:%3868=1561%:%
%:%3869=1561%:%
%:%3870=1562%:%
%:%3871=1562%:%
%:%3872=1563%:%
%:%3873=1563%:%
%:%3874=1564%:%
%:%3875=1564%:%
%:%3876=1565%:%
%:%3877=1565%:%
%:%3878=1566%:%
%:%3879=1566%:%
%:%3880=1567%:%
%:%3881=1567%:%
%:%3882=1568%:%
%:%3883=1568%:%
%:%3884=1568%:%
%:%3885=1569%:%
%:%3886=1569%:%
%:%3887=1569%:%
%:%3888=1570%:%
%:%3889=1571%:%
%:%3890=1571%:%
%:%3891=1572%:%
%:%3892=1572%:%
%:%3893=1573%:%
%:%3894=1573%:%
%:%3895=1574%:%
%:%3896=1574%:%
%:%3897=1575%:%
%:%3898=1575%:%
%:%3899=1576%:%
%:%3900=1576%:%
%:%3901=1576%:%
%:%3902=1577%:%
%:%3903=1577%:%
%:%3904=1578%:%
%:%3905=1578%:%
%:%3906=1578%:%
%:%3907=1579%:%
%:%3908=1579%:%
%:%3909=1580%:%
%:%3910=1580%:%
%:%3911=1581%:%
%:%3912=1582%:%
%:%3913=1583%:%
%:%3914=1583%:%
%:%3915=1584%:%
%:%3916=1584%:%
%:%3917=1584%:%
%:%3918=1585%:%
%:%3919=1585%:%
%:%3920=1586%:%
%:%3921=1586%:%
%:%3922=1587%:%
%:%3923=1587%:%
%:%3924=1588%:%
%:%3925=1588%:%
%:%3926=1589%:%
%:%3927=1589%:%
%:%3928=1590%:%
%:%3929=1590%:%
%:%3930=1591%:%
%:%3931=1591%:%
%:%3932=1592%:%
%:%3933=1592%:%
%:%3934=1593%:%
%:%3935=1593%:%
%:%3936=1594%:%
%:%3937=1594%:%
%:%3938=1595%:%
%:%3939=1595%:%
%:%3940=1596%:%
%:%3941=1596%:%
%:%3942=1596%:%
%:%3943=1597%:%
%:%3944=1597%:%
%:%3945=1597%:%
%:%3946=1598%:%
%:%3947=1598%:%
%:%3948=1599%:%
%:%3949=1599%:%
%:%3955=1605%:%
%:%3956=1606%:%
%:%3957=1606%:%
%:%3958=1607%:%
%:%3959=1607%:%
%:%3960=1608%:%
%:%3966=1608%:%
%:%3969=1609%:%
%:%3970=1610%:%
%:%3971=1610%:%
%:%3972=1611%:%
%:%3973=1612%:%
%:%3980=1613%:%
%:%3981=1613%:%
%:%3982=1614%:%
%:%3983=1614%:%
%:%3984=1615%:%
%:%3985=1615%:%
%:%3986=1615%:%
%:%3987=1616%:%
%:%3988=1616%:%
%:%3989=1617%:%
%:%3990=1617%:%
%:%3991=1617%:%
%:%3992=1618%:%
%:%3993=1618%:%
%:%3994=1619%:%
%:%3995=1619%:%
%:%3996=1620%:%
%:%3997=1620%:%
%:%3998=1621%:%
%:%3999=1621%:%
%:%4000=1622%:%
%:%4001=1622%:%
%:%4002=1622%:%
%:%4003=1623%:%
%:%4004=1623%:%
%:%4005=1623%:%
%:%4006=1624%:%
%:%4007=1624%:%
%:%4008=1624%:%
%:%4009=1625%:%
%:%4010=1625%:%
%:%4011=1625%:%
%:%4012=1626%:%
%:%4013=1626%:%
%:%4014=1626%:%
%:%4015=1627%:%
%:%4016=1627%:%
%:%4017=1628%:%
%:%4018=1628%:%
%:%4019=1629%:%
%:%4020=1629%:%
%:%4021=1630%:%
%:%4022=1630%:%
%:%4023=1631%:%
%:%4024=1631%:%
%:%4025=1632%:%
%:%4026=1632%:%
%:%4027=1632%:%
%:%4028=1632%:%
%:%4029=1633%:%
%:%4030=1633%:%
%:%4031=1634%:%
%:%4032=1634%:%
%:%4033=1634%:%
%:%4034=1634%:%
%:%4035=1635%:%
%:%4036=1635%:%
%:%4037=1636%:%
%:%4038=1636%:%
%:%4039=1637%:%
%:%4040=1637%:%
%:%4041=1637%:%
%:%4042=1638%:%
%:%4043=1638%:%
%:%4044=1638%:%
%:%4045=1639%:%
%:%4046=1639%:%
%:%4047=1640%:%
%:%4048=1640%:%
%:%4049=1640%:%
%:%4050=1641%:%
%:%4051=1641%:%
%:%4052=1641%:%
%:%4053=1642%:%
%:%4054=1642%:%
%:%4055=1642%:%
%:%4056=1643%:%
%:%4057=1643%:%
%:%4058=1644%:%
%:%4059=1644%:%
%:%4060=1644%:%
%:%4061=1645%:%
%:%4062=1645%:%
%:%4063=1645%:%
%:%4064=1646%:%
%:%4065=1646%:%
%:%4066=1646%:%
%:%4067=1647%:%
%:%4068=1647%:%
%:%4069=1648%:%
%:%4070=1648%:%
%:%4071=1648%:%
%:%4072=1649%:%
%:%4073=1649%:%
%:%4074=1650%:%
%:%4075=1650%:%
%:%4076=1650%:%
%:%4077=1651%:%
%:%4078=1651%:%
%:%4079=1651%:%
%:%4080=1652%:%
%:%4081=1652%:%
%:%4082=1653%:%
%:%4083=1653%:%
%:%4084=1653%:%
%:%4085=1654%:%
%:%4086=1654%:%
%:%4087=1655%:%
%:%4088=1655%:%
%:%4089=1656%:%
%:%4090=1656%:%
%:%4091=1657%:%
%:%4092=1657%:%
%:%4093=1658%:%
%:%4103=1660%:%
%:%4105=1661%:%
%:%4106=1661%:%
%:%4107=1662%:%
%:%4108=1663%:%
%:%4109=1664%:%
%:%4116=1665%:%
%:%4117=1665%:%
%:%4118=1666%:%
%:%4119=1666%:%
%:%4120=1667%:%
%:%4121=1667%:%
%:%4122=1667%:%
%:%4123=1667%:%
%:%4124=1668%:%
%:%4125=1668%:%
%:%4126=1669%:%
%:%4127=1669%:%
%:%4128=1669%:%
%:%4129=1670%:%
%:%4130=1670%:%
%:%4131=1671%:%
%:%4132=1671%:%
%:%4133=1671%:%
%:%4134=1672%:%
%:%4135=1673%:%
%:%4136=1673%:%
%:%4137=1674%:%
%:%4138=1674%:%
%:%4139=1675%:%
%:%4140=1675%:%
%:%4141=1676%:%
%:%4142=1676%:%
%:%4143=1677%:%
%:%4144=1677%:%
%:%4145=1677%:%
%:%4146=1678%:%
%:%4147=1678%:%
%:%4148=1679%:%
%:%4149=1680%:%
%:%4150=1680%:%
%:%4151=1681%:%
%:%4152=1681%:%
%:%4153=1681%:%
%:%4154=1682%:%
%:%4155=1683%:%
%:%4156=1683%:%
%:%4157=1684%:%
%:%4158=1684%:%
%:%4159=1685%:%
%:%4160=1685%:%
%:%4161=1686%:%
%:%4162=1686%:%
%:%4163=1687%:%
%:%4164=1687%:%
%:%4165=1687%:%
%:%4166=1688%:%
%:%4167=1689%:%
%:%4168=1689%:%
%:%4169=1689%:%
%:%4170=1689%:%
%:%4171=1690%:%
%:%4172=1690%:%
%:%4173=1690%:%
%:%4174=1691%:%
%:%4175=1691%:%
%:%4176=1692%:%
%:%4177=1692%:%
%:%4178=1693%:%
%:%4179=1693%:%
%:%4180=1694%:%
%:%4181=1694%:%
%:%4182=1695%:%
%:%4183=1695%:%
%:%4184=1696%:%
%:%4185=1697%:%
%:%4186=1697%:%
%:%4187=1698%:%
%:%4188=1698%:%
%:%4189=1698%:%
%:%4190=1699%:%
%:%4191=1699%:%
%:%4192=1699%:%
%:%4193=1700%:%
%:%4194=1701%:%
%:%4195=1701%:%
%:%4196=1702%:%
%:%4197=1703%:%
%:%4198=1703%:%
%:%4199=1704%:%
%:%4200=1705%:%
%:%4201=1705%:%
%:%4202=1706%:%
%:%4203=1706%:%
%:%4204=1706%:%
%:%4205=1706%:%
%:%4206=1707%:%
%:%4207=1708%:%
%:%4208=1708%:%
%:%4209=1709%:%
%:%4210=1709%:%
%:%4211=1710%:%
%:%4212=1710%:%
%:%4213=1711%:%
%:%4214=1711%:%
%:%4215=1712%:%
%:%4216=1712%:%
%:%4217=1713%:%
%:%4218=1713%:%
%:%4219=1714%:%
%:%4220=1714%:%
%:%4221=1714%:%
%:%4222=1715%:%
%:%4223=1715%:%
%:%4224=1715%:%
%:%4225=1715%:%
%:%4226=1716%:%
%:%4227=1716%:%
%:%4228=1716%:%
%:%4229=1717%:%
%:%4230=1717%:%
%:%4231=1717%:%
%:%4232=1718%:%
%:%4233=1718%:%
%:%4234=1718%:%
%:%4235=1718%:%
%:%4236=1718%:%
%:%4237=1719%:%
%:%4238=1719%:%
%:%4239=1720%:%
%:%4240=1721%:%
%:%4241=1721%:%
%:%4242=1722%:%
%:%4243=1722%:%
%:%4244=1723%:%
%:%4245=1723%:%
%:%4246=1724%:%
%:%4247=1724%:%
%:%4248=1725%:%
%:%4249=1725%:%
%:%4250=1725%:%
%:%4251=1726%:%
%:%4252=1726%:%
%:%4253=1727%:%
%:%4254=1727%:%
%:%4255=1727%:%
%:%4256=1728%:%
%:%4257=1728%:%
%:%4258=1729%:%
%:%4259=1729%:%
%:%4260=1729%:%
%:%4261=1729%:%
%:%4262=1729%:%
%:%4263=1730%:%
%:%4264=1730%:%
%:%4265=1731%:%
%:%4266=1731%:%
%:%4267=1732%:%
%:%4268=1732%:%
%:%4269=1732%:%
%:%4270=1733%:%
%:%4271=1733%:%
%:%4272=1733%:%
%:%4273=1734%:%
%:%4274=1734%:%
%:%4275=1734%:%
%:%4276=1735%:%
%:%4277=1735%:%
%:%4278=1736%:%
%:%4279=1736%:%
%:%4280=1737%:%
%:%4281=1737%:%
%:%4282=1737%:%
%:%4283=1738%:%
%:%4284=1738%:%
%:%4285=1739%:%
%:%4286=1739%:%
%:%4287=1739%:%
%:%4288=1740%:%
%:%4289=1740%:%
%:%4290=1741%:%
%:%4291=1741%:%
%:%4292=1742%:%
%:%4293=1742%:%
%:%4294=1743%:%
%:%4295=1743%:%
%:%4296=1744%:%
%:%4297=1744%:%
%:%4298=1745%:%
%:%4299=1745%:%
%:%4300=1746%:%
%:%4301=1746%:%
%:%4302=1747%:%
%:%4303=1747%:%
%:%4304=1748%:%
%:%4305=1748%:%
%:%4306=1749%:%
%:%4307=1749%:%
%:%4308=1750%:%
%:%4309=1750%:%
%:%4310=1751%:%
%:%4311=1751%:%
%:%4312=1752%:%
%:%4313=1753%:%
%:%4314=1753%:%
%:%4315=1754%:%
%:%4316=1754%:%
%:%4317=1754%:%
%:%4318=1754%:%
%:%4319=1755%:%
%:%4320=1755%:%
%:%4321=1756%:%
%:%4322=1756%:%
%:%4323=1756%:%
%:%4324=1757%:%
%:%4325=1757%:%
%:%4326=1758%:%
%:%4327=1758%:%
%:%4328=1759%:%
%:%4329=1759%:%
%:%4330=1760%:%
%:%4331=1760%:%
%:%4332=1761%:%
%:%4333=1761%:%
%:%4334=1762%:%
%:%4335=1762%:%
%:%4336=1762%:%
%:%4337=1763%:%
%:%4338=1763%:%
%:%4339=1763%:%
%:%4340=1764%:%
%:%4341=1764%:%
%:%4342=1765%:%
%:%4343=1765%:%
%:%4344=1765%:%
%:%4345=1766%:%
%:%4346=1766%:%
%:%4347=1767%:%
%:%4348=1767%:%
%:%4349=1767%:%
%:%4350=1768%:%
%:%4351=1768%:%
%:%4352=1769%:%
%:%4353=1769%:%
%:%4354=1769%:%
%:%4355=1770%:%
%:%4356=1770%:%
%:%4357=1771%:%
%:%4358=1771%:%
%:%4359=1771%:%
%:%4360=1771%:%
%:%4361=1771%:%
%:%4362=1772%:%
%:%4363=1772%:%
%:%4364=1773%:%
%:%4365=1773%:%
%:%4366=1773%:%
%:%4367=1774%:%
%:%4368=1774%:%
%:%4369=1775%:%
%:%4375=1775%:%
%:%4380=1776%:%
%:%4385=1777%:%
